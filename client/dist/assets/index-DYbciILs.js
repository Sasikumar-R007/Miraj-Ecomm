function nb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function rb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fx={exports:{}},kc={},Bx={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=Symbol.for("react.element"),sb=Symbol.for("react.portal"),ib=Symbol.for("react.fragment"),ob=Symbol.for("react.strict_mode"),ab=Symbol.for("react.profiler"),lb=Symbol.for("react.provider"),cb=Symbol.for("react.context"),ub=Symbol.for("react.forward_ref"),db=Symbol.for("react.suspense"),hb=Symbol.for("react.memo"),fb=Symbol.for("react.lazy"),bg=Symbol.iterator;function mb(t){return t===null||typeof t!="object"?null:(t=bg&&t[bg]||t["@@iterator"],typeof t=="function"?t:null)}var Ux={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$x=Object.assign,zx={};function bi(t,e,n){this.props=t,this.context=e,this.refs=zx,this.updater=n||Ux}bi.prototype.isReactComponent={};bi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wx(){}Wx.prototype=bi.prototype;function pf(t,e,n){this.props=t,this.context=e,this.refs=zx,this.updater=n||Ux}var gf=pf.prototype=new Wx;gf.constructor=pf;$x(gf,bi.prototype);gf.isPureReactComponent=!0;var Eg=Array.isArray,Hx=Object.prototype.hasOwnProperty,yf={current:null},qx={key:!0,ref:!0,__self:!0,__source:!0};function Gx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Hx.call(e,r)&&!qx.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ca,type:t,key:i,ref:o,props:s,_owner:yf.current}}function pb(t,e){return{$$typeof:ca,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ca}function gb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jg=/\/+/g;function Bu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gb(""+t.key):e.toString(36)}function vl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ca:case sb:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Bu(o,0):r,Eg(s)?(n="",t!=null&&(n=t.replace(jg,"$&/")+"/"),vl(s,e,n,"",function(d){return d})):s!=null&&(xf(s)&&(s=pb(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(jg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Eg(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+Bu(i,l);o+=vl(i,e,n,u,s)}else if(u=mb(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+Bu(i,l++),o+=vl(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ha(t,e,n){if(t==null)return t;var r=[],s=0;return vl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function yb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bt={current:null},wl={transition:null},xb={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:wl,ReactCurrentOwner:yf};function Kx(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:Ha,forEach:function(t,e,n){Ha(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ha(t,function(){e++}),e},toArray:function(t){return Ha(t,function(e){return e})||[]},only:function(t){if(!xf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=bi;ie.Fragment=ib;ie.Profiler=ab;ie.PureComponent=pf;ie.StrictMode=ob;ie.Suspense=db;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xb;ie.act=Kx;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$x({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=yf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Hx.call(e,u)&&!qx.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:ca,type:t.type,key:s,ref:i,props:r,_owner:o}};ie.createContext=function(t){return t={$$typeof:cb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lb,_context:t},t.Consumer=t};ie.createElement=Gx;ie.createFactory=function(t){var e=Gx.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:ub,render:t}};ie.isValidElement=xf;ie.lazy=function(t){return{$$typeof:fb,_payload:{_status:-1,_result:t},_init:yb}};ie.memo=function(t,e){return{$$typeof:hb,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=wl.transition;wl.transition={};try{t()}finally{wl.transition=e}};ie.unstable_act=Kx;ie.useCallback=function(t,e){return bt.current.useCallback(t,e)};ie.useContext=function(t){return bt.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return bt.current.useDeferredValue(t)};ie.useEffect=function(t,e){return bt.current.useEffect(t,e)};ie.useId=function(){return bt.current.useId()};ie.useImperativeHandle=function(t,e,n){return bt.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return bt.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return bt.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return bt.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return bt.current.useReducer(t,e,n)};ie.useRef=function(t){return bt.current.useRef(t)};ie.useState=function(t){return bt.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return bt.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return bt.current.useTransition()};ie.version="18.3.1";Bx.exports=ie;var y=Bx.exports;const Vr=rb(y),vb=nb({__proto__:null,default:Vr},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb=y,_b=Symbol.for("react.element"),bb=Symbol.for("react.fragment"),Eb=Object.prototype.hasOwnProperty,jb=wb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nb={key:!0,ref:!0,__self:!0,__source:!0};function Qx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Eb.call(e,r)&&!Nb.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:_b,type:t,key:i,ref:o,props:s,_owner:jb.current}}kc.Fragment=bb;kc.jsx=Qx;kc.jsxs=Qx;Fx.exports=kc;var a=Fx.exports,Ld={},Yx={exports:{}},$t={},Xx={exports:{}},Jx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,Q){var Z=W.length;W.push(Q);e:for(;0<Z;){var L=Z-1>>>1,G=W[L];if(0<s(G,Q))W[L]=Q,W[Z]=G,Z=L;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Q=W[0],Z=W.pop();if(Z!==Q){W[0]=Z;e:for(var L=0,G=W.length,ae=G>>>1;L<ae;){var pt=2*(L+1)-1,jt=W[pt],qe=pt+1,gt=W[qe];if(0>s(jt,Z))qe<G&&0>s(gt,jt)?(W[L]=gt,W[qe]=Z,L=qe):(W[L]=jt,W[pt]=Z,L=pt);else if(qe<G&&0>s(gt,Z))W[L]=gt,W[qe]=Z,L=qe;else break e}}return Q}function s(W,Q){var Z=W.sortIndex-Q.sortIndex;return Z!==0?Z:W.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,f=null,p=3,x=!1,j=!1,P=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=W)r(d),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=n(d)}}function I(W){if(P=!1,_(W),!j)if(n(u)!==null)j=!0,xe(V);else{var Q=n(d);Q!==null&&Me(I,Q.startTime-W)}}function V(W,Q){j=!1,P&&(P=!1,E(v),v=-1),x=!0;var Z=p;try{for(_(Q),f=n(u);f!==null&&(!(f.expirationTime>Q)||W&&!A());){var L=f.callback;if(typeof L=="function"){f.callback=null,p=f.priorityLevel;var G=L(f.expirationTime<=Q);Q=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(u)&&r(u),_(Q)}else r(u);f=n(u)}if(f!==null)var ae=!0;else{var pt=n(d);pt!==null&&Me(I,pt.startTime-Q),ae=!1}return ae}finally{f=null,p=Z,x=!1}}var F=!1,N=null,v=-1,S=5,T=-1;function A(){return!(t.unstable_now()-T<S)}function R(){if(N!==null){var W=t.unstable_now();T=W;var Q=!0;try{Q=N(!0,W)}finally{Q?k():(F=!1,N=null)}}else F=!1}var k;if(typeof w=="function")k=function(){w(R)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Ee=se.port2;se.port1.onmessage=R,k=function(){Ee.postMessage(null)}}else k=function(){C(R,0)};function xe(W){N=W,F||(F=!0,k())}function Me(W,Q){v=C(function(){W(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){j||x||(j=!0,xe(V))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(W){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var Z=p;p=Q;try{return W()}finally{p=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,Q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Z=p;p=W;try{return Q()}finally{p=Z}},t.unstable_scheduleCallback=function(W,Q,Z){var L=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?L+Z:L):Z=L,W){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Z+G,W={id:h++,callback:Q,priorityLevel:W,startTime:Z,expirationTime:G,sortIndex:-1},Z>L?(W.sortIndex=Z,e(d,W),n(u)===null&&W===n(d)&&(P?(E(v),v=-1):P=!0,Me(I,Z-L))):(W.sortIndex=G,e(u,W),j||x||(j=!0,xe(V))),W},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(W){var Q=p;return function(){var Z=p;p=Q;try{return W.apply(this,arguments)}finally{p=Z}}}})(Jx);Xx.exports=Jx;var Tb=Xx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb=y,Bt=Tb;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zx=new Set,Ao={};function vs(t,e){oi(t,e),oi(t+"Capture",e)}function oi(t,e){for(Ao[t]=e,t=0;t<e.length;t++)Zx.add(e[t])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Md=Object.prototype.hasOwnProperty,Cb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ng={},Tg={};function Pb(t){return Md.call(Tg,t)?!0:Md.call(Ng,t)?!1:Cb.test(t)?Tg[t]=!0:(Ng[t]=!0,!1)}function kb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ab(t,e,n,r){if(e===null||typeof e>"u"||kb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Et(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nt[t]=new Et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nt[e]=new Et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nt[t]=new Et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nt[t]=new Et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nt[t]=new Et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nt[t]=new Et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nt[t]=new Et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nt[t]=new Et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nt[t]=new Et(t,5,!1,t.toLowerCase(),null,!1,!1)});var vf=/[\-:]([a-z])/g;function wf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vf,wf);nt[e]=new Et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vf,wf);nt[e]=new Et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vf,wf);nt[e]=new Et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nt[t]=new Et(t,1,!1,t.toLowerCase(),null,!1,!1)});nt.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nt[t]=new Et(t,1,!1,t.toLowerCase(),null,!0,!0)});function _f(t,e,n,r){var s=nt.hasOwnProperty(e)?nt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ab(e,n,s,r)&&(n=null),r||s===null?Pb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qn=Sb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qa=Symbol.for("react.element"),Ls=Symbol.for("react.portal"),Ms=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),Od=Symbol.for("react.profiler"),ev=Symbol.for("react.provider"),tv=Symbol.for("react.context"),Ef=Symbol.for("react.forward_ref"),Fd=Symbol.for("react.suspense"),Bd=Symbol.for("react.suspense_list"),jf=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),nv=Symbol.for("react.offscreen"),Sg=Symbol.iterator;function Gi(t){return t===null||typeof t!="object"?null:(t=Sg&&t[Sg]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,Uu;function so(t){if(Uu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uu=e&&e[1]||""}return`
`+Uu+t}var $u=!1;function zu(t,e){if(!t||$u)return"";$u=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{$u=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?so(t):""}function Ib(t){switch(t.tag){case 5:return so(t.type);case 16:return so("Lazy");case 13:return so("Suspense");case 19:return so("SuspenseList");case 0:case 2:case 15:return t=zu(t.type,!1),t;case 11:return t=zu(t.type.render,!1),t;case 1:return t=zu(t.type,!0),t;default:return""}}function Ud(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ms:return"Fragment";case Ls:return"Portal";case Od:return"Profiler";case bf:return"StrictMode";case Fd:return"Suspense";case Bd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tv:return(t.displayName||"Context")+".Consumer";case ev:return(t._context.displayName||"Context")+".Provider";case Ef:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jf:return e=t.displayName||null,e!==null?e:Ud(t.type)||"Memo";case nr:e=t._payload,t=t._init;try{return Ud(t(e))}catch{}}return null}function Rb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ud(e);case 8:return e===bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Vb(t){var e=rv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ga(t){t._valueTracker||(t._valueTracker=Vb(t))}function sv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $d(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Cg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Sr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iv(t,e){e=e.checked,e!=null&&_f(t,"checked",e,!1)}function zd(t,e){iv(t,e);var n=Sr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wd(t,e.type,Sr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Pg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wd(t,e,n){(e!=="number"||Fl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var io=Array.isArray;function Js(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Sr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Hd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(io(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Sr(n)}}function ov(t,e){var n=Sr(e.value),r=Sr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ag(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function av(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?av(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ka,lv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ka=Ka||document.createElement("div"),Ka.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ka.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Io(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Db=["Webkit","ms","Moz","O"];Object.keys(fo).forEach(function(t){Db.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fo[e]=fo[t]})});function cv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fo.hasOwnProperty(t)&&fo[t]?(""+e).trim():e+"px"}function uv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Lb=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gd(t,e){if(e){if(Lb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Kd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qd=null;function Nf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yd=null,Zs=null,ei=null;function Ig(t){if(t=ha(t)){if(typeof Yd!="function")throw Error($(280));var e=t.stateNode;e&&(e=Dc(e),Yd(t.stateNode,t.type,e))}}function dv(t){Zs?ei?ei.push(t):ei=[t]:Zs=t}function hv(){if(Zs){var t=Zs,e=ei;if(ei=Zs=null,Ig(t),e)for(t=0;t<e.length;t++)Ig(e[t])}}function fv(t,e){return t(e)}function mv(){}var Wu=!1;function pv(t,e,n){if(Wu)return t(e,n);Wu=!0;try{return fv(t,e,n)}finally{Wu=!1,(Zs!==null||ei!==null)&&(mv(),hv())}}function Ro(t,e){var n=t.stateNode;if(n===null)return null;var r=Dc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Xd=!1;if(Mn)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){Xd=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{Xd=!1}function Mb(t,e,n,r,s,i,o,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var mo=!1,Bl=null,Ul=!1,Jd=null,Ob={onError:function(t){mo=!0,Bl=t}};function Fb(t,e,n,r,s,i,o,l,u){mo=!1,Bl=null,Mb.apply(Ob,arguments)}function Bb(t,e,n,r,s,i,o,l,u){if(Fb.apply(this,arguments),mo){if(mo){var d=Bl;mo=!1,Bl=null}else throw Error($(198));Ul||(Ul=!0,Jd=d)}}function ws(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rg(t){if(ws(t)!==t)throw Error($(188))}function Ub(t){var e=t.alternate;if(!e){if(e=ws(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Rg(s),t;if(i===r)return Rg(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function yv(t){return t=Ub(t),t!==null?xv(t):null}function xv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xv(t);if(e!==null)return e;t=t.sibling}return null}var vv=Bt.unstable_scheduleCallback,Vg=Bt.unstable_cancelCallback,$b=Bt.unstable_shouldYield,zb=Bt.unstable_requestPaint,Ve=Bt.unstable_now,Wb=Bt.unstable_getCurrentPriorityLevel,Tf=Bt.unstable_ImmediatePriority,wv=Bt.unstable_UserBlockingPriority,$l=Bt.unstable_NormalPriority,Hb=Bt.unstable_LowPriority,_v=Bt.unstable_IdlePriority,Ac=null,pn=null;function qb(t){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Ac,t,void 0,(t.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:Qb,Gb=Math.log,Kb=Math.LN2;function Qb(t){return t>>>=0,t===0?32:31-(Gb(t)/Kb|0)|0}var Qa=64,Ya=4194304;function oo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=oo(l):(i&=o,i!==0&&(r=oo(i)))}else o=n&~s,o!==0?r=oo(o):i!==0&&(r=oo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-on(e),s=1<<n,r|=t[n],e&=~s;return r}function Yb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-on(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=Yb(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function Zd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bv(){var t=Qa;return Qa<<=1,!(Qa&4194240)&&(Qa=64),t}function Hu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ua(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-on(e),t[e]=n}function Jb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-on(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Sf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-on(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var fe=0;function Ev(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jv,Cf,Nv,Tv,Sv,eh=!1,Xa=[],hr=null,fr=null,mr=null,Vo=new Map,Do=new Map,ir=[],Zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dg(t,e){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Vo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(e.pointerId)}}function Qi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ha(e),e!==null&&Cf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function eE(t,e,n,r,s){switch(e){case"focusin":return hr=Qi(hr,t,e,n,r,s),!0;case"dragenter":return fr=Qi(fr,t,e,n,r,s),!0;case"mouseover":return mr=Qi(mr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vo.set(i,Qi(Vo.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Do.set(i,Qi(Do.get(i)||null,t,e,n,r,s)),!0}return!1}function Cv(t){var e=es(t.target);if(e!==null){var n=ws(e);if(n!==null){if(e=n.tag,e===13){if(e=gv(n),e!==null){t.blockedOn=e,Sv(t.priority,function(){Nv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _l(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=th(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qd=r,n.target.dispatchEvent(r),Qd=null}else return e=ha(n),e!==null&&Cf(e),t.blockedOn=n,!1;e.shift()}return!0}function Lg(t,e,n){_l(t)&&n.delete(e)}function tE(){eh=!1,hr!==null&&_l(hr)&&(hr=null),fr!==null&&_l(fr)&&(fr=null),mr!==null&&_l(mr)&&(mr=null),Vo.forEach(Lg),Do.forEach(Lg)}function Yi(t,e){t.blockedOn===e&&(t.blockedOn=null,eh||(eh=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,tE)))}function Lo(t){function e(s){return Yi(s,t)}if(0<Xa.length){Yi(Xa[0],t);for(var n=1;n<Xa.length;n++){var r=Xa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hr!==null&&Yi(hr,t),fr!==null&&Yi(fr,t),mr!==null&&Yi(mr,t),Vo.forEach(e),Do.forEach(e),n=0;n<ir.length;n++)r=ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ir.length&&(n=ir[0],n.blockedOn===null);)Cv(n),n.blockedOn===null&&ir.shift()}var ti=Qn.ReactCurrentBatchConfig,Wl=!0;function nE(t,e,n,r){var s=fe,i=ti.transition;ti.transition=null;try{fe=1,Pf(t,e,n,r)}finally{fe=s,ti.transition=i}}function rE(t,e,n,r){var s=fe,i=ti.transition;ti.transition=null;try{fe=4,Pf(t,e,n,r)}finally{fe=s,ti.transition=i}}function Pf(t,e,n,r){if(Wl){var s=th(t,e,n,r);if(s===null)td(t,e,r,Hl,n),Dg(t,r);else if(eE(s,t,e,n,r))r.stopPropagation();else if(Dg(t,r),e&4&&-1<Zb.indexOf(t)){for(;s!==null;){var i=ha(s);if(i!==null&&jv(i),i=th(t,e,n,r),i===null&&td(t,e,r,Hl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else td(t,e,r,null,n)}}var Hl=null;function th(t,e,n,r){if(Hl=null,t=Nf(r),t=es(t),t!==null)if(e=ws(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hl=t,null}function Pv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wb()){case Tf:return 1;case wv:return 4;case $l:case Hb:return 16;case _v:return 536870912;default:return 16}default:return 16}}var lr=null,kf=null,bl=null;function kv(){if(bl)return bl;var t,e=kf,n=e.length,r,s="value"in lr?lr.value:lr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return bl=s.slice(t,1<r?1-r:void 0)}function El(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ja(){return!0}function Mg(){return!1}function zt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ja:Mg,this.isPropagationStopped=Mg,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ja)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ja)},persist:function(){},isPersistent:Ja}),e}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Af=zt(Ei),da=Pe({},Ei,{view:0,detail:0}),sE=zt(da),qu,Gu,Xi,Ic=Pe({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:If,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xi&&(Xi&&t.type==="mousemove"?(qu=t.screenX-Xi.screenX,Gu=t.screenY-Xi.screenY):Gu=qu=0,Xi=t),qu)},movementY:function(t){return"movementY"in t?t.movementY:Gu}}),Og=zt(Ic),iE=Pe({},Ic,{dataTransfer:0}),oE=zt(iE),aE=Pe({},da,{relatedTarget:0}),Ku=zt(aE),lE=Pe({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),cE=zt(lE),uE=Pe({},Ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dE=zt(uE),hE=Pe({},Ei,{data:0}),Fg=zt(hE),fE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pE[t])?!!e[t]:!1}function If(){return gE}var yE=Pe({},da,{key:function(t){if(t.key){var e=fE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=El(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:If,charCode:function(t){return t.type==="keypress"?El(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?El(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xE=zt(yE),vE=Pe({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bg=zt(vE),wE=Pe({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:If}),_E=zt(wE),bE=Pe({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),EE=zt(bE),jE=Pe({},Ic,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NE=zt(jE),TE=[9,13,27,32],Rf=Mn&&"CompositionEvent"in window,po=null;Mn&&"documentMode"in document&&(po=document.documentMode);var SE=Mn&&"TextEvent"in window&&!po,Av=Mn&&(!Rf||po&&8<po&&11>=po),Ug=" ",$g=!1;function Iv(t,e){switch(t){case"keyup":return TE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Os=!1;function CE(t,e){switch(t){case"compositionend":return Rv(e);case"keypress":return e.which!==32?null:($g=!0,Ug);case"textInput":return t=e.data,t===Ug&&$g?null:t;default:return null}}function PE(t,e){if(Os)return t==="compositionend"||!Rf&&Iv(t,e)?(t=kv(),bl=kf=lr=null,Os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Av&&e.locale!=="ko"?null:e.data;default:return null}}var kE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kE[t.type]:e==="textarea"}function Vv(t,e,n,r){dv(r),e=ql(e,"onChange"),0<e.length&&(n=new Af("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var go=null,Mo=null;function AE(t){Hv(t,0)}function Rc(t){var e=Us(t);if(sv(e))return t}function IE(t,e){if(t==="change")return e}var Dv=!1;if(Mn){var Qu;if(Mn){var Yu="oninput"in document;if(!Yu){var Wg=document.createElement("div");Wg.setAttribute("oninput","return;"),Yu=typeof Wg.oninput=="function"}Qu=Yu}else Qu=!1;Dv=Qu&&(!document.documentMode||9<document.documentMode)}function Hg(){go&&(go.detachEvent("onpropertychange",Lv),Mo=go=null)}function Lv(t){if(t.propertyName==="value"&&Rc(Mo)){var e=[];Vv(e,Mo,t,Nf(t)),pv(AE,e)}}function RE(t,e,n){t==="focusin"?(Hg(),go=e,Mo=n,go.attachEvent("onpropertychange",Lv)):t==="focusout"&&Hg()}function VE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rc(Mo)}function DE(t,e){if(t==="click")return Rc(e)}function LE(t,e){if(t==="input"||t==="change")return Rc(e)}function ME(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ln=typeof Object.is=="function"?Object.is:ME;function Oo(t,e){if(ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Md.call(e,s)||!ln(t[s],e[s]))return!1}return!0}function qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gg(t,e){var n=qg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qg(n)}}function Mv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ov(){for(var t=window,e=Fl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fl(t.document)}return e}function Vf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OE(t){var e=Ov(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Mv(n.ownerDocument.documentElement,n)){if(r!==null&&Vf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Gg(n,i);var o=Gg(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FE=Mn&&"documentMode"in document&&11>=document.documentMode,Fs=null,nh=null,yo=null,rh=!1;function Kg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rh||Fs==null||Fs!==Fl(r)||(r=Fs,"selectionStart"in r&&Vf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yo&&Oo(yo,r)||(yo=r,r=ql(nh,"onSelect"),0<r.length&&(e=new Af("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fs)))}function Za(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bs={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionend:Za("Transition","TransitionEnd")},Xu={},Fv={};Mn&&(Fv=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Vc(t){if(Xu[t])return Xu[t];if(!Bs[t])return t;var e=Bs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Fv)return Xu[t]=e[n];return t}var Bv=Vc("animationend"),Uv=Vc("animationiteration"),$v=Vc("animationstart"),zv=Vc("transitionend"),Wv=new Map,Qg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(t,e){Wv.set(t,e),vs(e,[t])}for(var Ju=0;Ju<Qg.length;Ju++){var Zu=Qg[Ju],BE=Zu.toLowerCase(),UE=Zu[0].toUpperCase()+Zu.slice(1);Dr(BE,"on"+UE)}Dr(Bv,"onAnimationEnd");Dr(Uv,"onAnimationIteration");Dr($v,"onAnimationStart");Dr("dblclick","onDoubleClick");Dr("focusin","onFocus");Dr("focusout","onBlur");Dr(zv,"onTransitionEnd");oi("onMouseEnter",["mouseout","mouseover"]);oi("onMouseLeave",["mouseout","mouseover"]);oi("onPointerEnter",["pointerout","pointerover"]);oi("onPointerLeave",["pointerout","pointerover"]);vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$E=new Set("cancel close invalid load scroll toggle".split(" ").concat(ao));function Yg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Bb(r,e,void 0,t),t.currentTarget=null}function Hv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Yg(s,l,d),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Yg(s,l,d),i=u}}}if(Ul)throw t=Jd,Ul=!1,Jd=null,t}function we(t,e){var n=e[lh];n===void 0&&(n=e[lh]=new Set);var r=t+"__bubble";n.has(r)||(qv(e,t,2,!1),n.add(r))}function ed(t,e,n){var r=0;e&&(r|=4),qv(n,t,r,e)}var el="_reactListening"+Math.random().toString(36).slice(2);function Fo(t){if(!t[el]){t[el]=!0,Zx.forEach(function(n){n!=="selectionchange"&&($E.has(n)||ed(n,!1,t),ed(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[el]||(e[el]=!0,ed("selectionchange",!1,e))}}function qv(t,e,n,r){switch(Pv(e)){case 1:var s=nE;break;case 4:s=rE;break;default:s=Pf}n=s.bind(null,e,n,t),s=void 0,!Xd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function td(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=es(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}pv(function(){var d=i,h=Nf(n),f=[];e:{var p=Wv.get(t);if(p!==void 0){var x=Af,j=t;switch(t){case"keypress":if(El(n)===0)break e;case"keydown":case"keyup":x=xE;break;case"focusin":j="focus",x=Ku;break;case"focusout":j="blur",x=Ku;break;case"beforeblur":case"afterblur":x=Ku;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=oE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=_E;break;case Bv:case Uv:case $v:x=cE;break;case zv:x=EE;break;case"scroll":x=sE;break;case"wheel":x=NE;break;case"copy":case"cut":case"paste":x=dE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Bg}var P=(e&4)!==0,C=!P&&t==="scroll",E=P?p!==null?p+"Capture":null:p;P=[];for(var w=d,_;w!==null;){_=w;var I=_.stateNode;if(_.tag===5&&I!==null&&(_=I,E!==null&&(I=Ro(w,E),I!=null&&P.push(Bo(w,I,_)))),C)break;w=w.return}0<P.length&&(p=new x(p,j,null,n,h),f.push({event:p,listeners:P}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",p&&n!==Qd&&(j=n.relatedTarget||n.fromElement)&&(es(j)||j[On]))break e;if((x||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,x?(j=n.relatedTarget||n.toElement,x=d,j=j?es(j):null,j!==null&&(C=ws(j),j!==C||j.tag!==5&&j.tag!==6)&&(j=null)):(x=null,j=d),x!==j)){if(P=Og,I="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(P=Bg,I="onPointerLeave",E="onPointerEnter",w="pointer"),C=x==null?p:Us(x),_=j==null?p:Us(j),p=new P(I,w+"leave",x,n,h),p.target=C,p.relatedTarget=_,I=null,es(h)===d&&(P=new P(E,w+"enter",j,n,h),P.target=_,P.relatedTarget=C,I=P),C=I,x&&j)t:{for(P=x,E=j,w=0,_=P;_;_=Is(_))w++;for(_=0,I=E;I;I=Is(I))_++;for(;0<w-_;)P=Is(P),w--;for(;0<_-w;)E=Is(E),_--;for(;w--;){if(P===E||E!==null&&P===E.alternate)break t;P=Is(P),E=Is(E)}P=null}else P=null;x!==null&&Xg(f,p,x,P,!1),j!==null&&C!==null&&Xg(f,C,j,P,!0)}}e:{if(p=d?Us(d):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var V=IE;else if(zg(p))if(Dv)V=LE;else{V=VE;var F=RE}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(V=DE);if(V&&(V=V(t,d))){Vv(f,V,n,h);break e}F&&F(t,p,d),t==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&Wd(p,"number",p.value)}switch(F=d?Us(d):window,t){case"focusin":(zg(F)||F.contentEditable==="true")&&(Fs=F,nh=d,yo=null);break;case"focusout":yo=nh=Fs=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,Kg(f,n,h);break;case"selectionchange":if(FE)break;case"keydown":case"keyup":Kg(f,n,h)}var N;if(Rf)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Os?Iv(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Av&&n.locale!=="ko"&&(Os||v!=="onCompositionStart"?v==="onCompositionEnd"&&Os&&(N=kv()):(lr=h,kf="value"in lr?lr.value:lr.textContent,Os=!0)),F=ql(d,v),0<F.length&&(v=new Fg(v,t,null,n,h),f.push({event:v,listeners:F}),N?v.data=N:(N=Rv(n),N!==null&&(v.data=N)))),(N=SE?CE(t,n):PE(t,n))&&(d=ql(d,"onBeforeInput"),0<d.length&&(h=new Fg("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=N))}Hv(f,e)})}function Bo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ql(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ro(t,n),i!=null&&r.unshift(Bo(t,i,s)),i=Ro(t,e),i!=null&&r.push(Bo(t,i,s))),t=t.return}return r}function Is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xg(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&d!==null&&(l=d,s?(u=Ro(n,i),u!=null&&o.unshift(Bo(n,u,l))):s||(u=Ro(n,i),u!=null&&o.push(Bo(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zE=/\r\n?/g,WE=/\u0000|\uFFFD/g;function Jg(t){return(typeof t=="string"?t:""+t).replace(zE,`
`).replace(WE,"")}function tl(t,e,n){if(e=Jg(e),Jg(t)!==e&&n)throw Error($(425))}function Gl(){}var sh=null,ih=null;function oh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ah=typeof setTimeout=="function"?setTimeout:void 0,HE=typeof clearTimeout=="function"?clearTimeout:void 0,Zg=typeof Promise=="function"?Promise:void 0,qE=typeof queueMicrotask=="function"?queueMicrotask:typeof Zg<"u"?function(t){return Zg.resolve(null).then(t).catch(GE)}:ah;function GE(t){setTimeout(function(){throw t})}function nd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Lo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Lo(e)}function pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function e0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ji=Math.random().toString(36).slice(2),fn="__reactFiber$"+ji,Uo="__reactProps$"+ji,On="__reactContainer$"+ji,lh="__reactEvents$"+ji,KE="__reactListeners$"+ji,QE="__reactHandles$"+ji;function es(t){var e=t[fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[On]||n[fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=e0(t);t!==null;){if(n=t[fn])return n;t=e0(t)}return e}t=n,n=t.parentNode}return null}function ha(t){return t=t[fn]||t[On],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Us(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Dc(t){return t[Uo]||null}var ch=[],$s=-1;function Lr(t){return{current:t}}function be(t){0>$s||(t.current=ch[$s],ch[$s]=null,$s--)}function ge(t,e){$s++,ch[$s]=t.current,t.current=e}var Cr={},mt=Lr(Cr),Pt=Lr(!1),ds=Cr;function ai(t,e){var n=t.type.contextTypes;if(!n)return Cr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function kt(t){return t=t.childContextTypes,t!=null}function Kl(){be(Pt),be(mt)}function t0(t,e,n){if(mt.current!==Cr)throw Error($(168));ge(mt,e),ge(Pt,n)}function Gv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,Rb(t)||"Unknown",s));return Pe({},n,r)}function Ql(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cr,ds=mt.current,ge(mt,t),ge(Pt,Pt.current),!0}function n0(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=Gv(t,e,ds),r.__reactInternalMemoizedMergedChildContext=t,be(Pt),be(mt),ge(mt,t)):be(Pt),ge(Pt,n)}var Pn=null,Lc=!1,rd=!1;function Kv(t){Pn===null?Pn=[t]:Pn.push(t)}function YE(t){Lc=!0,Kv(t)}function Mr(){if(!rd&&Pn!==null){rd=!0;var t=0,e=fe;try{var n=Pn;for(fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pn=null,Lc=!1}catch(s){throw Pn!==null&&(Pn=Pn.slice(t+1)),vv(Tf,Mr),s}finally{fe=e,rd=!1}}return null}var zs=[],Ws=0,Yl=null,Xl=0,Gt=[],Kt=0,hs=null,kn=1,An="";function Qr(t,e){zs[Ws++]=Xl,zs[Ws++]=Yl,Yl=t,Xl=e}function Qv(t,e,n){Gt[Kt++]=kn,Gt[Kt++]=An,Gt[Kt++]=hs,hs=t;var r=kn;t=An;var s=32-on(r)-1;r&=~(1<<s),n+=1;var i=32-on(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,kn=1<<32-on(e)+s|n<<s|r,An=i+t}else kn=1<<i|n<<s|r,An=t}function Df(t){t.return!==null&&(Qr(t,1),Qv(t,1,0))}function Lf(t){for(;t===Yl;)Yl=zs[--Ws],zs[Ws]=null,Xl=zs[--Ws],zs[Ws]=null;for(;t===hs;)hs=Gt[--Kt],Gt[Kt]=null,An=Gt[--Kt],Gt[Kt]=null,kn=Gt[--Kt],Gt[Kt]=null}var Ot=null,Lt=null,Ne=!1,sn=null;function Yv(t,e){var n=Qt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function r0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ot=t,Lt=pr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ot=t,Lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hs!==null?{id:kn,overflow:An}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ot=t,Lt=null,!0):!1;default:return!1}}function uh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dh(t){if(Ne){var e=Lt;if(e){var n=e;if(!r0(t,e)){if(uh(t))throw Error($(418));e=pr(n.nextSibling);var r=Ot;e&&r0(t,e)?Yv(r,n):(t.flags=t.flags&-4097|2,Ne=!1,Ot=t)}}else{if(uh(t))throw Error($(418));t.flags=t.flags&-4097|2,Ne=!1,Ot=t}}}function s0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ot=t}function nl(t){if(t!==Ot)return!1;if(!Ne)return s0(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!oh(t.type,t.memoizedProps)),e&&(e=Lt)){if(uh(t))throw Xv(),Error($(418));for(;e;)Yv(t,e),e=pr(e.nextSibling)}if(s0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Lt=pr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Lt=null}}else Lt=Ot?pr(t.stateNode.nextSibling):null;return!0}function Xv(){for(var t=Lt;t;)t=pr(t.nextSibling)}function li(){Lt=Ot=null,Ne=!1}function Mf(t){sn===null?sn=[t]:sn.push(t)}var XE=Qn.ReactCurrentBatchConfig;function Ji(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function rl(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function i0(t){var e=t._init;return e(t._payload)}function Jv(t){function e(E,w){if(t){var _=E.deletions;_===null?(E.deletions=[w],E.flags|=16):_.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=vr(E,w),E.index=0,E.sibling=null,E}function i(E,w,_){return E.index=_,t?(_=E.alternate,_!==null?(_=_.index,_<w?(E.flags|=2,w):_):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,w,_,I){return w===null||w.tag!==6?(w=ud(_,E.mode,I),w.return=E,w):(w=s(w,_),w.return=E,w)}function u(E,w,_,I){var V=_.type;return V===Ms?h(E,w,_.props.children,I,_.key):w!==null&&(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===nr&&i0(V)===w.type)?(I=s(w,_.props),I.ref=Ji(E,w,_),I.return=E,I):(I=kl(_.type,_.key,_.props,null,E.mode,I),I.ref=Ji(E,w,_),I.return=E,I)}function d(E,w,_,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=dd(_,E.mode,I),w.return=E,w):(w=s(w,_.children||[]),w.return=E,w)}function h(E,w,_,I,V){return w===null||w.tag!==7?(w=os(_,E.mode,I,V),w.return=E,w):(w=s(w,_),w.return=E,w)}function f(E,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ud(""+w,E.mode,_),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qa:return _=kl(w.type,w.key,w.props,null,E.mode,_),_.ref=Ji(E,null,w),_.return=E,_;case Ls:return w=dd(w,E.mode,_),w.return=E,w;case nr:var I=w._init;return f(E,I(w._payload),_)}if(io(w)||Gi(w))return w=os(w,E.mode,_,null),w.return=E,w;rl(E,w)}return null}function p(E,w,_,I){var V=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return V!==null?null:l(E,w,""+_,I);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case qa:return _.key===V?u(E,w,_,I):null;case Ls:return _.key===V?d(E,w,_,I):null;case nr:return V=_._init,p(E,w,V(_._payload),I)}if(io(_)||Gi(_))return V!==null?null:h(E,w,_,I,null);rl(E,_)}return null}function x(E,w,_,I,V){if(typeof I=="string"&&I!==""||typeof I=="number")return E=E.get(_)||null,l(w,E,""+I,V);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case qa:return E=E.get(I.key===null?_:I.key)||null,u(w,E,I,V);case Ls:return E=E.get(I.key===null?_:I.key)||null,d(w,E,I,V);case nr:var F=I._init;return x(E,w,_,F(I._payload),V)}if(io(I)||Gi(I))return E=E.get(_)||null,h(w,E,I,V,null);rl(w,I)}return null}function j(E,w,_,I){for(var V=null,F=null,N=w,v=w=0,S=null;N!==null&&v<_.length;v++){N.index>v?(S=N,N=null):S=N.sibling;var T=p(E,N,_[v],I);if(T===null){N===null&&(N=S);break}t&&N&&T.alternate===null&&e(E,N),w=i(T,w,v),F===null?V=T:F.sibling=T,F=T,N=S}if(v===_.length)return n(E,N),Ne&&Qr(E,v),V;if(N===null){for(;v<_.length;v++)N=f(E,_[v],I),N!==null&&(w=i(N,w,v),F===null?V=N:F.sibling=N,F=N);return Ne&&Qr(E,v),V}for(N=r(E,N);v<_.length;v++)S=x(N,E,v,_[v],I),S!==null&&(t&&S.alternate!==null&&N.delete(S.key===null?v:S.key),w=i(S,w,v),F===null?V=S:F.sibling=S,F=S);return t&&N.forEach(function(A){return e(E,A)}),Ne&&Qr(E,v),V}function P(E,w,_,I){var V=Gi(_);if(typeof V!="function")throw Error($(150));if(_=V.call(_),_==null)throw Error($(151));for(var F=V=null,N=w,v=w=0,S=null,T=_.next();N!==null&&!T.done;v++,T=_.next()){N.index>v?(S=N,N=null):S=N.sibling;var A=p(E,N,T.value,I);if(A===null){N===null&&(N=S);break}t&&N&&A.alternate===null&&e(E,N),w=i(A,w,v),F===null?V=A:F.sibling=A,F=A,N=S}if(T.done)return n(E,N),Ne&&Qr(E,v),V;if(N===null){for(;!T.done;v++,T=_.next())T=f(E,T.value,I),T!==null&&(w=i(T,w,v),F===null?V=T:F.sibling=T,F=T);return Ne&&Qr(E,v),V}for(N=r(E,N);!T.done;v++,T=_.next())T=x(N,E,v,T.value,I),T!==null&&(t&&T.alternate!==null&&N.delete(T.key===null?v:T.key),w=i(T,w,v),F===null?V=T:F.sibling=T,F=T);return t&&N.forEach(function(R){return e(E,R)}),Ne&&Qr(E,v),V}function C(E,w,_,I){if(typeof _=="object"&&_!==null&&_.type===Ms&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case qa:e:{for(var V=_.key,F=w;F!==null;){if(F.key===V){if(V=_.type,V===Ms){if(F.tag===7){n(E,F.sibling),w=s(F,_.props.children),w.return=E,E=w;break e}}else if(F.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===nr&&i0(V)===F.type){n(E,F.sibling),w=s(F,_.props),w.ref=Ji(E,F,_),w.return=E,E=w;break e}n(E,F);break}else e(E,F);F=F.sibling}_.type===Ms?(w=os(_.props.children,E.mode,I,_.key),w.return=E,E=w):(I=kl(_.type,_.key,_.props,null,E.mode,I),I.ref=Ji(E,w,_),I.return=E,E=I)}return o(E);case Ls:e:{for(F=_.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(E,w.sibling),w=s(w,_.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=dd(_,E.mode,I),w.return=E,E=w}return o(E);case nr:return F=_._init,C(E,w,F(_._payload),I)}if(io(_))return j(E,w,_,I);if(Gi(_))return P(E,w,_,I);rl(E,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,_),w.return=E,E=w):(n(E,w),w=ud(_,E.mode,I),w.return=E,E=w),o(E)):n(E,w)}return C}var ci=Jv(!0),Zv=Jv(!1),Jl=Lr(null),Zl=null,Hs=null,Of=null;function Ff(){Of=Hs=Zl=null}function Bf(t){var e=Jl.current;be(Jl),t._currentValue=e}function hh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ni(t,e){Zl=t,Of=Hs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ct=!0),t.firstContext=null)}function Xt(t){var e=t._currentValue;if(Of!==t)if(t={context:t,memoizedValue:e,next:null},Hs===null){if(Zl===null)throw Error($(308));Hs=t,Zl.dependencies={lanes:0,firstContext:t}}else Hs=Hs.next=t;return e}var ts=null;function Uf(t){ts===null?ts=[t]:ts.push(t)}function e1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Uf(e)):(n.next=s.next,s.next=n),e.interleaved=n,Fn(t,r)}function Fn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rr=!1;function $f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Fn(t,n)}return s=r.interleaved,s===null?(e.next=e,Uf(r)):(e.next=s.next,s.next=e),r.interleaved=e,Fn(t,n)}function jl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sf(t,n)}}function o0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ec(t,e,n,r){var s=t.updateQueue;rr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,h=d=u=null,l=i;do{var p=l.lane,x=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=t,P=l;switch(p=e,x=n,P.tag){case 1:if(j=P.payload,typeof j=="function"){f=j.call(x,f,p);break e}f=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=P.payload,p=typeof j=="function"?j.call(x,f,p):j,p==null)break e;f=Pe({},f,p);break e;case 2:rr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else x={eventTime:x,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=x,u=f):h=h.next=x,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ms|=o,t.lanes=o,t.memoizedState=f}}function a0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var fa={},gn=Lr(fa),$o=Lr(fa),zo=Lr(fa);function ns(t){if(t===fa)throw Error($(174));return t}function zf(t,e){switch(ge(zo,e),ge($o,t),ge(gn,fa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qd(e,t)}be(gn),ge(gn,e)}function ui(){be(gn),be($o),be(zo)}function n1(t){ns(zo.current);var e=ns(gn.current),n=qd(e,t.type);e!==n&&(ge($o,t),ge(gn,n))}function Wf(t){$o.current===t&&(be(gn),be($o))}var Te=Lr(0);function tc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sd=[];function Hf(){for(var t=0;t<sd.length;t++)sd[t]._workInProgressVersionPrimary=null;sd.length=0}var Nl=Qn.ReactCurrentDispatcher,id=Qn.ReactCurrentBatchConfig,fs=0,Ce=null,$e=null,Ke=null,nc=!1,xo=!1,Wo=0,JE=0;function at(){throw Error($(321))}function qf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ln(t[n],e[n]))return!1;return!0}function Gf(t,e,n,r,s,i){if(fs=i,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nl.current=t===null||t.memoizedState===null?nj:rj,t=n(r,s),xo){i=0;do{if(xo=!1,Wo=0,25<=i)throw Error($(301));i+=1,Ke=$e=null,e.updateQueue=null,Nl.current=sj,t=n(r,s)}while(xo)}if(Nl.current=rc,e=$e!==null&&$e.next!==null,fs=0,Ke=$e=Ce=null,nc=!1,e)throw Error($(300));return t}function Kf(){var t=Wo!==0;return Wo=0,t}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ce.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Jt(){if($e===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var e=Ke===null?Ce.memoizedState:Ke.next;if(e!==null)Ke=e,$e=t;else{if(t===null)throw Error($(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Ke===null?Ce.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Ho(t,e){return typeof e=="function"?e(t):e}function od(t){var e=Jt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=$e,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,d=i;do{var h=d.lane;if((fs&h)===h)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,Ce.lanes|=h,ms|=h}d=d.next}while(d!==null&&d!==i);u===null?o=r:u.next=l,ln(r,e.memoizedState)||(Ct=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ce.lanes|=i,ms|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ad(t){var e=Jt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ln(i,e.memoizedState)||(Ct=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function r1(){}function s1(t,e){var n=Ce,r=Jt(),s=e(),i=!ln(r.memoizedState,s);if(i&&(r.memoizedState=s,Ct=!0),r=r.queue,Qf(a1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,qo(9,o1.bind(null,n,r,s,e),void 0,null),Qe===null)throw Error($(349));fs&30||i1(n,e,s)}return s}function i1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function o1(t,e,n,r){e.value=n,e.getSnapshot=r,l1(e)&&c1(t)}function a1(t,e,n){return n(function(){l1(e)&&c1(t)})}function l1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ln(t,n)}catch{return!0}}function c1(t){var e=Fn(t,1);e!==null&&an(e,t,1,-1)}function l0(t){var e=hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:t},e.queue=t,t=t.dispatch=tj.bind(null,Ce,t),[e.memoizedState,t]}function qo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function u1(){return Jt().memoizedState}function Tl(t,e,n,r){var s=hn();Ce.flags|=t,s.memoizedState=qo(1|e,n,void 0,r===void 0?null:r)}function Mc(t,e,n,r){var s=Jt();r=r===void 0?null:r;var i=void 0;if($e!==null){var o=$e.memoizedState;if(i=o.destroy,r!==null&&qf(r,o.deps)){s.memoizedState=qo(e,n,i,r);return}}Ce.flags|=t,s.memoizedState=qo(1|e,n,i,r)}function c0(t,e){return Tl(8390656,8,t,e)}function Qf(t,e){return Mc(2048,8,t,e)}function d1(t,e){return Mc(4,2,t,e)}function h1(t,e){return Mc(4,4,t,e)}function f1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function m1(t,e,n){return n=n!=null?n.concat([t]):null,Mc(4,4,f1.bind(null,e,t),n)}function Yf(){}function p1(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function g1(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function y1(t,e,n){return fs&21?(ln(n,e)||(n=bv(),Ce.lanes|=n,ms|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ct=!0),t.memoizedState=n)}function ZE(t,e){var n=fe;fe=n!==0&&4>n?n:4,t(!0);var r=id.transition;id.transition={};try{t(!1),e()}finally{fe=n,id.transition=r}}function x1(){return Jt().memoizedState}function ej(t,e,n){var r=xr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},v1(t))w1(e,n);else if(n=e1(t,e,n,r),n!==null){var s=_t();an(n,t,r,s),_1(n,e,r)}}function tj(t,e,n){var r=xr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(v1(t))w1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,ln(l,o)){var u=e.interleaved;u===null?(s.next=s,Uf(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=e1(t,e,s,r),n!==null&&(s=_t(),an(n,t,r,s),_1(n,e,r))}}function v1(t){var e=t.alternate;return t===Ce||e!==null&&e===Ce}function w1(t,e){xo=nc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sf(t,n)}}var rc={readContext:Xt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},nj={readContext:Xt,useCallback:function(t,e){return hn().memoizedState=[t,e===void 0?null:e],t},useContext:Xt,useEffect:c0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tl(4194308,4,f1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tl(4,2,t,e)},useMemo:function(t,e){var n=hn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ej.bind(null,Ce,t),[r.memoizedState,t]},useRef:function(t){var e=hn();return t={current:t},e.memoizedState=t},useState:l0,useDebugValue:Yf,useDeferredValue:function(t){return hn().memoizedState=t},useTransition:function(){var t=l0(!1),e=t[0];return t=ZE.bind(null,t[1]),hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ce,s=hn();if(Ne){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Qe===null)throw Error($(349));fs&30||i1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,c0(a1.bind(null,r,i,t),[t]),r.flags|=2048,qo(9,o1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=hn(),e=Qe.identifierPrefix;if(Ne){var n=An,r=kn;n=(r&~(1<<32-on(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rj={readContext:Xt,useCallback:p1,useContext:Xt,useEffect:Qf,useImperativeHandle:m1,useInsertionEffect:d1,useLayoutEffect:h1,useMemo:g1,useReducer:od,useRef:u1,useState:function(){return od(Ho)},useDebugValue:Yf,useDeferredValue:function(t){var e=Jt();return y1(e,$e.memoizedState,t)},useTransition:function(){var t=od(Ho)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:r1,useSyncExternalStore:s1,useId:x1,unstable_isNewReconciler:!1},sj={readContext:Xt,useCallback:p1,useContext:Xt,useEffect:Qf,useImperativeHandle:m1,useInsertionEffect:d1,useLayoutEffect:h1,useMemo:g1,useReducer:ad,useRef:u1,useState:function(){return ad(Ho)},useDebugValue:Yf,useDeferredValue:function(t){var e=Jt();return $e===null?e.memoizedState=t:y1(e,$e.memoizedState,t)},useTransition:function(){var t=ad(Ho)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:r1,useSyncExternalStore:s1,useId:x1,unstable_isNewReconciler:!1};function tn(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Oc={isMounted:function(t){return(t=t._reactInternals)?ws(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_t(),s=xr(t),i=Vn(r,s);i.payload=e,n!=null&&(i.callback=n),e=gr(t,i,s),e!==null&&(an(e,t,s,r),jl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_t(),s=xr(t),i=Vn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=gr(t,i,s),e!==null&&(an(e,t,s,r),jl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_t(),r=xr(t),s=Vn(n,r);s.tag=2,e!=null&&(s.callback=e),e=gr(t,s,r),e!==null&&(an(e,t,r,n),jl(e,t,r))}};function u0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Oo(n,r)||!Oo(s,i):!0}function b1(t,e,n){var r=!1,s=Cr,i=e.contextType;return typeof i=="object"&&i!==null?i=Xt(i):(s=kt(e)?ds:mt.current,r=e.contextTypes,i=(r=r!=null)?ai(t,s):Cr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Oc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function d0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Oc.enqueueReplaceState(e,e.state,null)}function mh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},$f(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Xt(i):(i=kt(e)?ds:mt.current,s.context=ai(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(fh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Oc.enqueueReplaceState(s,s.state,null),ec(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function di(t,e){try{var n="",r=e;do n+=Ib(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ld(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ph(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ij=typeof WeakMap=="function"?WeakMap:Map;function E1(t,e,n){n=Vn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ic||(ic=!0,Nh=r),ph(t,e)},n}function j1(t,e,n){n=Vn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ph(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ph(t,e),typeof r!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function h0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ij;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=vj.bind(null,t,e,n),e.then(t,t))}function f0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function m0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vn(-1,1),e.tag=2,gr(n,e,1))),n.lanes|=1),t)}var oj=Qn.ReactCurrentOwner,Ct=!1;function wt(t,e,n,r){e.child=t===null?Zv(e,null,n,r):ci(e,t.child,n,r)}function p0(t,e,n,r,s){n=n.render;var i=e.ref;return ni(e,s),r=Gf(t,e,n,r,i,s),n=Kf(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bn(t,e,s)):(Ne&&n&&Df(e),e.flags|=1,wt(t,e,r,s),e.child)}function g0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!sm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,N1(t,e,i,r,s)):(t=kl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Oo,n(o,r)&&t.ref===e.ref)return Bn(t,e,s)}return e.flags|=1,t=vr(i,r),t.ref=e.ref,t.return=e,e.child=t}function N1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Oo(i,r)&&t.ref===e.ref)if(Ct=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ct=!0);else return e.lanes=t.lanes,Bn(t,e,s)}return gh(t,e,n,r,s)}function T1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Gs,Dt),Dt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(Gs,Dt),Dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ge(Gs,Dt),Dt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ge(Gs,Dt),Dt|=r;return wt(t,e,s,n),e.child}function S1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function gh(t,e,n,r,s){var i=kt(n)?ds:mt.current;return i=ai(e,i),ni(e,s),n=Gf(t,e,n,r,i,s),r=Kf(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bn(t,e,s)):(Ne&&r&&Df(e),e.flags|=1,wt(t,e,n,s),e.child)}function y0(t,e,n,r,s){if(kt(n)){var i=!0;Ql(e)}else i=!1;if(ni(e,s),e.stateNode===null)Sl(t,e),b1(e,n,r),mh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Xt(d):(d=kt(n)?ds:mt.current,d=ai(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==d)&&d0(e,o,r,d),rr=!1;var p=e.memoizedState;o.state=p,ec(e,r,o,s),u=e.memoizedState,l!==r||p!==u||Pt.current||rr?(typeof h=="function"&&(fh(e,n,h,r),u=e.memoizedState),(l=rr||u0(e,n,l,r,p,u,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,t1(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:tn(e.type,l),o.props=d,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Xt(u):(u=kt(n)?ds:mt.current,u=ai(e,u));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==u)&&d0(e,o,r,u),rr=!1,p=e.memoizedState,o.state=p,ec(e,r,o,s);var j=e.memoizedState;l!==f||p!==j||Pt.current||rr?(typeof x=="function"&&(fh(e,n,x,r),j=e.memoizedState),(d=rr||u0(e,n,d,r,p,j,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,j,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,j,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=j),o.props=r,o.state=j,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return yh(t,e,n,r,i,s)}function yh(t,e,n,r,s,i){S1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&n0(e,n,!1),Bn(t,e,i);r=e.stateNode,oj.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ci(e,t.child,null,i),e.child=ci(e,null,l,i)):wt(t,e,l,i),e.memoizedState=r.state,s&&n0(e,n,!0),e.child}function C1(t){var e=t.stateNode;e.pendingContext?t0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&t0(t,e.context,!1),zf(t,e.containerInfo)}function x0(t,e,n,r,s){return li(),Mf(s),e.flags|=256,wt(t,e,n,r),e.child}var xh={dehydrated:null,treeContext:null,retryLane:0};function vh(t){return{baseLanes:t,cachePool:null,transitions:null}}function P1(t,e,n){var r=e.pendingProps,s=Te.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(Te,s&1),t===null)return dh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Uc(o,r,0,null),t=os(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=vh(n),e.memoizedState=xh,t):Xf(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return aj(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=vr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=vr(l,i):(i=os(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?vh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=xh,r}return i=t.child,t=i.sibling,r=vr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xf(t,e){return e=Uc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sl(t,e,n,r){return r!==null&&Mf(r),ci(e,t.child,null,n),t=Xf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aj(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ld(Error($(422))),sl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Uc({mode:"visible",children:r.children},s,0,null),i=os(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ci(e,t.child,null,o),e.child.memoizedState=vh(o),e.memoizedState=xh,i);if(!(e.mode&1))return sl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error($(419)),r=ld(i,r,void 0),sl(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ct||l){if(r=Qe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Fn(t,s),an(r,t,s,-1))}return rm(),r=ld(Error($(421))),sl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=wj.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Lt=pr(s.nextSibling),Ot=e,Ne=!0,sn=null,t!==null&&(Gt[Kt++]=kn,Gt[Kt++]=An,Gt[Kt++]=hs,kn=t.id,An=t.overflow,hs=e),e=Xf(e,r.children),e.flags|=4096,e)}function v0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hh(t.return,e,n)}function cd(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function k1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(wt(t,e,r.children,n),r=Te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v0(t,n,e);else if(t.tag===19)v0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(Te,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&tc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),cd(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&tc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}cd(e,!0,n,null,i);break;case"together":cd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ms|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=vr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lj(t,e,n){switch(e.tag){case 3:C1(e),li();break;case 5:n1(e);break;case 1:kt(e.type)&&Ql(e);break;case 4:zf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ge(Jl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(Te,Te.current&1),e.flags|=128,null):n&e.child.childLanes?P1(t,e,n):(ge(Te,Te.current&1),t=Bn(t,e,n),t!==null?t.sibling:null);ge(Te,Te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return k1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(Te,Te.current),r)break;return null;case 22:case 23:return e.lanes=0,T1(t,e,n)}return Bn(t,e,n)}var A1,wh,I1,R1;A1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wh=function(){};I1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ns(gn.current);var i=null;switch(n){case"input":s=$d(t,s),r=$d(t,r),i=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),i=[];break;case"textarea":s=Hd(t,s),r=Hd(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gl)}Gd(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ao.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ao.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&we("scroll",t),i||l===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};R1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zi(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function cj(t,e,n){var r=e.pendingProps;switch(Lf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return kt(e.type)&&Kl(),lt(e),null;case 3:return r=e.stateNode,ui(),be(Pt),be(mt),Hf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sn!==null&&(Ch(sn),sn=null))),wh(t,e),lt(e),null;case 5:Wf(e);var s=ns(zo.current);if(n=e.type,t!==null&&e.stateNode!=null)I1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return lt(e),null}if(t=ns(gn.current),nl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[fn]=e,r[Uo]=i,t=(e.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(s=0;s<ao.length;s++)we(ao[s],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":Cg(r,i),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},we("invalid",r);break;case"textarea":kg(r,i),we("invalid",r)}Gd(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&tl(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&tl(r.textContent,l,t),s=["children",""+l]):Ao.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":Ga(r),Pg(r,i,!0);break;case"textarea":Ga(r),Ag(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Gl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=av(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fn]=e,t[Uo]=r,A1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Kd(n,r),n){case"dialog":we("cancel",t),we("close",t),s=r;break;case"iframe":case"object":case"embed":we("load",t),s=r;break;case"video":case"audio":for(s=0;s<ao.length;s++)we(ao[s],t);s=r;break;case"source":we("error",t),s=r;break;case"img":case"image":case"link":we("error",t),we("load",t),s=r;break;case"details":we("toggle",t),s=r;break;case"input":Cg(t,r),s=$d(t,r),we("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),we("invalid",t);break;case"textarea":kg(t,r),s=Hd(t,r),we("invalid",t);break;default:s=r}Gd(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?uv(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&lv(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Io(t,u):typeof u=="number"&&Io(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ao.hasOwnProperty(i)?u!=null&&i==="onScroll"&&we("scroll",t):u!=null&&_f(t,i,u,o))}switch(n){case"input":Ga(t),Pg(t,r,!1);break;case"textarea":Ga(t),Ag(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Sr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Js(t,!!r.multiple,i,!1):r.defaultValue!=null&&Js(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Gl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)R1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=ns(zo.current),ns(gn.current),nl(e)){if(r=e.stateNode,n=e.memoizedProps,r[fn]=e,(i=r.nodeValue!==n)&&(t=Ot,t!==null))switch(t.tag){case 3:tl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fn]=e,e.stateNode=r}return lt(e),null;case 13:if(be(Te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&Lt!==null&&e.mode&1&&!(e.flags&128))Xv(),li(),e.flags|=98560,i=!1;else if(i=nl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[fn]=e}else li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),i=!1}else sn!==null&&(Ch(sn),sn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?We===0&&(We=3):rm())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return ui(),wh(t,e),t===null&&Fo(e.stateNode.containerInfo),lt(e),null;case 10:return Bf(e.type._context),lt(e),null;case 17:return kt(e.type)&&Kl(),lt(e),null;case 19:if(be(Te),i=e.memoizedState,i===null)return lt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Zi(i,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=tc(t),o!==null){for(e.flags|=128,Zi(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(Te,Te.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ve()>hi&&(e.flags|=128,r=!0,Zi(i,!1),e.lanes=4194304)}else{if(!r)if(t=tc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return lt(e),null}else 2*Ve()-i.renderingStartTime>hi&&n!==1073741824&&(e.flags|=128,r=!0,Zi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ve(),e.sibling=null,n=Te.current,ge(Te,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return nm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dt&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function uj(t,e){switch(Lf(e),e.tag){case 1:return kt(e.type)&&Kl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ui(),be(Pt),be(mt),Hf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wf(e),null;case 13:if(be(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Te),null;case 4:return ui(),null;case 10:return Bf(e.type._context),null;case 22:case 23:return nm(),null;case 24:return null;default:return null}}var il=!1,ht=!1,dj=typeof WeakSet=="function"?WeakSet:Set,H=null;function qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(t,e,r)}else n.current=null}function _h(t,e,n){try{n()}catch(r){Ie(t,e,r)}}var w0=!1;function hj(t,e){if(sh=Wl,t=Ov(),Vf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)p=f,f=x;for(;;){if(f===t)break t;if(p===n&&++d===s&&(l=o),p===i&&++h===r&&(u=o),(x=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=x}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ih={focusedElem:t,selectionRange:n},Wl=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var j=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var P=j.memoizedProps,C=j.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?P:tn(e.type,P),C);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(I){Ie(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return j=w0,w0=!1,j}function vo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&_h(e,n,i)}s=s.next}while(s!==r)}}function Fc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function V1(t){var e=t.alternate;e!==null&&(t.alternate=null,V1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fn],delete e[Uo],delete e[lh],delete e[KE],delete e[QE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function D1(t){return t.tag===5||t.tag===3||t.tag===4}function _0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||D1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Eh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gl));else if(r!==4&&(t=t.child,t!==null))for(Eh(t,e,n),t=t.sibling;t!==null;)Eh(t,e,n),t=t.sibling}function jh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(jh(t,e,n),t=t.sibling;t!==null;)jh(t,e,n),t=t.sibling}var Xe=null,nn=!1;function er(t,e,n){for(n=n.child;n!==null;)L1(t,e,n),n=n.sibling}function L1(t,e,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Ac,n)}catch{}switch(n.tag){case 5:ht||qs(n,e);case 6:var r=Xe,s=nn;Xe=null,er(t,e,n),Xe=r,nn=s,Xe!==null&&(nn?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(nn?(t=Xe,n=n.stateNode,t.nodeType===8?nd(t.parentNode,n):t.nodeType===1&&nd(t,n),Lo(t)):nd(Xe,n.stateNode));break;case 4:r=Xe,s=nn,Xe=n.stateNode.containerInfo,nn=!0,er(t,e,n),Xe=r,nn=s;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_h(n,e,o),s=s.next}while(s!==r)}er(t,e,n);break;case 1:if(!ht&&(qs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ie(n,e,l)}er(t,e,n);break;case 21:er(t,e,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,er(t,e,n),ht=r):er(t,e,n);break;default:er(t,e,n)}}function b0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dj),e.forEach(function(r){var s=_j.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function en(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,nn=!1;break e;case 3:Xe=l.stateNode.containerInfo,nn=!0;break e;case 4:Xe=l.stateNode.containerInfo,nn=!0;break e}l=l.return}if(Xe===null)throw Error($(160));L1(i,o,s),Xe=null,nn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){Ie(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)M1(e,t),e=e.sibling}function M1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(en(e,t),un(t),r&4){try{vo(3,t,t.return),Fc(3,t)}catch(P){Ie(t,t.return,P)}try{vo(5,t,t.return)}catch(P){Ie(t,t.return,P)}}break;case 1:en(e,t),un(t),r&512&&n!==null&&qs(n,n.return);break;case 5:if(en(e,t),un(t),r&512&&n!==null&&qs(n,n.return),t.flags&32){var s=t.stateNode;try{Io(s,"")}catch(P){Ie(t,t.return,P)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&iv(s,i),Kd(l,o);var d=Kd(l,i);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?uv(s,f):h==="dangerouslySetInnerHTML"?lv(s,f):h==="children"?Io(s,f):_f(s,h,f,d)}switch(l){case"input":zd(s,i);break;case"textarea":ov(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Js(s,!!i.multiple,x,!1):p!==!!i.multiple&&(i.defaultValue!=null?Js(s,!!i.multiple,i.defaultValue,!0):Js(s,!!i.multiple,i.multiple?[]:"",!1))}s[Uo]=i}catch(P){Ie(t,t.return,P)}}break;case 6:if(en(e,t),un(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(P){Ie(t,t.return,P)}}break;case 3:if(en(e,t),un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lo(e.containerInfo)}catch(P){Ie(t,t.return,P)}break;case 4:en(e,t),un(t);break;case 13:en(e,t),un(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(em=Ve())),r&4&&b0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(ht=(d=ht)||h,en(e,t),ht=d):en(e,t),un(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(H=t,h=t.child;h!==null;){for(f=H=h;H!==null;){switch(p=H,x=p.child,p.tag){case 0:case 11:case 14:case 15:vo(4,p,p.return);break;case 1:qs(p,p.return);var j=p.stateNode;if(typeof j.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,j.props=e.memoizedProps,j.state=e.memoizedState,j.componentWillUnmount()}catch(P){Ie(r,n,P)}}break;case 5:qs(p,p.return);break;case 22:if(p.memoizedState!==null){j0(f);continue}}x!==null?(x.return=p,H=x):j0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=cv("display",o))}catch(P){Ie(t,t.return,P)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(P){Ie(t,t.return,P)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:en(e,t),un(t),r&4&&b0(t);break;case 21:break;default:en(e,t),un(t)}}function un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(D1(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Io(s,""),r.flags&=-33);var i=_0(t);jh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=_0(t);Eh(t,l,o);break;default:throw Error($(161))}}catch(u){Ie(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fj(t,e,n){H=t,O1(t)}function O1(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||il;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||ht;l=il;var d=ht;if(il=o,(ht=u)&&!d)for(H=s;H!==null;)o=H,u=o.child,o.tag===22&&o.memoizedState!==null?N0(s):u!==null?(u.return=o,H=u):N0(s);for(;i!==null;)H=i,O1(i),i=i.sibling;H=s,il=l,ht=d}E0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):E0(t)}}function E0(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ht||Fc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ht)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:tn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&a0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}a0(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Lo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}ht||e.flags&512&&bh(e)}catch(p){Ie(e,e.return,p)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function j0(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function N0(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fc(4,e)}catch(u){Ie(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Ie(e,s,u)}}var i=e.return;try{bh(e)}catch(u){Ie(e,i,u)}break;case 5:var o=e.return;try{bh(e)}catch(u){Ie(e,o,u)}}}catch(u){Ie(e,e.return,u)}if(e===t){H=null;break}var l=e.sibling;if(l!==null){l.return=e.return,H=l;break}H=e.return}}var mj=Math.ceil,sc=Qn.ReactCurrentDispatcher,Jf=Qn.ReactCurrentOwner,Yt=Qn.ReactCurrentBatchConfig,ue=0,Qe=null,Be=null,et=0,Dt=0,Gs=Lr(0),We=0,Go=null,ms=0,Bc=0,Zf=0,wo=null,Tt=null,em=0,hi=1/0,Sn=null,ic=!1,Nh=null,yr=null,ol=!1,cr=null,oc=0,_o=0,Th=null,Cl=-1,Pl=0;function _t(){return ue&6?Ve():Cl!==-1?Cl:Cl=Ve()}function xr(t){return t.mode&1?ue&2&&et!==0?et&-et:XE.transition!==null?(Pl===0&&(Pl=bv()),Pl):(t=fe,t!==0||(t=window.event,t=t===void 0?16:Pv(t.type)),t):1}function an(t,e,n,r){if(50<_o)throw _o=0,Th=null,Error($(185));ua(t,n,r),(!(ue&2)||t!==Qe)&&(t===Qe&&(!(ue&2)&&(Bc|=n),We===4&&or(t,et)),At(t,r),n===1&&ue===0&&!(e.mode&1)&&(hi=Ve()+500,Lc&&Mr()))}function At(t,e){var n=t.callbackNode;Xb(t,e);var r=zl(t,t===Qe?et:0);if(r===0)n!==null&&Vg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Vg(n),e===1)t.tag===0?YE(T0.bind(null,t)):Kv(T0.bind(null,t)),qE(function(){!(ue&6)&&Mr()}),n=null;else{switch(Ev(r)){case 1:n=Tf;break;case 4:n=wv;break;case 16:n=$l;break;case 536870912:n=_v;break;default:n=$l}n=q1(n,F1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function F1(t,e){if(Cl=-1,Pl=0,ue&6)throw Error($(327));var n=t.callbackNode;if(ri()&&t.callbackNode!==n)return null;var r=zl(t,t===Qe?et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ac(t,r);else{e=r;var s=ue;ue|=2;var i=U1();(Qe!==t||et!==e)&&(Sn=null,hi=Ve()+500,is(t,e));do try{yj();break}catch(l){B1(t,l)}while(!0);Ff(),sc.current=i,ue=s,Be!==null?e=0:(Qe=null,et=0,e=We)}if(e!==0){if(e===2&&(s=Zd(t),s!==0&&(r=s,e=Sh(t,s))),e===1)throw n=Go,is(t,0),or(t,r),At(t,Ve()),n;if(e===6)or(t,r);else{if(s=t.current.alternate,!(r&30)&&!pj(s)&&(e=ac(t,r),e===2&&(i=Zd(t),i!==0&&(r=i,e=Sh(t,i))),e===1))throw n=Go,is(t,0),or(t,r),At(t,Ve()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Yr(t,Tt,Sn);break;case 3:if(or(t,r),(r&130023424)===r&&(e=em+500-Ve(),10<e)){if(zl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){_t(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ah(Yr.bind(null,t,Tt,Sn),e);break}Yr(t,Tt,Sn);break;case 4:if(or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-on(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mj(r/1960))-r,10<r){t.timeoutHandle=ah(Yr.bind(null,t,Tt,Sn),r);break}Yr(t,Tt,Sn);break;case 5:Yr(t,Tt,Sn);break;default:throw Error($(329))}}}return At(t,Ve()),t.callbackNode===n?F1.bind(null,t):null}function Sh(t,e){var n=wo;return t.current.memoizedState.isDehydrated&&(is(t,e).flags|=256),t=ac(t,e),t!==2&&(e=Tt,Tt=n,e!==null&&Ch(e)),t}function Ch(t){Tt===null?Tt=t:Tt.push.apply(Tt,t)}function pj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ln(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function or(t,e){for(e&=~Zf,e&=~Bc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-on(e),r=1<<n;t[n]=-1,e&=~r}}function T0(t){if(ue&6)throw Error($(327));ri();var e=zl(t,0);if(!(e&1))return At(t,Ve()),null;var n=ac(t,e);if(t.tag!==0&&n===2){var r=Zd(t);r!==0&&(e=r,n=Sh(t,r))}if(n===1)throw n=Go,is(t,0),or(t,e),At(t,Ve()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yr(t,Tt,Sn),At(t,Ve()),null}function tm(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(hi=Ve()+500,Lc&&Mr())}}function ps(t){cr!==null&&cr.tag===0&&!(ue&6)&&ri();var e=ue;ue|=1;var n=Yt.transition,r=fe;try{if(Yt.transition=null,fe=1,t)return t()}finally{fe=r,Yt.transition=n,ue=e,!(ue&6)&&Mr()}}function nm(){Dt=Gs.current,be(Gs)}function is(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HE(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(Lf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kl();break;case 3:ui(),be(Pt),be(mt),Hf();break;case 5:Wf(r);break;case 4:ui();break;case 13:be(Te);break;case 19:be(Te);break;case 10:Bf(r.type._context);break;case 22:case 23:nm()}n=n.return}if(Qe=t,Be=t=vr(t.current,null),et=Dt=e,We=0,Go=null,Zf=Bc=ms=0,Tt=wo=null,ts!==null){for(e=0;e<ts.length;e++)if(n=ts[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ts=null}return t}function B1(t,e){do{var n=Be;try{if(Ff(),Nl.current=rc,nc){for(var r=Ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nc=!1}if(fs=0,Ke=$e=Ce=null,xo=!1,Wo=0,Jf.current=null,n===null||n.return===null){We=1,Go=e,Be=null;break}e:{var i=t,o=n.return,l=n,u=e;if(e=et,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=f0(o);if(x!==null){x.flags&=-257,m0(x,o,l,i,e),x.mode&1&&h0(i,d,e),e=x,u=d;var j=e.updateQueue;if(j===null){var P=new Set;P.add(u),e.updateQueue=P}else j.add(u);break e}else{if(!(e&1)){h0(i,d,e),rm();break e}u=Error($(426))}}else if(Ne&&l.mode&1){var C=f0(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),m0(C,o,l,i,e),Mf(di(u,l));break e}}i=u=di(u,l),We!==4&&(We=2),wo===null?wo=[i]:wo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=E1(i,u,e);o0(i,E);break e;case 1:l=u;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(yr===null||!yr.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=j1(i,l,e);o0(i,I);break e}}i=i.return}while(i!==null)}z1(n)}catch(V){e=V,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function U1(){var t=sc.current;return sc.current=rc,t===null?rc:t}function rm(){(We===0||We===3||We===2)&&(We=4),Qe===null||!(ms&268435455)&&!(Bc&268435455)||or(Qe,et)}function ac(t,e){var n=ue;ue|=2;var r=U1();(Qe!==t||et!==e)&&(Sn=null,is(t,e));do try{gj();break}catch(s){B1(t,s)}while(!0);if(Ff(),ue=n,sc.current=r,Be!==null)throw Error($(261));return Qe=null,et=0,We}function gj(){for(;Be!==null;)$1(Be)}function yj(){for(;Be!==null&&!$b();)$1(Be)}function $1(t){var e=H1(t.alternate,t,Dt);t.memoizedProps=t.pendingProps,e===null?z1(t):Be=e,Jf.current=null}function z1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uj(n,e),n!==null){n.flags&=32767,Be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,Be=null;return}}else if(n=cj(n,e,Dt),n!==null){Be=n;return}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);We===0&&(We=5)}function Yr(t,e,n){var r=fe,s=Yt.transition;try{Yt.transition=null,fe=1,xj(t,e,n,r)}finally{Yt.transition=s,fe=r}return null}function xj(t,e,n,r){do ri();while(cr!==null);if(ue&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Jb(t,i),t===Qe&&(Be=Qe=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ol||(ol=!0,q1($l,function(){return ri(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Yt.transition,Yt.transition=null;var o=fe;fe=1;var l=ue;ue|=4,Jf.current=null,hj(t,n),M1(n,t),OE(ih),Wl=!!sh,ih=sh=null,t.current=n,fj(n),zb(),ue=l,fe=o,Yt.transition=i}else t.current=n;if(ol&&(ol=!1,cr=t,oc=s),i=t.pendingLanes,i===0&&(yr=null),qb(n.stateNode),At(t,Ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ic)throw ic=!1,t=Nh,Nh=null,t;return oc&1&&t.tag!==0&&ri(),i=t.pendingLanes,i&1?t===Th?_o++:(_o=0,Th=t):_o=0,Mr(),null}function ri(){if(cr!==null){var t=Ev(oc),e=Yt.transition,n=fe;try{if(Yt.transition=null,fe=16>t?16:t,cr===null)var r=!1;else{if(t=cr,cr=null,oc=0,ue&6)throw Error($(331));var s=ue;for(ue|=4,H=t.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(H=d;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:vo(8,h,i)}var f=h.child;if(f!==null)f.return=h,H=f;else for(;H!==null;){h=H;var p=h.sibling,x=h.return;if(V1(h),h===d){H=null;break}if(p!==null){p.return=x,H=p;break}H=x}}}var j=i.alternate;if(j!==null){var P=j.child;if(P!==null){j.child=null;do{var C=P.sibling;P.sibling=null,P=C}while(P!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vo(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,H=E;break e}H=i.return}}var w=t.current;for(H=w;H!==null;){o=H;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,H=_;else e:for(o=w;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fc(9,l)}}catch(V){Ie(l,l.return,V)}if(l===o){H=null;break e}var I=l.sibling;if(I!==null){I.return=l.return,H=I;break e}H=l.return}}if(ue=s,Mr(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Ac,t)}catch{}r=!0}return r}finally{fe=n,Yt.transition=e}}return!1}function S0(t,e,n){e=di(n,e),e=E1(t,e,1),t=gr(t,e,1),e=_t(),t!==null&&(ua(t,1,e),At(t,e))}function Ie(t,e,n){if(t.tag===3)S0(t,t,n);else for(;e!==null;){if(e.tag===3){S0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yr===null||!yr.has(r))){t=di(n,t),t=j1(e,t,1),e=gr(e,t,1),t=_t(),e!==null&&(ua(e,1,t),At(e,t));break}}e=e.return}}function vj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_t(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(et&n)===n&&(We===4||We===3&&(et&130023424)===et&&500>Ve()-em?is(t,0):Zf|=n),At(t,e)}function W1(t,e){e===0&&(t.mode&1?(e=Ya,Ya<<=1,!(Ya&130023424)&&(Ya=4194304)):e=1);var n=_t();t=Fn(t,e),t!==null&&(ua(t,e,n),At(t,n))}function wj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),W1(t,n)}function _j(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),W1(t,n)}var H1;H1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pt.current)Ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ct=!1,lj(t,e,n);Ct=!!(t.flags&131072)}else Ct=!1,Ne&&e.flags&1048576&&Qv(e,Xl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sl(t,e),t=e.pendingProps;var s=ai(e,mt.current);ni(e,n),s=Gf(null,e,r,t,s,n);var i=Kf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kt(r)?(i=!0,Ql(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$f(e),s.updater=Oc,e.stateNode=s,s._reactInternals=e,mh(e,r,t,n),e=yh(null,e,r,!0,i,n)):(e.tag=0,Ne&&i&&Df(e),wt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Ej(r),t=tn(r,t),s){case 0:e=gh(null,e,r,t,n);break e;case 1:e=y0(null,e,r,t,n);break e;case 11:e=p0(null,e,r,t,n);break e;case 14:e=g0(null,e,r,tn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tn(r,s),gh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tn(r,s),y0(t,e,r,s,n);case 3:e:{if(C1(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,t1(t,e),ec(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=di(Error($(423)),e),e=x0(t,e,r,n,s);break e}else if(r!==s){s=di(Error($(424)),e),e=x0(t,e,r,n,s);break e}else for(Lt=pr(e.stateNode.containerInfo.firstChild),Ot=e,Ne=!0,sn=null,n=Zv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(li(),r===s){e=Bn(t,e,n);break e}wt(t,e,r,n)}e=e.child}return e;case 5:return n1(e),t===null&&dh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,oh(r,s)?o=null:i!==null&&oh(r,i)&&(e.flags|=32),S1(t,e),wt(t,e,o,n),e.child;case 6:return t===null&&dh(e),null;case 13:return P1(t,e,n);case 4:return zf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ci(e,null,r,n):wt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tn(r,s),p0(t,e,r,s,n);case 7:return wt(t,e,e.pendingProps,n),e.child;case 8:return wt(t,e,e.pendingProps.children,n),e.child;case 12:return wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ge(Jl,r._currentValue),r._currentValue=o,i!==null)if(ln(i.value,o)){if(i.children===s.children&&!Pt.current){e=Bn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Vn(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?u.next=u:(u.next=h.next,h.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),hh(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),hh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}wt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ni(e,n),s=Xt(s),r=r(s),e.flags|=1,wt(t,e,r,n),e.child;case 14:return r=e.type,s=tn(r,e.pendingProps),s=tn(r.type,s),g0(t,e,r,s,n);case 15:return N1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tn(r,s),Sl(t,e),e.tag=1,kt(r)?(t=!0,Ql(e)):t=!1,ni(e,n),b1(e,r,s),mh(e,r,s,n),yh(null,e,r,!0,t,n);case 19:return k1(t,e,n);case 22:return T1(t,e,n)}throw Error($(156,e.tag))};function q1(t,e){return vv(t,e)}function bj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,e,n,r){return new bj(t,e,n,r)}function sm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ej(t){if(typeof t=="function")return sm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ef)return 11;if(t===jf)return 14}return 2}function vr(t,e){var n=t.alternate;return n===null?(n=Qt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kl(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")sm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ms:return os(n.children,s,i,e);case bf:o=8,s|=8;break;case Od:return t=Qt(12,n,e,s|2),t.elementType=Od,t.lanes=i,t;case Fd:return t=Qt(13,n,e,s),t.elementType=Fd,t.lanes=i,t;case Bd:return t=Qt(19,n,e,s),t.elementType=Bd,t.lanes=i,t;case nv:return Uc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ev:o=10;break e;case tv:o=9;break e;case Ef:o=11;break e;case jf:o=14;break e;case nr:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=Qt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function os(t,e,n,r){return t=Qt(7,t,r,e),t.lanes=n,t}function Uc(t,e,n,r){return t=Qt(22,t,r,e),t.elementType=nv,t.lanes=n,t.stateNode={isHidden:!1},t}function ud(t,e,n){return t=Qt(6,t,null,e),t.lanes=n,t}function dd(t,e,n){return e=Qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jj(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hu(0),this.expirationTimes=Hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function im(t,e,n,r,s,i,o,l,u){return t=new jj(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Qt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$f(i),t}function Nj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ls,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function G1(t){if(!t)return Cr;t=t._reactInternals;e:{if(ws(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(kt(n))return Gv(t,n,e)}return e}function K1(t,e,n,r,s,i,o,l,u){return t=im(n,r,!0,t,s,i,o,l,u),t.context=G1(null),n=t.current,r=_t(),s=xr(n),i=Vn(r,s),i.callback=e??null,gr(n,i,s),t.current.lanes=s,ua(t,s,r),At(t,r),t}function $c(t,e,n,r){var s=e.current,i=_t(),o=xr(s);return n=G1(n),e.context===null?e.context=n:e.pendingContext=n,e=Vn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gr(s,e,o),t!==null&&(an(t,s,o,i),jl(t,s,o)),o}function lc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function C0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function om(t,e){C0(t,e),(t=t.alternate)&&C0(t,e)}function Tj(){return null}var Q1=typeof reportError=="function"?reportError:function(t){console.error(t)};function am(t){this._internalRoot=t}zc.prototype.render=am.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));$c(t,e,null,null)};zc.prototype.unmount=am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ps(function(){$c(null,t,null,null)}),e[On]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Tv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ir.length&&e!==0&&e<ir[n].priority;n++);ir.splice(n,0,t),n===0&&Cv(t)}};function lm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function P0(){}function Sj(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=lc(o);i.call(d)}}var o=K1(e,r,t,0,null,!1,!1,"",P0);return t._reactRootContainer=o,t[On]=o.current,Fo(t.nodeType===8?t.parentNode:t),ps(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=lc(u);l.call(d)}}var u=im(t,0,!1,null,null,!1,!1,"",P0);return t._reactRootContainer=u,t[On]=u.current,Fo(t.nodeType===8?t.parentNode:t),ps(function(){$c(e,u,n,r)}),u}function Hc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=lc(o);l.call(u)}}$c(e,o,t,s)}else o=Sj(n,e,t,s,r);return lc(o)}jv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=oo(e.pendingLanes);n!==0&&(Sf(e,n|1),At(e,Ve()),!(ue&6)&&(hi=Ve()+500,Mr()))}break;case 13:ps(function(){var r=Fn(t,1);if(r!==null){var s=_t();an(r,t,1,s)}}),om(t,1)}};Cf=function(t){if(t.tag===13){var e=Fn(t,134217728);if(e!==null){var n=_t();an(e,t,134217728,n)}om(t,134217728)}};Nv=function(t){if(t.tag===13){var e=xr(t),n=Fn(t,e);if(n!==null){var r=_t();an(n,t,e,r)}om(t,e)}};Tv=function(){return fe};Sv=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}};Yd=function(t,e,n){switch(e){case"input":if(zd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Dc(r);if(!s)throw Error($(90));sv(r),zd(r,s)}}}break;case"textarea":ov(t,n);break;case"select":e=n.value,e!=null&&Js(t,!!n.multiple,e,!1)}};fv=tm;mv=ps;var Cj={usingClientEntryPoint:!1,Events:[ha,Us,Dc,dv,hv,tm]},eo={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pj={bundleType:eo.bundleType,version:eo.version,rendererPackageName:eo.rendererPackageName,rendererConfig:eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yv(t),t===null?null:t.stateNode},findFiberByHostInstance:eo.findFiberByHostInstance||Tj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{Ac=al.inject(Pj),pn=al}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cj;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lm(e))throw Error($(200));return Nj(t,e,null,n)};$t.createRoot=function(t,e){if(!lm(t))throw Error($(299));var n=!1,r="",s=Q1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=im(t,1,!1,null,null,n,!1,r,s),t[On]=e.current,Fo(t.nodeType===8?t.parentNode:t),new am(e)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=yv(e),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return ps(t)};$t.hydrate=function(t,e,n){if(!Wc(e))throw Error($(200));return Hc(null,t,e,!0,n)};$t.hydrateRoot=function(t,e,n){if(!lm(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Q1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=K1(e,null,t,1,n??null,s,!1,i,o),t[On]=e.current,Fo(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new zc(e)};$t.render=function(t,e,n){if(!Wc(e))throw Error($(200));return Hc(null,t,e,!1,n)};$t.unmountComponentAtNode=function(t){if(!Wc(t))throw Error($(40));return t._reactRootContainer?(ps(function(){Hc(null,null,t,!1,function(){t._reactRootContainer=null,t[On]=null})}),!0):!1};$t.unstable_batchedUpdates=tm;$t.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wc(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Hc(t,e,n,!1,r)};$t.version="18.3.1-next-f1338f8080-20240426";function Y1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y1)}catch(t){console.error(t)}}Y1(),Yx.exports=$t;var kj=Yx.exports,k0=kj;Ld.createRoot=k0.createRoot,Ld.hydrateRoot=k0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ko.apply(this,arguments)}var ur;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ur||(ur={}));const A0="popstate";function Aj(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return Ph("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:cc(s)}return Rj(e,n,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function X1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ij(){return Math.random().toString(36).substr(2,8)}function I0(t,e){return{usr:t.state,key:t.key,idx:e}}function Ph(t,e,n,r){return n===void 0&&(n=null),Ko({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ni(e):e,{state:n,key:e&&e.key||r||Ij()})}function cc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ni(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Rj(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=ur.Pop,u=null,d=h();d==null&&(d=0,o.replaceState(Ko({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=ur.Pop;let C=h(),E=C==null?null:C-d;d=C,u&&u({action:l,location:P.location,delta:E})}function p(C,E){l=ur.Push;let w=Ph(P.location,C,E);d=h()+1;let _=I0(w,d),I=P.createHref(w);try{o.pushState(_,"",I)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(I)}i&&u&&u({action:l,location:P.location,delta:1})}function x(C,E){l=ur.Replace;let w=Ph(P.location,C,E);d=h();let _=I0(w,d),I=P.createHref(w);o.replaceState(_,"",I),i&&u&&u({action:l,location:P.location,delta:0})}function j(C){let E=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof C=="string"?C:cc(C);return w=w.replace(/ $/,"%20"),Le(E,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,E)}let P={get action(){return l},get location(){return t(s,o)},listen(C){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(A0,f),u=C,()=>{s.removeEventListener(A0,f),u=null}},createHref(C){return e(s,C)},createURL:j,encodeLocation(C){let E=j(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:x,go(C){return o.go(C)}};return P}var R0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(R0||(R0={}));function Vj(t,e,n){return n===void 0&&(n="/"),Dj(t,e,n)}function Dj(t,e,n,r){let s=typeof e=="string"?Ni(e):e,i=cm(s.pathname||"/",n);if(i==null)return null;let o=J1(t);Lj(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=Kj(i);l=Hj(o[u],d)}return l}function J1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Le(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=wr([r,u.relativePath]),h=n.concat(u);i.children&&i.children.length>0&&(Le(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),J1(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:zj(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of Z1(i.path))s(i,o,u)}),e}function Z1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Z1(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function Lj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Wj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Mj=/^:[\w-]+$/,Oj=3,Fj=2,Bj=1,Uj=10,$j=-2,V0=t=>t==="*";function zj(t,e){let n=t.split("/"),r=n.length;return n.some(V0)&&(r+=$j),e&&(r+=Fj),n.filter(s=>!V0(s)).reduce((s,i)=>s+(Mj.test(i)?Oj:i===""?Bj:Uj),r)}function Wj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Hj(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=qj({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),p=u.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:wr([i,f.pathname]),pathnameBase:Jj(wr([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=wr([i,f.pathnameBase]))}return o}function qj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Gj(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:p,isOptional:x}=h;if(p==="*"){let P=l[f]||"";o=i.slice(0,i.length-P.length).replace(/(.)\/+$/,"$1")}const j=l[f];return x&&!j?d[p]=void 0:d[p]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function Gj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),X1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Kj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return X1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Qj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ni(t):t;return{pathname:n?n.startsWith("/")?n:Yj(n,e):e,search:Zj(r),hash:eN(s)}}function Yj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function hd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function um(t,e){let n=Xj(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dm(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ni(t):(s=Ko({},t),Le(!s.pathname||!s.pathname.includes("?"),hd("?","pathname","search",s)),Le(!s.pathname||!s.pathname.includes("#"),hd("#","pathname","hash",s)),Le(!s.search||!s.search.includes("#"),hd("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let u=Qj(s,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}const wr=t=>t.join("/").replace(/\/\/+/g,"/"),Jj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Zj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ew=["post","put","patch","delete"];new Set(ew);const nN=["get",...ew];new Set(nN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qo(){return Qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qo.apply(this,arguments)}const hm=y.createContext(null),rN=y.createContext(null),Or=y.createContext(null),qc=y.createContext(null),Yn=y.createContext({outlet:null,matches:[],isDataRoute:!1}),tw=y.createContext(null);function sN(t,e){let{relative:n}=e===void 0?{}:e;Ti()||Le(!1);let{basename:r,navigator:s}=y.useContext(Or),{hash:i,pathname:o,search:l}=rw(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:wr([r,o])),s.createHref({pathname:u,search:l,hash:i})}function Ti(){return y.useContext(qc)!=null}function Fr(){return Ti()||Le(!1),y.useContext(qc).location}function nw(t){y.useContext(Or).static||y.useLayoutEffect(t)}function Rt(){let{isDataRoute:t}=y.useContext(Yn);return t?xN():iN()}function iN(){Ti()||Le(!1);let t=y.useContext(hm),{basename:e,future:n,navigator:r}=y.useContext(Or),{matches:s}=y.useContext(Yn),{pathname:i}=Fr(),o=JSON.stringify(um(s,n.v7_relativeSplatPath)),l=y.useRef(!1);return nw(()=>{l.current=!0}),y.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=dm(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:wr([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function oN(){let{matches:t}=y.useContext(Yn),e=t[t.length-1];return e?e.params:{}}function rw(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(Or),{matches:s}=y.useContext(Yn),{pathname:i}=Fr(),o=JSON.stringify(um(s,r.v7_relativeSplatPath));return y.useMemo(()=>dm(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function aN(t,e){return lN(t,e)}function lN(t,e,n,r){Ti()||Le(!1);let{navigator:s}=y.useContext(Or),{matches:i}=y.useContext(Yn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Fr(),h;if(e){var f;let C=typeof e=="string"?Ni(e):e;u==="/"||(f=C.pathname)!=null&&f.startsWith(u)||Le(!1),h=C}else h=d;let p=h.pathname||"/",x=p;if(u!=="/"){let C=u.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(C.length).join("/")}let j=Vj(t,{pathname:x}),P=fN(j&&j.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:wr([u,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:wr([u,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),i,n,r);return e&&P?y.createElement(qc.Provider,{value:{location:Qo({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ur.Pop}},P):P}function cN(){let t=yN(),e=tN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const uN=y.createElement(cN,null);class dN extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Yn.Provider,{value:this.props.routeContext},y.createElement(tw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hN(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(hm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Yn.Provider,{value:e},r)}function fN(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||Le(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:x}=n,j=f.route.loader&&p[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||j){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let x,j=!1,P=null,C=null;n&&(x=l&&f.route.id?l[f.route.id]:void 0,P=f.route.errorElement||uN,u&&(d<0&&p===0?(vN("route-fallback"),j=!0,C=null):d===p&&(j=!0,C=f.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,p+1)),w=()=>{let _;return x?_=P:j?_=C:f.route.Component?_=y.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=h,y.createElement(hN,{match:f,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?y.createElement(dN,{location:n.location,revalidation:n.revalidation,component:P,error:x,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}var sw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sw||{}),iw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(iw||{});function mN(t){let e=y.useContext(hm);return e||Le(!1),e}function pN(t){let e=y.useContext(rN);return e||Le(!1),e}function gN(t){let e=y.useContext(Yn);return e||Le(!1),e}function ow(t){let e=gN(),n=e.matches[e.matches.length-1];return n.route.id||Le(!1),n.route.id}function yN(){var t;let e=y.useContext(tw),n=pN(),r=ow();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xN(){let{router:t}=mN(sw.UseNavigateStable),e=ow(iw.UseNavigateStable),n=y.useRef(!1);return nw(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Qo({fromRouteId:e},i)))},[t,e])}const D0={};function vN(t,e,n){D0[t]||(D0[t]=!0)}function wN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function _N(t){let{to:e,replace:n,state:r,relative:s}=t;Ti()||Le(!1);let{future:i,static:o}=y.useContext(Or),{matches:l}=y.useContext(Yn),{pathname:u}=Fr(),d=Rt(),h=dm(e,um(l,i.v7_relativeSplatPath),u,s==="path"),f=JSON.stringify(h);return y.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function je(t){Le(!1)}function bN(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ur.Pop,navigator:i,static:o=!1,future:l}=t;Ti()&&Le(!1);let u=e.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:u,navigator:i,static:o,future:Qo({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof r=="string"&&(r=Ni(r));let{pathname:h="/",search:f="",hash:p="",state:x=null,key:j="default"}=r,P=y.useMemo(()=>{let C=cm(h,u);return C==null?null:{location:{pathname:C,search:f,hash:p,state:x,key:j},navigationType:s}},[u,h,f,p,x,j,s]);return P==null?null:y.createElement(Or.Provider,{value:d},y.createElement(qc.Provider,{children:n,value:P}))}function EN(t){let{children:e,location:n}=t;return aN(kh(e),n)}new Promise(()=>{});function kh(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,kh(r.props.children,i));return}r.type!==je&&Le(!1),!r.props.index||!r.props.children||Le(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kh(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ah(){return Ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ah.apply(this,arguments)}function jN(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function NN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TN(t,e){return t.button===0&&(!e||e==="_self")&&!NN(t)}function Ih(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function SN(t,e){let n=Ih(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const CN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PN="6";try{window.__reactRouterVersion=PN}catch{}const kN="startTransition",L0=vb[kN];function AN(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=Aj({window:s,v5Compat:!0}));let o=i.current,[l,u]=y.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=y.useCallback(f=>{d&&L0?L0(()=>u(f)):u(f)},[u,d]);return y.useLayoutEffect(()=>o.listen(h),[o,h]),y.useEffect(()=>wN(r),[r]),y.createElement(bN,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const IN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,re=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:f}=e,p=jN(e,CN),{basename:x}=y.useContext(Or),j,P=!1;if(typeof d=="string"&&RN.test(d)&&(j=d,IN))try{let _=new URL(window.location.href),I=d.startsWith("//")?new URL(_.protocol+d):new URL(d),V=cm(I.pathname,x);I.origin===_.origin&&V!=null?d=V+I.search+I.hash:P=!0}catch{}let C=sN(d,{relative:s}),E=VN(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:f});function w(_){r&&r(_),_.defaultPrevented||E(_)}return y.createElement("a",Ah({},p,{href:j||C,onClick:P||i?r:w,ref:n,target:u}))});var M0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(M0||(M0={}));var O0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(O0||(O0={}));function VN(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,u=Rt(),d=Fr(),h=rw(t,{relative:o});return y.useCallback(f=>{if(TN(f,n)){f.preventDefault();let p=r!==void 0?r:cc(d)===cc(h);u(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,h,r,s,n,t,i,o,l])}function DN(t){let e=y.useRef(Ih(t)),n=y.useRef(!1),r=Fr(),s=y.useMemo(()=>SN(r.search,n.current?null:e.current),[r.search]),i=Rt(),o=y.useCallback((l,u)=>{const d=Ih(typeof l=="function"?l(s):l);n.current=!0,i("?"+d,u)},[i,s]);return[s,o]}let LN={data:""},MN=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||LN,ON=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,FN=/\/\*[^]*?\*\/|  +/g,F0=/\n+/g,ar=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?ar(o,i):i+"{"+ar(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=ar(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ar.p?ar.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Tn={},aw=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+aw(t[n]);return e}return t},BN=(t,e,n,r,s)=>{let i=aw(t),o=Tn[i]||(Tn[i]=(u=>{let d=0,h=11;for(;d<u.length;)h=101*h+u.charCodeAt(d++)>>>0;return"go"+h})(i));if(!Tn[o]){let u=i!==t?t:(d=>{let h,f,p=[{}];for(;h=ON.exec(d.replace(FN,""));)h[4]?p.shift():h[3]?(f=h[3].replace(F0," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][h[1]]=h[2].replace(F0," ").trim();return p[0]})(t);Tn[o]=ar(s?{["@keyframes "+o]:u}:u,n?"":"."+o)}let l=n&&Tn.g?Tn.g:null;return n&&(Tn.g=Tn[o]),((u,d,h,f)=>{f?d.data=d.data.replace(f,u):d.data.indexOf(u)===-1&&(d.data=h?u+d.data:d.data+u)})(Tn[o],e,r,l),o},UN=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let l=o(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":ar(l,""):l===!1?"":l}return r+s+(o??"")},"");function Gc(t){let e=this||{},n=t.call?t(e.p):t;return BN(n.unshift?n.raw?UN(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,MN(e.target),e.g,e.o,e.k)}let lw,Rh,Vh;Gc.bind({g:1});let Un=Gc.bind({k:1});function $N(t,e,n,r){ar.p=e,lw=t,Rh=n,Vh=r}function Br(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let l=Object.assign({},i),u=l.className||s.className;n.p=Object.assign({theme:Rh&&Rh()},l),n.o=/ *go\d+/.test(u),l.className=Gc.apply(n,r)+(u?" "+u:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),Vh&&d[0]&&Vh(l),lw(d,l)}return s}}var zN=t=>typeof t=="function",uc=(t,e)=>zN(t)?t(e):t,WN=(()=>{let t=0;return()=>(++t).toString()})(),cw=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),HN=20,fm="default",uw=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:r}=e;return uw(t,{type:t.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Al=[],dw={toasts:[],pausedAt:void 0,settings:{toastLimit:HN}},mn={},hw=(t,e=fm)=>{mn[e]=uw(mn[e]||dw,t),Al.forEach(([n,r])=>{n===e&&r(mn[e])})},fw=t=>Object.keys(mn).forEach(e=>hw(t,e)),qN=t=>Object.keys(mn).find(e=>mn[e].toasts.some(n=>n.id===t)),Kc=(t=fm)=>e=>{hw(e,t)},GN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},KN=(t={},e=fm)=>{let[n,r]=y.useState(mn[e]||dw),s=y.useRef(mn[e]);y.useEffect(()=>(s.current!==mn[e]&&r(mn[e]),Al.push([e,r]),()=>{let o=Al.findIndex(([l])=>l===e);o>-1&&Al.splice(o,1)}),[e]);let i=n.toasts.map(o=>{var l,u,d;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((l=t[o.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((u=t[o.type])==null?void 0:u.duration)||(t==null?void 0:t.duration)||GN[o.type],style:{...t.style,...(d=t[o.type])==null?void 0:d.style,...o.style}}});return{...n,toasts:i}},QN=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||WN()}),ma=t=>(e,n)=>{let r=QN(e,t,n);return Kc(r.toasterId||qN(r.id))({type:2,toast:r}),r.id},ze=(t,e)=>ma("blank")(t,e);ze.error=ma("error");ze.success=ma("success");ze.loading=ma("loading");ze.custom=ma("custom");ze.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Kc(e)(n):fw(n)};ze.dismissAll=t=>ze.dismiss(void 0,t);ze.remove=(t,e)=>{let n={type:4,toastId:t};e?Kc(e)(n):fw(n)};ze.removeAll=t=>ze.remove(void 0,t);ze.promise=(t,e,n)=>{let r=ze.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?uc(e.success,s):void 0;return i?ze.success(i,{id:r,...n,...n==null?void 0:n.success}):ze.dismiss(r),s}).catch(s=>{let i=e.error?uc(e.error,s):void 0;i?ze.error(i,{id:r,...n,...n==null?void 0:n.error}):ze.dismiss(r)}),t};var YN=1e3,XN=(t,e="default")=>{let{toasts:n,pausedAt:r}=KN(t,e),s=y.useRef(new Map).current,i=y.useCallback((f,p=YN)=>{if(s.has(f))return;let x=setTimeout(()=>{s.delete(f),o({type:4,toastId:f})},p);s.set(f,x)},[]);y.useEffect(()=>{if(r)return;let f=Date.now(),p=n.map(x=>{if(x.duration===1/0)return;let j=(x.duration||0)+x.pauseDuration-(f-x.createdAt);if(j<0){x.visible&&ze.dismiss(x.id);return}return setTimeout(()=>ze.dismiss(x.id,e),j)});return()=>{p.forEach(x=>x&&clearTimeout(x))}},[n,r,e]);let o=y.useCallback(Kc(e),[e]),l=y.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=y.useCallback((f,p)=>{o({type:1,toast:{id:f,height:p}})},[o]),d=y.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),h=y.useCallback((f,p)=>{let{reverseOrder:x=!1,gutter:j=8,defaultPosition:P}=p||{},C=n.filter(_=>(_.position||P)===(f.position||P)&&_.height),E=C.findIndex(_=>_.id===f.id),w=C.filter((_,I)=>I<E&&_.visible).length;return C.filter(_=>_.visible).slice(...x?[w+1]:[0,w]).reduce((_,I)=>_+(I.height||0)+j,0)},[n]);return y.useEffect(()=>{n.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let p=s.get(f.id);p&&(clearTimeout(p),s.delete(f.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:d,calculateOffset:h}}},JN=Un`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ZN=Un`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,e4=Un`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,t4=Br("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${JN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ZN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${e4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,n4=Un`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,r4=Br("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${n4} 1s linear infinite;
`,s4=Un`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,i4=Un`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,o4=Br("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${s4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${i4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,a4=Br("div")`
  position: absolute;
`,l4=Br("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,c4=Un`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,u4=Br("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${c4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,d4=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?y.createElement(u4,null,e):e:n==="blank"?null:y.createElement(l4,null,y.createElement(r4,{...r}),n!=="loading"&&y.createElement(a4,null,n==="error"?y.createElement(t4,{...r}):y.createElement(o4,{...r})))},h4=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,f4=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,m4="0%{opacity:0;} 100%{opacity:1;}",p4="0%{opacity:1;} 100%{opacity:0;}",g4=Br("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,y4=Br("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,x4=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=cw()?[m4,p4]:[h4(n),f4(n)];return{animation:e?`${Un(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Un(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},v4=y.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?x4(t.position||e||"top-center",t.visible):{opacity:0},i=y.createElement(d4,{toast:t}),o=y.createElement(y4,{...t.ariaProps},uc(t.message,t));return y.createElement(g4,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):y.createElement(y.Fragment,null,i,o))});$N(y.createElement);var w4=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=y.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;r(t,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return y.createElement("div",{ref:i,className:e,style:n},s)},_4=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:cw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},b4=Gc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ll=16,E4=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:d}=XN(n,i);return y.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:ll,left:ll,right:ll,bottom:ll,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(h=>{let f=h.position||e,p=d.calculateOffset(h,{reverseOrder:t,gutter:r,defaultPosition:e}),x=_4(f,p);return y.createElement(w4,{id:h.id,key:h.id,onHeightUpdate:d.updateHeight,className:h.visible?b4:"",style:x},h.type==="custom"?uc(h.message,h):s?s(h):y.createElement(v4,{toast:h,position:f}))}))},J=ze;const fd=[{id:"admin-1",name:"Admin User",email:"admin@example.com",role:"admin",password:"password123"},{id:"customer-1",name:"John Doe",email:"john@example.com",role:"customer",password:"password123"},{id:"customer-2",name:"Jane Smith",email:"jane@example.com",role:"customer",password:"password123"},{id:"customer-3",name:"Mike Johnson",email:"mike@example.com",role:"customer",password:"password123"}],rn={currentUser:null,signIn:async(t,e)=>{await new Promise(i=>setTimeout(i,1e3));const n=fd.find(i=>i.email===t&&i.password===e);if(!n)throw new Error("Invalid email or password");const{password:r,...s}=n;return rn.currentUser=s,localStorage.setItem("mockUser",JSON.stringify(s)),s},signUp:async(t,e,n,r)=>{if(await new Promise(u=>setTimeout(u,1e3)),fd.find(u=>u.email===n))throw new Error("User already exists with this email");const i={id:`customer-${Date.now()}`,name:`${t} ${e}`,email:n,role:"customer",password:r};fd.push(i);const{password:o,...l}=i;return rn.currentUser=l,localStorage.setItem("mockUser",JSON.stringify(l)),l},signOut:async()=>{rn.currentUser=null,localStorage.removeItem("mockUser")},getCurrentUser:()=>{if(rn.currentUser)return rn.currentUser;const t=localStorage.getItem("mockUser");return t?(rn.currentUser=JSON.parse(t),rn.currentUser):null}},mw=y.createContext(null),j4=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!0),i=async(d,h)=>{const f=await rn.signIn(d,h);n(f)},o=async(d,h,f,p)=>{const x=await rn.signUp(d,h,f,p);n(x)},l=async()=>{await rn.signOut(),n(null)};y.useEffect(()=>{const d=rn.getCurrentUser();n(d),s(!1)},[]);const u={currentUser:e,user:e,login:i,register:o,logout:l,loading:r};return a.jsx(mw.Provider,{value:u,children:t})},Ur=()=>{const t=y.useContext(mw);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},pw=y.createContext(null),N4=(t,e)=>{switch(e.type){case"ADD_TO_CART":{if(t.items.find(s=>s.product.id===e.payload.id)){const s=t.items.map(i=>i.product.id===e.payload.id?{...i,quantity:i.quantity+1}:i);return{items:s,total:s.reduce((i,o)=>i+o.product.price*o.quantity,0)}}const r=[...t.items,{product:e.payload,quantity:1}];return{items:r,total:r.reduce((s,i)=>s+i.product.price*i.quantity,0)}}case"REMOVE_FROM_CART":{const n=t.items.filter(r=>r.product.id!==e.payload);return{items:n,total:n.reduce((r,s)=>r+s.product.price*s.quantity,0)}}case"UPDATE_QUANTITY":{const n=t.items.map(r=>r.product.id===e.payload.id?{...r,quantity:Math.max(0,e.payload.quantity)}:r).filter(r=>r.quantity>0);return{items:n,total:n.reduce((r,s)=>r+s.product.price*s.quantity,0)}}case"CLEAR_CART":return{items:[],total:0};default:return t}},T4=({children:t})=>{const[e,n]=y.useReducer(N4,{items:[],total:0});return a.jsx(pw.Provider,{value:{state:e,dispatch:n},children:t})},_s=()=>{const t=y.useContext(pw);if(!t)throw new Error("useCart must be used within a CartProvider");return{...t,addItem:i=>{t.dispatch({type:"ADD_TO_CART",payload:i})},removeItem:i=>{t.dispatch({type:"REMOVE_FROM_CART",payload:i})},updateQuantity:(i,o)=>{t.dispatch({type:"UPDATE_QUANTITY",payload:{id:i,quantity:o}})},clearCart:()=>{t.dispatch({type:"CLEAR_CART"})}}},gw=y.createContext(void 0),S4=(t,e)=>{switch(e.type){case"ADD_TO_WISHLIST":return t.items.find(r=>r.id===e.payload.id)?t:{...t,items:[...t.items,e.payload]};case"REMOVE_FROM_WISHLIST":return{...t,items:t.items.filter(r=>r.id!==e.payload)};case"CLEAR_WISHLIST":return{...t,items:[]};default:return t}},C4=({children:t})=>{const[e,n]=y.useReducer(S4,{items:[]}),r=l=>{e.items.some(d=>d.id===l.id)||(n({type:"ADD_TO_WISHLIST",payload:l}),J.success("Added to wishlist!"))},s=l=>{n({type:"REMOVE_FROM_WISHLIST",payload:l}),J.success("Removed from wishlist")},i=l=>e.items.some(u=>u.id===l),o=()=>{n({type:"CLEAR_WISHLIST"}),J.success("Wishlist cleared")};return a.jsx(gw.Provider,{value:{state:e,addToWishlist:r,removeFromWishlist:s,isInWishlist:i,clearWishlist:o},children:t})},pa=()=>{const t=y.useContext(gw);if(!t)throw new Error("useWishlist must be used within a WishlistProvider");return t},yw=y.createContext(null),P4=({children:t})=>{const[e,n]=y.useState(!1);return a.jsx(yw.Provider,{value:{loading:e,setLoading:n},children:t})},ga=()=>{const t=y.useContext(yw);if(!t)throw new Error("useLoading must be used within a LoadingProvider");return t},xw=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Qc=y.createContext({}),Yc=y.createContext(null),Xc=typeof document<"u",mm=Xc?y.useLayoutEffect:y.useEffect,vw=y.createContext({strict:!1}),pm=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),k4="framerAppearId",ww="data-"+pm(k4);function A4(t,e,n,r){const{visualElement:s}=y.useContext(Qc),i=y.useContext(vw),o=y.useContext(Yc),l=y.useContext(xw).reducedMotion,u=y.useRef();r=r||i.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=u.current;y.useInsertionEffect(()=>{d&&d.update(n,o)});const h=y.useRef(!!(n[ww]&&!window.HandoffComplete));return mm(()=>{d&&(d.render(),h.current&&d.animationState&&d.animationState.animateChanges())}),y.useEffect(()=>{d&&(d.updateFeatures(),!h.current&&d.animationState&&d.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),d}function Ks(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function I4(t,e,n){return y.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ks(n)&&(n.current=r))},[e])}function Yo(t){return typeof t=="string"||Array.isArray(t)}function Jc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const gm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ym=["initial",...gm];function Zc(t){return Jc(t.animate)||ym.some(e=>Yo(t[e]))}function _w(t){return!!(Zc(t)||t.variants)}function R4(t,e){if(Zc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Yo(n)?n:void 0,animate:Yo(r)?r:void 0}}return t.inherit!==!1?e:{}}function V4(t){const{initial:e,animate:n}=R4(t,y.useContext(Qc));return y.useMemo(()=>({initial:e,animate:n}),[B0(e),B0(n)])}function B0(t){return Array.isArray(t)?t.join(" "):t}const U0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xo={};for(const t in U0)Xo[t]={isEnabled:e=>U0[t].some(n=>!!e[n])};function D4(t){for(const e in t)Xo[e]={...Xo[e],...t[e]}}const xm=y.createContext({}),bw=y.createContext({}),L4=Symbol.for("motionComponentSymbol");function M4({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&D4(t);function i(l,u){let d;const h={...y.useContext(xw),...l,layoutId:O4(l)},{isStatic:f}=h,p=V4(l),x=r(l,f);if(!f&&Xc){p.visualElement=A4(s,x,h,e);const j=y.useContext(bw),P=y.useContext(vw).strict;p.visualElement&&(d=p.visualElement.loadFeatures(h,P,t,j))}return y.createElement(Qc.Provider,{value:p},d&&p.visualElement?y.createElement(d,{visualElement:p.visualElement,...h}):null,n(s,l,I4(x,p.visualElement,u),x,f,p.visualElement))}const o=y.forwardRef(i);return o[L4]=s,o}function O4({layoutId:t}){const e=y.useContext(xm).id;return e&&t!==void 0?e+"-"+t:t}function F4(t){function e(r,s={}){return M4(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const B4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vm(t){return typeof t!="string"||t.includes("-")?!1:!!(B4.indexOf(t)>-1||/[A-Z]/.test(t))}const dc={};function U4(t){Object.assign(dc,t)}const ya=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bs=new Set(ya);function Ew(t,{layout:e,layoutId:n}){return bs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dc[t]||t==="opacity")}const It=t=>!!(t&&t.getVelocity),$4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},z4=ya.length;function W4(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<z4;o++){const l=ya[o];if(t[l]!==void 0){const u=$4[l]||l;i+=`${u}(${t[l]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const jw=t=>e=>typeof e=="string"&&e.startsWith(t),Nw=jw("--"),Dh=jw("var(--"),H4=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,q4=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Pr=(t,e,n)=>Math.min(Math.max(n,t),e),Es={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bo={...Es,transform:t=>Pr(0,1,t)},cl={...Es,default:1},Eo=t=>Math.round(t*1e5)/1e5,eu=/(-)?([\d]*\.?[\d])+/g,Tw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,G4=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function xa(t){return typeof t=="string"}const va=t=>({test:e=>xa(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),tr=va("deg"),yn=va("%"),X=va("px"),K4=va("vh"),Q4=va("vw"),$0={...yn,parse:t=>yn.parse(t)/100,transform:t=>yn.transform(t*100)},z0={...Es,transform:Math.round},Sw={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,size:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,rotate:tr,rotateX:tr,rotateY:tr,rotateZ:tr,scale:cl,scaleX:cl,scaleY:cl,scaleZ:cl,skew:tr,skewX:tr,skewY:tr,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:bo,originX:$0,originY:$0,originZ:X,zIndex:z0,fillOpacity:bo,strokeOpacity:bo,numOctaves:z0};function wm(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:l}=t;let u=!1,d=!1,h=!0;for(const f in e){const p=e[f];if(Nw(f)){i[f]=p;continue}const x=Sw[f],j=q4(p,x);if(bs.has(f)){if(u=!0,o[f]=j,!h)continue;p!==(x.default||0)&&(h=!1)}else f.startsWith("origin")?(d=!0,l[f]=j):s[f]=j}if(e.transform||(u||r?s.transform=W4(t.transform,n,h,r):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:x=0}=l;s.transformOrigin=`${f} ${p} ${x}`}}const _m=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Cw(t,e,n){for(const r in e)!It(e[r])&&!Ew(r,n)&&(t[r]=e[r])}function Y4({transformTemplate:t},e,n){return y.useMemo(()=>{const r=_m();return wm(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function X4(t,e,n){const r=t.style||{},s={};return Cw(s,r,t),Object.assign(s,Y4(t,e,n)),t.transformValues?t.transformValues(s):s}function J4(t,e,n){const r={},s=X4(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const Z4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Z4.has(t)}let Pw=t=>!hc(t);function eT(t){t&&(Pw=e=>e.startsWith("on")?!hc(e):t(e))}try{eT(require("@emotion/is-prop-valid").default)}catch{}function tT(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Pw(s)||n===!0&&hc(s)||!e&&!hc(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function W0(t,e,n){return typeof t=="string"?t:X.transform(e+n*t)}function nT(t,e,n){const r=W0(e,t.x,t.width),s=W0(n,t.y,t.height);return`${r} ${s}`}const rT={offset:"stroke-dashoffset",array:"stroke-dasharray"},sT={offset:"strokeDashoffset",array:"strokeDasharray"};function iT(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?rT:sT;t[i.offset]=X.transform(-r);const o=X.transform(e),l=X.transform(n);t[i.array]=`${o} ${l}`}function bm(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},h,f,p){if(wm(t,d,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:j,dimensions:P}=t;x.transform&&(P&&(j.transform=x.transform),delete x.transform),P&&(s!==void 0||i!==void 0||j.transform)&&(j.transformOrigin=nT(P,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),o!==void 0&&iT(x,o,l,u,!1)}const kw=()=>({..._m(),attrs:{}}),Em=t=>typeof t=="string"&&t.toLowerCase()==="svg";function oT(t,e,n,r){const s=y.useMemo(()=>{const i=kw();return bm(i,e,{enableHardwareAcceleration:!1},Em(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Cw(i,t.style,t),s.style={...i,...s.style}}return s}function aT(t=!1){return(n,r,s,{latestValues:i},o)=>{const u=(vm(n)?oT:J4)(r,i,o,n),h={...tT(r,typeof n=="string",t),...u,ref:s},{children:f}=r,p=y.useMemo(()=>It(f)?f.get():f,[f]);return y.createElement(n,{...h,children:p})}}function Aw(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const Iw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Rw(t,e,n,r){Aw(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Iw.has(s)?s:pm(s),e.attrs[s])}function jm(t,e){const{style:n}=t,r={};for(const s in n)(It(n[s])||e.style&&It(e.style[s])||Ew(s,t))&&(r[s]=n[s]);return r}function Vw(t,e){const n=jm(t,e);for(const r in t)if(It(t[r])||It(e[r])){const s=ya.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function Nm(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function Dw(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const fc=t=>Array.isArray(t),lT=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),cT=t=>fc(t)?t[t.length-1]||0:t;function Il(t){const e=It(t)?t.get():t;return lT(e)?e.toValue():e}function uT({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:dT(r,s,i,t),renderState:e()};return n&&(o.mount=l=>n(r,l,o)),o}const Lw=t=>(e,n)=>{const r=y.useContext(Qc),s=y.useContext(Yc),i=()=>uT(t,e,r,s);return n?i():Dw(i)};function dT(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=Il(i[p]);let{initial:o,animate:l}=t;const u=Zc(t),d=_w(t);e&&d&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?l:o;return f&&typeof f!="boolean"&&!Jc(f)&&(Array.isArray(f)?f:[f]).forEach(x=>{const j=Nm(t,x);if(!j)return;const{transitionEnd:P,transition:C,...E}=j;for(const w in E){let _=E[w];if(Array.isArray(_)){const I=h?_.length-1:0;_=_[I]}_!==null&&(s[w]=_)}for(const w in P)s[w]=P[w]}),s}const De=t=>t;class H0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function hT(t){let e=new H0,n=new H0,r=0,s=!1,i=!1;const o=new WeakSet,l={schedule:(u,d=!1,h=!1)=>{const f=h&&s,p=f?e:n;return d&&o.add(u),p.add(u)&&f&&s&&(r=e.order.length),u},cancel:u=>{n.remove(u),o.delete(u)},process:u=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let d=0;d<r;d++){const h=e.order[d];h(u),o.has(h)&&(l.schedule(h),t())}s=!1,i&&(i=!1,l.process(u))}};return l}const ul=["prepare","read","update","preRender","render","postRender"],fT=40;function mT(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=ul.reduce((f,p)=>(f[p]=hT(()=>n=!0),f),{}),o=f=>i[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,fT),1),s.timestamp=f,s.isProcessing=!0,ul.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(l))},u=()=>{n=!0,r=!0,s.isProcessing||t(l)};return{schedule:ul.reduce((f,p)=>{const x=i[p];return f[p]=(j,P=!1,C=!1)=>(n||u(),x.schedule(j,P,C)),f},{}),cancel:f=>ul.forEach(p=>i[p].cancel(f)),state:s,steps:i}}const{schedule:ye,cancel:$n,state:dt,steps:md}=mT(typeof requestAnimationFrame<"u"?requestAnimationFrame:De,!0),pT={useVisualState:Lw({scrapeMotionValuesFromProps:Vw,createRenderState:kw,onMount:(t,e,{renderState:n,latestValues:r})=>{ye.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ye.render(()=>{bm(n,r,{enableHardwareAcceleration:!1},Em(e.tagName),t.transformTemplate),Rw(e,n)})}})},gT={useVisualState:Lw({scrapeMotionValuesFromProps:jm,createRenderState:_m})};function yT(t,{forwardMotionProps:e=!1},n,r){return{...vm(t)?pT:gT,preloadedFeatures:n,useRender:aT(e),createVisualElement:r,Component:t}}function In(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Mw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function tu(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const xT=t=>e=>Mw(e)&&t(e,tu(e));function Dn(t,e,n,r){return In(t,e,xT(n),r)}const vT=(t,e)=>n=>e(t(n)),_r=(...t)=>t.reduce(vT);function Ow(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const q0=Ow("dragHorizontal"),G0=Ow("dragVertical");function Fw(t){let e=!1;if(t==="y")e=G0();else if(t==="x")e=q0();else{const n=q0(),r=G0();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Bw(){const t=Fw(!0);return t?(t(),!1):!0}class $r{constructor(e){this.isMounted=!1,this.node=e}update(){}}function K0(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||Bw())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&ye.update(()=>l[r](i,o))};return Dn(t.current,n,s,{passive:!t.getProps()[r]})}class wT extends $r{mount(){this.unmount=_r(K0(this.node,!0),K0(this.node,!1))}unmount(){}}class _T extends $r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_r(In(this.node.current,"focus",()=>this.onFocus()),In(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Uw=(t,e)=>e?t===e?!0:Uw(t,e.parentElement):!1;function pd(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,tu(n))}class bT extends $r{constructor(){super(...arguments),this.removeStartListeners=De,this.removeEndListeners=De,this.removeAccessibleListeners=De,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Dn(window,"pointerup",(l,u)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:h,globalTapTarget:f}=this.node.getProps();ye.update(()=>{!f&&!Uw(this.node.current,l.target)?h&&h(l,u):d&&d(l,u)})},{passive:!(r.onTap||r.onPointerUp)}),o=Dn(window,"pointercancel",(l,u)=>this.cancelPress(l,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=_r(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||pd("up",(u,d)=>{const{onTap:h}=this.node.getProps();h&&ye.update(()=>h(u,d))})};this.removeEndListeners(),this.removeEndListeners=In(this.node.current,"keyup",o),pd("down",(l,u)=>{this.startPress(l,u)})},n=In(this.node.current,"keydown",e),r=()=>{this.isPressing&&pd("cancel",(i,o)=>this.cancelPress(i,o))},s=In(this.node.current,"blur",r);this.removeAccessibleListeners=_r(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ye.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Bw()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ye.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Dn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=In(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=_r(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Lh=new WeakMap,gd=new WeakMap,ET=t=>{const e=Lh.get(t.target);e&&e(t)},jT=t=>{t.forEach(ET)};function NT({root:t,...e}){const n=t||document;gd.has(n)||gd.set(n,{});const r=gd.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(jT,{root:t,...e})),r[s]}function TT(t,e,n){const r=NT(e);return Lh.set(t,n),r.observe(t),()=>{Lh.delete(t),r.unobserve(t)}}const ST={some:0,all:1};class CT extends $r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:ST[s]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=d?h:f;p&&p(u)};return TT(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(PT(e,n))&&this.startObserver()}unmount(){}}function PT({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const kT={inView:{Feature:CT},tap:{Feature:bT},focus:{Feature:_T},hover:{Feature:wT}};function $w(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function AT(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function IT(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function nu(t,e,n){const r=t.getProps();return Nm(r,e,n!==void 0?n:r.custom,AT(t),IT(t))}let Tm=De;const as=t=>t*1e3,Ln=t=>t/1e3,RT={current:!1},zw=t=>Array.isArray(t)&&typeof t[0]=="number";function Ww(t){return!!(!t||typeof t=="string"&&Hw[t]||zw(t)||Array.isArray(t)&&t.every(Ww))}const lo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Hw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lo([0,.65,.55,1]),circOut:lo([.55,0,1,.45]),backIn:lo([.31,.01,.66,-.59]),backOut:lo([.33,1.53,.69,.99])};function qw(t){if(t)return zw(t)?lo(t):Array.isArray(t)?t.map(qw):Hw[t]}function VT(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:l,times:u}={}){const d={[e]:n};u&&(d.offset=u);const h=qw(l);return Array.isArray(h)&&(d.easing=h),t.animate(d,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function DT(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Gw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,LT=1e-7,MT=12;function OT(t,e,n,r,s){let i,o,l=0;do o=e+(n-e)/2,i=Gw(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>LT&&++l<MT);return o}function wa(t,e,n,r){if(t===e&&n===r)return De;const s=i=>OT(i,0,1,t,n);return i=>i===0||i===1?i:Gw(s(i),e,r)}const FT=wa(.42,0,1,1),BT=wa(0,0,.58,1),Kw=wa(.42,0,.58,1),UT=t=>Array.isArray(t)&&typeof t[0]!="number",Qw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Yw=t=>e=>1-t(1-e),Sm=t=>1-Math.sin(Math.acos(t)),Xw=Yw(Sm),$T=Qw(Sm),Jw=wa(.33,1.53,.69,.99),Cm=Yw(Jw),zT=Qw(Cm),WT=t=>(t*=2)<1?.5*Cm(t):.5*(2-Math.pow(2,-10*(t-1))),HT={linear:De,easeIn:FT,easeInOut:Kw,easeOut:BT,circIn:Sm,circInOut:$T,circOut:Xw,backIn:Cm,backInOut:zT,backOut:Jw,anticipate:WT},Q0=t=>{if(Array.isArray(t)){Tm(t.length===4);const[e,n,r,s]=t;return wa(e,n,r,s)}else if(typeof t=="string")return HT[t];return t},Pm=(t,e)=>n=>!!(xa(n)&&G4.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Zw=(t,e,n)=>r=>{if(!xa(r))return r;const[s,i,o,l]=r.match(eu);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},qT=t=>Pr(0,255,t),yd={...Es,transform:t=>Math.round(qT(t))},rs={test:Pm("rgb","red"),parse:Zw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+yd.transform(t)+", "+yd.transform(e)+", "+yd.transform(n)+", "+Eo(bo.transform(r))+")"};function GT(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Mh={test:Pm("#"),parse:GT,transform:rs.transform},Qs={test:Pm("hsl","hue"),parse:Zw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+yn.transform(Eo(e))+", "+yn.transform(Eo(n))+", "+Eo(bo.transform(r))+")"},vt={test:t=>rs.test(t)||Mh.test(t)||Qs.test(t),parse:t=>rs.test(t)?rs.parse(t):Qs.test(t)?Qs.parse(t):Mh.parse(t),transform:t=>xa(t)?t:t.hasOwnProperty("red")?rs.transform(t):Qs.transform(t)},Se=(t,e,n)=>-n*t+n*e+t;function xd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function KT({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;s=xd(u,l,t+1/3),i=xd(u,l,t),o=xd(u,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const vd=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},QT=[Mh,rs,Qs],YT=t=>QT.find(e=>e.test(t));function Y0(t){const e=YT(t);let n=e.parse(t);return e===Qs&&(n=KT(n)),n}const e2=(t,e)=>{const n=Y0(t),r=Y0(e),s={...n};return i=>(s.red=vd(n.red,r.red,i),s.green=vd(n.green,r.green,i),s.blue=vd(n.blue,r.blue,i),s.alpha=Se(n.alpha,r.alpha,i),rs.transform(s))};function XT(t){var e,n;return isNaN(t)&&xa(t)&&(((e=t.match(eu))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Tw))===null||n===void 0?void 0:n.length)||0)>0}const t2={regex:H4,countKey:"Vars",token:"${v}",parse:De},n2={regex:Tw,countKey:"Colors",token:"${c}",parse:vt.parse},r2={regex:eu,countKey:"Numbers",token:"${n}",parse:Es.parse};function wd(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function mc(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&wd(n,t2),wd(n,n2),wd(n,r2),n}function s2(t){return mc(t).values}function i2(t){const{values:e,numColors:n,numVars:r,tokenised:s}=mc(t),i=e.length;return o=>{let l=s;for(let u=0;u<i;u++)u<r?l=l.replace(t2.token,o[u]):u<r+n?l=l.replace(n2.token,vt.transform(o[u])):l=l.replace(r2.token,Eo(o[u]));return l}}const JT=t=>typeof t=="number"?0:t;function ZT(t){const e=s2(t);return i2(t)(e.map(JT))}const kr={test:XT,parse:s2,createTransformer:i2,getAnimatableNone:ZT},o2=(t,e)=>n=>`${n>0?e:t}`;function a2(t,e){return typeof t=="number"?n=>Se(t,e,n):vt.test(t)?e2(t,e):t.startsWith("var(")?o2(t,e):c2(t,e)}const l2=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>a2(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},eS=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=a2(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},c2=(t,e)=>{const n=kr.createTransformer(e),r=mc(t),s=mc(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?_r(l2(r.values,s.values),n):o2(t,e)},Jo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},X0=(t,e)=>n=>Se(t,e,n);function tS(t){return typeof t=="number"?X0:typeof t=="string"?vt.test(t)?e2:c2:Array.isArray(t)?l2:typeof t=="object"?eS:X0}function nS(t,e,n){const r=[],s=n||tS(t[0]),i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||De:e;l=_r(u,l)}r.push(l)}return r}function u2(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Tm(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=nS(e,r,s),l=o.length,u=d=>{let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Jo(t[h],t[h+1],d);return o[h](f)};return n?d=>u(Pr(t[0],t[i-1],d)):u}function rS(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Jo(0,e,r);t.push(Se(n,1,s))}}function sS(t){const e=[0];return rS(e,t.length-1),e}function iS(t,e){return t.map(n=>n*e)}function oS(t,e){return t.map(()=>e||Kw).splice(0,t.length-1)}function pc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=UT(r)?r.map(Q0):Q0(r),i={done:!1,value:e[0]},o=iS(n&&n.length===e.length?n:sS(e),t),l=u2(o,e,{ease:Array.isArray(s)?s:oS(e,s)});return{calculatedDuration:t,next:u=>(i.value=l(u),i.done=u>=t,i)}}function d2(t,e){return e?t*(1e3/e):0}const aS=5;function h2(t,e,n){const r=Math.max(e-aS,0);return d2(n-t(r),e-r)}const _d=.001,lS=.01,cS=10,uS=.05,dS=1;function hS({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=Pr(uS,dS,o),t=Pr(lS,cS,Ln(t)),o<1?(s=d=>{const h=d*o,f=h*t,p=h-n,x=Oh(d,o),j=Math.exp(-f);return _d-p/x*j},i=d=>{const f=d*o*t,p=f*n+n,x=Math.pow(o,2)*Math.pow(d,2)*t,j=Math.exp(-f),P=Oh(Math.pow(d,2),o);return(-s(d)+_d>0?-1:1)*((p-x)*j)/P}):(s=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-_d+h*f},i=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const l=5/t,u=mS(s,i,l);if(t=as(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const fS=12;function mS(t,e,n){let r=n;for(let s=1;s<fS;s++)r=r-t(r)/e(r);return r}function Oh(t,e){return t*Math.sqrt(1-e*e)}const pS=["duration","bounce"],gS=["stiffness","damping","mass"];function J0(t,e){return e.some(n=>t[n]!==void 0)}function yS(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!J0(t,gS)&&J0(t,pS)){const n=hS(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function f2({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=yS({...r,velocity:-Ln(r.velocity||0)}),x=f||0,j=u/(2*Math.sqrt(l*d)),P=i-s,C=Ln(Math.sqrt(l/d)),E=Math.abs(P)<5;n||(n=E?.01:2),e||(e=E?.005:.5);let w;if(j<1){const _=Oh(C,j);w=I=>{const V=Math.exp(-j*C*I);return i-V*((x+j*C*P)/_*Math.sin(_*I)+P*Math.cos(_*I))}}else if(j===1)w=_=>i-Math.exp(-C*_)*(P+(x+C*P)*_);else{const _=C*Math.sqrt(j*j-1);w=I=>{const V=Math.exp(-j*C*I),F=Math.min(_*I,300);return i-V*((x+j*C*P)*Math.sinh(F)+_*P*Math.cosh(F))/_}}return{calculatedDuration:p&&h||null,next:_=>{const I=w(_);if(p)o.done=_>=h;else{let V=x;_!==0&&(j<1?V=h2(w,_,I):V=0);const F=Math.abs(V)<=n,N=Math.abs(i-I)<=e;o.done=F&&N}return o.value=o.done?i:I,o}}}function Z0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},x=v=>l!==void 0&&v<l||u!==void 0&&v>u,j=v=>l===void 0?u:u===void 0||Math.abs(l-v)<Math.abs(u-v)?l:u;let P=n*e;const C=f+P,E=o===void 0?C:o(C);E!==C&&(P=E-f);const w=v=>-P*Math.exp(-v/r),_=v=>E+w(v),I=v=>{const S=w(v),T=_(v);p.done=Math.abs(S)<=d,p.value=p.done?E:T};let V,F;const N=v=>{x(p.value)&&(V=v,F=f2({keyframes:[p.value,j(p.value)],velocity:h2(_,v,p.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return N(0),{calculatedDuration:null,next:v=>{let S=!1;return!F&&V===void 0&&(S=!0,I(v),N(v)),V!==void 0&&v>V?F.next(v-V):(!S&&I(v),p)}}}const xS=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ye.update(e,!0),stop:()=>$n(e),now:()=>dt.isProcessing?dt.timestamp:performance.now()}},ey=2e4;function ty(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ey;)e+=n,r=t.next(e);return e>=ey?1/0:e}const vS={decay:Z0,inertia:Z0,tween:pc,keyframes:pc,spring:f2};function gc({autoplay:t=!0,delay:e=0,driver:n=xS,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:u,onStop:d,onComplete:h,onUpdate:f,...p}){let x=1,j=!1,P,C;const E=()=>{C=new Promise(L=>{P=L})};E();let w;const _=vS[s]||pc;let I;_!==pc&&typeof r[0]!="number"&&(I=u2([0,100],r,{clamp:!1}),r=[0,100]);const V=_({...p,keyframes:r});let F;l==="mirror"&&(F=_({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let N="idle",v=null,S=null,T=null;V.calculatedDuration===null&&i&&(V.calculatedDuration=ty(V));const{calculatedDuration:A}=V;let R=1/0,k=1/0;A!==null&&(R=A+o,k=R*(i+1)-o);let se=0;const Ee=L=>{if(S===null)return;x>0&&(S=Math.min(S,L)),x<0&&(S=Math.min(L-k/x,S)),v!==null?se=v:se=Math.round(L-S)*x;const G=se-e*(x>=0?1:-1),ae=x>=0?G<0:G>k;se=Math.max(G,0),N==="finished"&&v===null&&(se=k);let pt=se,jt=V;if(i){const Ri=Math.min(se,k)/R;let En=Math.floor(Ri),Wt=Ri%1;!Wt&&Ri>=1&&(Wt=1),Wt===1&&En--,En=Math.min(En,i+1),!!(En%2)&&(l==="reverse"?(Wt=1-Wt,o&&(Wt-=o/R)):l==="mirror"&&(jt=F)),pt=Pr(0,1,Wt)*R}const qe=ae?{done:!1,value:r[0]}:jt.next(pt);I&&(qe.value=I(qe.value));let{done:gt}=qe;!ae&&A!==null&&(gt=x>=0?se>=k:se<=0);const Ii=v===null&&(N==="finished"||N==="running"&&gt);return f&&f(qe.value),Ii&&W(),qe},xe=()=>{w&&w.stop(),w=void 0},Me=()=>{N="idle",xe(),P(),E(),S=T=null},W=()=>{N="finished",h&&h(),xe(),P()},Q=()=>{if(j)return;w||(w=n(Ee));const L=w.now();u&&u(),v!==null?S=L-v:(!S||N==="finished")&&(S=L),N==="finished"&&E(),T=S,v=null,N="running",w.start()};t&&Q();const Z={then(L,G){return C.then(L,G)},get time(){return Ln(se)},set time(L){L=as(L),se=L,v!==null||!w||x===0?v=L:S=w.now()-L/x},get duration(){const L=V.calculatedDuration===null?ty(V):V.calculatedDuration;return Ln(L)},get speed(){return x},set speed(L){L===x||!w||(x=L,Z.time=Ln(se))},get state(){return N},play:Q,pause:()=>{N="paused",v=se},stop:()=>{j=!0,N!=="idle"&&(N="idle",d&&d(),Me())},cancel:()=>{T!==null&&Ee(T),Me()},complete:()=>{N="finished"},sample:L=>(S=0,Ee(L))};return Z}function wS(t){let e;return()=>(e===void 0&&(e=t()),e)}const _S=wS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bS=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),dl=10,ES=2e4,jS=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Ww(e.ease);function NS(t,e,{onUpdate:n,onComplete:r,...s}){if(!(_S()&&bS.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,l,u,d=!1;const h=()=>{u=new Promise(_=>{l=_})};h();let{keyframes:f,duration:p=300,ease:x,times:j}=s;if(jS(e,s)){const _=gc({...s,repeat:0,delay:0});let I={done:!1,value:f[0]};const V=[];let F=0;for(;!I.done&&F<ES;)I=_.sample(F),V.push(I.value),F+=dl;j=void 0,f=V,p=F-dl,x="linear"}const P=VT(t.owner.current,e,f,{...s,duration:p,ease:x,times:j}),C=()=>{d=!1,P.cancel()},E=()=>{d=!0,ye.update(C),l(),h()};return P.onfinish=()=>{d||(t.set(DT(f,s)),r&&r(),E())},{then(_,I){return u.then(_,I)},attachTimeline(_){return P.timeline=_,P.onfinish=null,De},get time(){return Ln(P.currentTime||0)},set time(_){P.currentTime=as(_)},get speed(){return P.playbackRate},set speed(_){P.playbackRate=_},get duration(){return Ln(p)},play:()=>{o||(P.play(),$n(C))},pause:()=>P.pause(),stop:()=>{if(o=!0,P.playState==="idle")return;const{currentTime:_}=P;if(_){const I=gc({...s,autoplay:!1});t.setWithVelocity(I.sample(_-dl).value,I.sample(_).value,dl)}E()},complete:()=>{d||P.finish()},cancel:E}}function TS({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:De,pause:De,stop:De,then:i=>(i(),Promise.resolve()),cancel:De,complete:De});return e?gc({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const SS={type:"spring",stiffness:500,damping:25,restSpeed:10},CS=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),PS={type:"keyframes",duration:.8},kS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AS=(t,{keyframes:e})=>e.length>2?PS:bs.has(t)?t.startsWith("scale")?CS(e[1]):SS:kS,Fh=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(kr.test(e)||e==="0")&&!e.startsWith("url(")),IS=new Set(["brightness","contrast","saturate","opacity"]);function RS(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(eu)||[];if(!r)return t;const s=n.replace(r,"");let i=IS.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const VS=/([a-z-]*)\(.*?\)/g,Bh={...kr,getAnimatableNone:t=>{const e=t.match(VS);return e?e.map(RS).join(" "):t}},DS={...Sw,color:vt,backgroundColor:vt,outlineColor:vt,fill:vt,stroke:vt,borderColor:vt,borderTopColor:vt,borderRightColor:vt,borderBottomColor:vt,borderLeftColor:vt,filter:Bh,WebkitFilter:Bh},km=t=>DS[t];function m2(t,e){let n=km(t);return n!==Bh&&(n=kr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const p2=t=>/^0[^.\s]+$/.test(t);function LS(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||p2(t)}function MS(t,e,n,r){const s=Fh(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let l;const u=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?o:i[d-1]),LS(i[d])&&u.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(l=i[d]);if(s&&u.length&&l)for(let d=0;d<u.length;d++){const h=u[d];i[h]=m2(e,l)}return i}function OS({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:u,elapsed:d,...h}){return!!Object.keys(h).length}function Am(t,e){return t[e]||t.default||t}const FS={skipAnimations:!1},Im=(t,e,n,r={})=>s=>{const i=Am(r,t)||{},o=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-as(o);const u=MS(e,t,n,i),d=u[0],h=u[u.length-1],f=Fh(t,d),p=Fh(t,h);let x={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:j=>{e.set(j),i.onUpdate&&i.onUpdate(j)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(OS(i)||(x={...x,...AS(t,x)}),x.duration&&(x.duration=as(x.duration)),x.repeatDelay&&(x.repeatDelay=as(x.repeatDelay)),!f||!p||RT.current||i.type===!1||FS.skipAnimations)return TS(x);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const j=NS(e,t,x);if(j)return j}return gc(x)};function yc(t){return!!(It(t)&&t.add)}const g2=t=>/^\-?\d*\.?\d+$/.test(t);function Rm(t,e){t.indexOf(e)===-1&&t.push(e)}function Vm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Dm{constructor(){this.subscriptions=[]}add(e){return Rm(this.subscriptions,e),()=>Vm(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const BS=t=>!isNaN(parseFloat(t));class US{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=dt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,ye.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ye.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=BS(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Dm);const r=this.events[e].add(n);return e==="change"?()=>{r(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?d2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fi(t,e){return new US(t,e)}const y2=t=>e=>e.test(t),$S={test:t=>t==="auto",parse:t=>t},x2=[Es,X,yn,tr,Q4,K4,$S],to=t=>x2.find(y2(t)),zS=[...x2,vt,kr],WS=t=>zS.find(y2(t));function HS(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fi(n))}function qS(t,e){const n=nu(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const l=cT(i[o]);HS(t,o,l)}}function GS(t,e,n){var r,s;const i=Object.keys(e).filter(l=>!t.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const u=i[l],d=e[u];let h=null;Array.isArray(d)&&(h=d[0]),h===null&&(h=(s=(r=n[u])!==null&&r!==void 0?r:t.readValue(u))!==null&&s!==void 0?s:e[u]),h!=null&&(typeof h=="string"&&(g2(h)||p2(h))?h=parseFloat(h):!WS(h)&&kr.test(d)&&(h=m2(u,d)),t.addValue(u,fi(h,{owner:t})),n[u]===void 0&&(n[u]=h),h!==null&&t.setBaseTarget(u,h))}}function KS(t,e){return e?(e[t]||e.default||e).from:void 0}function QS(t,e,n){const r={};for(const s in t){const i=KS(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function YS({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function XS(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function v2(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");r&&(i=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const p=t.getValue(f),x=l[f];if(!p||x===void 0||h&&YS(h,f))continue;const j={delay:n,elapsed:0,...Am(i||{},f)};if(window.HandoffAppearAnimations){const E=t.getProps()[ww];if(E){const w=window.HandoffAppearAnimations(E,f,p,ye);w!==null&&(j.elapsed=w,j.isHandoff=!0)}}let P=!j.isHandoff&&!XS(p,x);if(j.type==="spring"&&(p.getVelocity()||j.velocity)&&(P=!1),p.animation&&(P=!1),P)continue;p.start(Im(f,p,x,t.shouldReduceMotion&&bs.has(f)?{type:!1}:j));const C=p.animation;yc(u)&&(u.add(f),C.then(()=>u.remove(f))),d.push(C)}return o&&Promise.all(d).then(()=>{o&&qS(t,o)}),d}function Uh(t,e,n={}){const r=nu(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(v2(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return JS(t,e,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function JS(t,e,n=0,r=0,s=1,i){const o=[],l=(t.variantChildren.size-1)*r,u=s===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(ZS).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(Uh(d,e,{...i,delay:n+u(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function ZS(t,e){return t.sortNodePosition(e)}function eC(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Uh(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Uh(t,e,n);else{const s=typeof e=="function"?nu(t,e,n.custom):e;r=Promise.all(v2(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const tC=[...gm].reverse(),nC=gm.length;function rC(t){return e=>Promise.all(e.map(({animation:n,options:r})=>eC(t,n,r)))}function sC(t){let e=rC(t);const n=oC();let r=!0;const s=(u,d)=>{const h=nu(t,d);if(h){const{transition:f,transitionEnd:p,...x}=h;u={...u,...x,...p}}return u};function i(u){e=u(t)}function o(u,d){const h=t.getProps(),f=t.getVariantContext(!0)||{},p=[],x=new Set;let j={},P=1/0;for(let E=0;E<nC;E++){const w=tC[E],_=n[w],I=h[w]!==void 0?h[w]:f[w],V=Yo(I),F=w===d?_.isActive:null;F===!1&&(P=E);let N=I===f[w]&&I!==h[w]&&V;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),_.protectedKeys={...j},!_.isActive&&F===null||!I&&!_.prevProp||Jc(I)||typeof I=="boolean")continue;let S=iC(_.prevProp,I)||w===d&&_.isActive&&!N&&V||E>P&&V,T=!1;const A=Array.isArray(I)?I:[I];let R=A.reduce(s,{});F===!1&&(R={});const{prevResolvedValues:k={}}=_,se={...k,...R},Ee=xe=>{S=!0,x.has(xe)&&(T=!0,x.delete(xe)),_.needsAnimating[xe]=!0};for(const xe in se){const Me=R[xe],W=k[xe];if(j.hasOwnProperty(xe))continue;let Q=!1;fc(Me)&&fc(W)?Q=!$w(Me,W):Q=Me!==W,Q?Me!==void 0?Ee(xe):x.add(xe):Me!==void 0&&x.has(xe)?Ee(xe):_.protectedKeys[xe]=!0}_.prevProp=I,_.prevResolvedValues=R,_.isActive&&(j={...j,...R}),r&&t.blockInitialAnimation&&(S=!1),S&&(!N||T)&&p.push(...A.map(xe=>({animation:xe,options:{type:w,...u}})))}if(x.size){const E={};x.forEach(w=>{const _=t.getBaseTarget(w);_!==void 0&&(E[w]=_)}),p.push({animation:E})}let C=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(p):Promise.resolve()}function l(u,d,h){var f;if(n[u].isActive===d)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(x=>{var j;return(j=x.animationState)===null||j===void 0?void 0:j.setActive(u,d)}),n[u].isActive=d;const p=o(h,u);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n}}function iC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$w(e,t):!1}function Kr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oC(){return{animate:Kr(!0),whileInView:Kr(),whileHover:Kr(),whileTap:Kr(),whileDrag:Kr(),whileFocus:Kr(),exit:Kr()}}class aC extends $r{constructor(e){super(e),e.animationState||(e.animationState=sC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Jc(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let lC=0;class cC extends $r{constructor(){super(...arguments),this.id=lC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const uC={animation:{Feature:aC},exit:{Feature:cC}},ny=(t,e)=>Math.abs(t-e);function dC(t,e){const n=ny(t.x,e.x),r=ny(t.y,e.y);return Math.sqrt(n**2+r**2)}class w2{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Ed(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,x=dC(f.offset,{x:0,y:0})>=3;if(!p&&!x)return;const{point:j}=f,{timestamp:P}=dt;this.history.push({...j,timestamp:P});const{onStart:C,onMove:E}=this.handlers;p||(C&&C(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=bd(p,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:x,onSessionEnd:j,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Ed(f.type==="pointercancel"?this.lastMoveEventInfo:bd(p,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,C),j&&j(f,C)},!Mw(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=tu(e),l=bd(o,this.transformPagePoint),{point:u}=l,{timestamp:d}=dt;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Ed(l,this.history)),this.removeListeners=_r(Dn(this.contextWindow,"pointermove",this.handlePointerMove),Dn(this.contextWindow,"pointerup",this.handlePointerUp),Dn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$n(this.updatePoint)}}function bd(t,e){return e?{point:e(t.point)}:t}function ry(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ed({point:t},e){return{point:t,delta:ry(t,_2(e)),offset:ry(t,hC(e)),velocity:fC(e,.1)}}function hC(t){return t[0]}function _2(t){return t[t.length-1]}function fC(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=_2(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>as(e)));)n--;if(!r)return{x:0,y:0};const i=Ln(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ut(t){return t.max-t.min}function $h(t,e=0,n=.01){return Math.abs(t-e)<=n}function sy(t,e,n,r=.5){t.origin=r,t.originPoint=Se(e.min,e.max,t.origin),t.scale=Ut(n)/Ut(e),($h(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Se(n.min,n.max,t.origin)-t.originPoint,($h(t.translate)||isNaN(t.translate))&&(t.translate=0)}function jo(t,e,n,r){sy(t.x,e.x,n.x,r?r.originX:void 0),sy(t.y,e.y,n.y,r?r.originY:void 0)}function iy(t,e,n){t.min=n.min+e.min,t.max=t.min+Ut(e)}function mC(t,e,n){iy(t.x,e.x,n.x),iy(t.y,e.y,n.y)}function oy(t,e,n){t.min=e.min-n.min,t.max=t.min+Ut(e)}function No(t,e,n){oy(t.x,e.x,n.x),oy(t.y,e.y,n.y)}function pC(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Se(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Se(n,t,r.max):Math.min(t,n)),t}function ay(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function gC(t,{top:e,left:n,bottom:r,right:s}){return{x:ay(t.x,n,s),y:ay(t.y,e,r)}}function ly(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function yC(t,e){return{x:ly(t.x,e.x),y:ly(t.y,e.y)}}function xC(t,e){let n=.5;const r=Ut(t),s=Ut(e);return s>r?n=Jo(e.min,e.max-r,t.min):r>s&&(n=Jo(t.min,t.max-s,e.min)),Pr(0,1,n)}function vC(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const zh=.35;function wC(t=zh){return t===!1?t=0:t===!0&&(t=zh),{x:cy(t,"left","right"),y:cy(t,"top","bottom")}}function cy(t,e,n){return{min:uy(t,e),max:uy(t,n)}}function uy(t,e){return typeof t=="number"?t:t[e]||0}const dy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ys=()=>({x:dy(),y:dy()}),hy=()=>({min:0,max:0}),Fe=()=>({x:hy(),y:hy()});function qt(t){return[t("x"),t("y")]}function b2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function _C({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function bC(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jd(t){return t===void 0||t===1}function Wh({scale:t,scaleX:e,scaleY:n}){return!jd(t)||!jd(e)||!jd(n)}function Xr(t){return Wh(t)||E2(t)||t.z||t.rotate||t.rotateX||t.rotateY}function E2(t){return fy(t.x)||fy(t.y)}function fy(t){return t&&t!=="0%"}function xc(t,e,n){const r=t-n,s=e*r;return n+s}function my(t,e,n,r,s){return s!==void 0&&(t=xc(t,s,r)),xc(t,n,r)+e}function Hh(t,e=0,n=1,r,s){t.min=my(t.min,e,n,r,s),t.max=my(t.max,e,n,r,s)}function j2(t,{x:e,y:n}){Hh(t.x,e.translate,e.scale,e.originPoint),Hh(t.y,n.translate,n.scale,n.originPoint)}function EC(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const u=i.instance;u&&u.style&&u.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Xs(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,j2(t,o)),r&&Xr(i.latestValues)&&Xs(t,i.latestValues))}e.x=py(e.x),e.y=py(e.y)}function py(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function sr(t,e){t.min=t.min+e,t.max=t.max+e}function gy(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=Se(t.min,t.max,i);Hh(t,e[n],e[r],o,e.scale)}const jC=["x","scaleX","originX"],NC=["y","scaleY","originY"];function Xs(t,e){gy(t.x,e,jC),gy(t.y,e,NC)}function N2(t,e){return b2(bC(t.getBoundingClientRect(),e))}function TC(t,e,n){const r=N2(t,n),{scroll:s}=e;return s&&(sr(r.x,s.offset.x),sr(r.y,s.offset.y)),r}const T2=({current:t})=>t?t.ownerDocument.defaultView:null,SC=new WeakMap;class CC{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(tu(h,"page").point)},i=(h,f)=>{const{drag:p,dragPropagation:x,onDragStart:j}=this.getProps();if(p&&!x&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Fw(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qt(C=>{let E=this.getAxisMotionValue(C).get()||0;if(yn.test(E)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[C];_&&(E=Ut(_)*(parseFloat(E)/100))}}this.originPoint[C]=E}),j&&ye.update(()=>j(h,f),!1,!0);const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:j,onDrag:P}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:C}=f;if(x&&this.currentDirection===null){this.currentDirection=PC(C),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",f.point,C),this.updateAxis("y",f.point,C),this.visualElement.render(),P&&P(h,f)},l=(h,f)=>this.stop(h,f),u=()=>qt(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new w2(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:T2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ye.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!hl(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=pC(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ks(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=gC(s.layoutBox,n):this.constraints=!1,this.elastic=wC(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&qt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=vC(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ks(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=TC(r,s.root,this.visualElement.getTransformPagePoint());let o=yC(s.layout.layoutBox,i);if(n){const l=n(_C(o));this.hasMutatedConstraints=!!l,l&&(o=b2(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=qt(h=>{if(!hl(h,n,this.currentDirection))return;let f=u&&u[h]||{};o&&(f={min:0,max:0});const p=s?200:1e6,x=s?40:1e7,j={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,j)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Im(e,r,0,n))}stopAnimation(){qt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){qt(n=>{const{drag:r}=this.getProps();if(!hl(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(e[n]-Se(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ks(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};qt(o=>{const l=this.getAxisMotionValue(o);if(l){const u=l.get();s[o]=xC({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qt(o=>{if(!hl(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(Se(u,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;SC.set(this.visualElement,this);const e=this.visualElement.current,n=Dn(e,"pointerdown",u=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Ks(u)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=In(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(qt(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=zh,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function hl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function PC(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kC extends $r{constructor(e){super(e),this.removeGroupControls=De,this.removeListeners=De,this.controls=new CC(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||De}unmount(){this.removeGroupControls(),this.removeListeners()}}const yy=t=>(e,n)=>{t&&ye.update(()=>t(e,n))};class AC extends $r{constructor(){super(...arguments),this.removePointerDownListener=De}onPointerDown(e){this.session=new w2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:T2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:yy(e),onStart:yy(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ye.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Dn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function IC(){const t=y.useContext(Yc);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=y.useId();return y.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Rl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xy(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const no={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(X.test(t))t=parseFloat(t);else return t;const n=xy(t,e.target.x),r=xy(t,e.target.y);return`${n}% ${r}%`}},RC={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=kr.parse(t);if(s.length>5)return r;const i=kr.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=u;const d=Se(l,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};class VC extends Vr.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;U4(DC),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Rl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ye.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function S2(t){const[e,n]=IC(),r=y.useContext(xm);return Vr.createElement(VC,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(bw),isPresent:e,safeToRemove:n})}const DC={borderRadius:{...no,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:no,borderTopRightRadius:no,borderBottomLeftRadius:no,borderBottomRightRadius:no,boxShadow:RC},C2=["TopLeft","TopRight","BottomLeft","BottomRight"],LC=C2.length,vy=t=>typeof t=="string"?parseFloat(t):t,wy=t=>typeof t=="number"||X.test(t);function MC(t,e,n,r,s,i){s?(t.opacity=Se(0,n.opacity!==void 0?n.opacity:1,OC(r)),t.opacityExit=Se(e.opacity!==void 0?e.opacity:1,0,FC(r))):i&&(t.opacity=Se(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<LC;o++){const l=`border${C2[o]}Radius`;let u=_y(e,l),d=_y(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||wy(u)===wy(d)?(t[l]=Math.max(Se(vy(u),vy(d),r),0),(yn.test(d)||yn.test(u))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Se(e.rotate||0,n.rotate||0,r))}function _y(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const OC=P2(0,.5,Xw),FC=P2(.5,.95,De);function P2(t,e,n){return r=>r<t?0:r>e?1:n(Jo(t,e,r))}function by(t,e){t.min=e.min,t.max=e.max}function Ht(t,e){by(t.x,e.x),by(t.y,e.y)}function Ey(t,e,n,r,s){return t-=e,t=xc(t,1/n,r),s!==void 0&&(t=xc(t,1/s,r)),t}function BC(t,e=0,n=1,r=.5,s,i=t,o=t){if(yn.test(e)&&(e=parseFloat(e),e=Se(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Se(i.min,i.max,r);t===i&&(l-=e),t.min=Ey(t.min,e,n,l,s),t.max=Ey(t.max,e,n,l,s)}function jy(t,e,[n,r,s],i,o){BC(t,e[n],e[r],e[s],e.scale,i,o)}const UC=["x","scaleX","originX"],$C=["y","scaleY","originY"];function Ny(t,e,n,r){jy(t.x,e,UC,n?n.x:void 0,r?r.x:void 0),jy(t.y,e,$C,n?n.y:void 0,r?r.y:void 0)}function Ty(t){return t.translate===0&&t.scale===1}function k2(t){return Ty(t.x)&&Ty(t.y)}function zC(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function A2(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Sy(t){return Ut(t.x)/Ut(t.y)}class WC{constructor(){this.members=[]}add(e){Rm(this.members,e),e.scheduleRender()}remove(e){if(Vm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cy(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:u,rotateX:d,rotateY:h}=n;u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const HC=(t,e)=>t.depth-e.depth;class qC{constructor(){this.children=[],this.isDirty=!1}add(e){Rm(this.children,e),this.isDirty=!0}remove(e){Vm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(HC),this.isDirty=!1,this.children.forEach(e)}}function GC(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&($n(r),t(i-e))};return ye.read(r,!0),()=>$n(r)}function KC(t){window.MotionDebug&&window.MotionDebug.record(t)}function QC(t){return t instanceof SVGElement&&t.tagName!=="svg"}function YC(t,e,n){const r=It(t)?t:fi(t);return r.start(Im("",r,e,n)),r.animation}const Py=["","X","Y","Z"],XC={visibility:"hidden"},ky=1e3;let JC=0;const Jr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function I2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=JC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Jr.totalNodes=Jr.resolvedTargetDeltas=Jr.recalculatedProjection=0,this.nodes.forEach(tP),this.nodes.forEach(oP),this.nodes.forEach(aP),this.nodes.forEach(nP),KC(Jr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new qC)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Dm),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=QC(o),this.instance=o;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||u)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=GC(p,250),Rl.hasAnimatedSinceResize&&(Rl.hasAnimatedSinceResize=!1,this.nodes.forEach(Iy))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:x,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||h.getDefaultTransition()||hP,{onLayoutAnimationStart:C,onLayoutAnimationComplete:E}=h.getProps(),w=!this.targetLayout||!A2(this.targetLayout,j)||x,_=!p&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||p&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const I={...Am(P,"layout"),onPlay:C,onComplete:E};(h.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else p||Iy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$n(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lP),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ay);return}this.isUpdating||this.nodes.forEach(sP),this.isUpdating=!1,this.nodes.forEach(iP),this.nodes.forEach(ZC),this.nodes.forEach(eP),this.clearAllSnapshots();const l=performance.now();dt.delta=Pr(0,1e3/60,l-dt.timestamp),dt.timestamp=l,dt.isProcessing=!0,md.update.process(dt),md.preRender.process(dt),md.render.process(dt),dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(rP),this.sharedNodes.forEach(cP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!k2(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&(l||Xr(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),fP(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Fe();const l=o.measureViewportBox(),{scroll:u}=this.root;return u&&(sr(l.x,u.offset.x),sr(l.y,u.offset.y)),l}removeElementScroll(o){const l=Fe();Ht(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;if(d!==this.root&&h&&f.layoutScroll){if(h.isRoot){Ht(l,o);const{scroll:p}=this.root;p&&(sr(l.x,-p.offset.x),sr(l.y,-p.offset.y))}sr(l.x,h.offset.x),sr(l.y,h.offset.y)}}return l}applyTransform(o,l=!1){const u=Fe();Ht(u,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Xs(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Xr(h.latestValues)&&Xs(u,h.latestValues)}return Xr(this.latestValues)&&Xs(u,this.latestValues),u}removeTransform(o){const l=Fe();Ht(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Xr(d.latestValues))continue;Wh(d.latestValues)&&d.updateSnapshot();const h=Fe(),f=d.measurePageBox();Ht(h,f),Ny(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Xr(this.latestValues)&&Ny(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=dt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),No(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Ht(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ht(this.target,this.layout.layoutBox),j2(this.target,this.targetDelta)):Ht(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),No(this.relativeTargetOrigin,this.target,x.target),Ht(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Jr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Wh(this.parent.latestValues)||E2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===dt.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Ht(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,x=this.treeScale.y;EC(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:j}=l;if(!j){this.projectionTransform&&(this.projectionDelta=Ys(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ys(),this.projectionDeltaWithTransform=Ys());const P=this.projectionTransform;jo(this.projectionDelta,this.layoutCorrected,j,this.latestValues),this.projectionTransform=Cy(this.projectionDelta,this.treeScale),(this.projectionTransform!==P||this.treeScale.x!==p||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),Jr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},h={...this.latestValues},f=Ys();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Fe(),x=u?u.source:void 0,j=this.layout?this.layout.source:void 0,P=x!==j,C=this.getStack(),E=!C||C.members.length<=1,w=!!(P&&!E&&this.options.crossfade===!0&&!this.path.some(dP));this.animationProgress=0;let _;this.mixTargetDelta=I=>{const V=I/1e3;Ry(f.x,o.x,V),Ry(f.y,o.y,V),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(No(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uP(this.relativeTarget,this.relativeTargetOrigin,p,V),_&&zC(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Fe()),Ht(_,this.relativeTarget)),P&&(this.animationValues=h,MC(h,d,this.latestValues,V,w,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($n(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{Rl.hasAnimatedSinceResize=!0,this.currentAnimation=YC(0,ky,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ky),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:h}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&R2(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Fe();const f=Ut(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+f;const p=Ut(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}Ht(l,u),Xs(l,h),jo(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new WC),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(l=!0),!l)return;const d={};for(let h=0;h<Py.length;h++){const f="rotate"+Py[h];u[f]&&(d[f]=u[f],o.setStaticValue(f,0))}o.render();for(const h in d)o.setStaticValue(h,d[h]);o.scheduleRender()}getProjectionStyles(o){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return XC;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Il(o==null?void 0:o.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=Il(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Xr(this.latestValues)&&(P.transform=h?h({},""):"none",this.hasProjected=!1),P}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=Cy(this.projectionDeltaWithTransform,this.treeScale,p),h&&(d.transform=h(p,d.transform));const{x,y:j}=this.projectionDelta;d.transformOrigin=`${x.origin*100}% ${j.origin*100}% 0`,f.animationValues?d.opacity=f===this?(u=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const P in dc){if(p[P]===void 0)continue;const{correct:C,applyTo:E}=dc[P],w=d.transform==="none"?p[P]:C(p[P],f);if(E){const _=E.length;for(let I=0;I<_;I++)d[E[I]]=w}else d[P]=w}return this.options.layoutId&&(d.pointerEvents=f===this?Il(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Ay),this.root.sharedNodes.clear()}}}function ZC(t){t.updateLayout()}function eP(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?qt(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],x=Ut(p);p.min=r[f].min,p.max=p.min+x}):R2(i,n.layoutBox,r)&&qt(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],x=Ut(r[f]);p.max=p.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+x)});const l=Ys();jo(l,r,n.layoutBox);const u=Ys();o?jo(u,t.applyTransform(s,!0),n.measuredBox):jo(u,r,n.layoutBox);const d=!k2(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:x}=f;if(p&&x){const j=Fe();No(j,n.layoutBox,p.layoutBox);const P=Fe();No(P,r,x.layoutBox),A2(j,P)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=j,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function tP(t){Jr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rP(t){t.clearSnapshot()}function Ay(t){t.clearMeasurements()}function sP(t){t.isLayoutDirty=!1}function iP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Iy(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function oP(t){t.resolveTargetDelta()}function aP(t){t.calcProjection()}function lP(t){t.resetRotation()}function cP(t){t.removeLeadSnapshot()}function Ry(t,e,n){t.translate=Se(e.translate,0,n),t.scale=Se(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Vy(t,e,n,r){t.min=Se(e.min,n.min,r),t.max=Se(e.max,n.max,r)}function uP(t,e,n,r){Vy(t.x,e.x,n.x,r),Vy(t.y,e.y,n.y,r)}function dP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hP={duration:.45,ease:[.4,0,.1,1]},Dy=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Ly=Dy("applewebkit/")&&!Dy("chrome/")?Math.round:De;function My(t){t.min=Ly(t.min),t.max=Ly(t.max)}function fP(t){My(t.x),My(t.y)}function R2(t,e,n){return t==="position"||t==="preserve-aspect"&&!$h(Sy(e),Sy(n),.2)}const mP=I2({attachResizeListener:(t,e)=>In(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nd={current:void 0},V2=I2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Nd.current){const t=new mP({});t.mount(window),t.setOptions({layoutScroll:!0}),Nd.current=t}return Nd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),pP={pan:{Feature:AC},drag:{Feature:kC,ProjectionNode:V2,MeasureLayout:S2}},gP=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function yP(t){const e=gP.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function qh(t,e,n=1){const[r,s]=yP(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return g2(o)?parseFloat(o):o}else return Dh(s)?qh(s,e,n+1):s}function xP(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!Dh(i))return;const o=qh(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!Dh(i))continue;const o=qh(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const vP=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),D2=t=>vP.has(t),wP=t=>Object.keys(t).some(D2),Oy=t=>t===Es||t===X,Fy=(t,e)=>parseFloat(t.split(", ")[e]),By=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Fy(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?Fy(i[1],t):0}},_P=new Set(["x","y","z"]),bP=ya.filter(t=>!_P.has(t));function EP(t){const e=[];return bP.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const mi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:By(4,13),y:By(5,14)};mi.translateX=mi.x;mi.translateY=mi.y;const jP=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,l={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{l[d]=mi[d](r,i)}),e.render();const u=e.measureViewportBox();return n.forEach(d=>{const h=e.getValue(d);h&&h.jump(l[d]),t[d]=mi[d](u,i)}),t},NP=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(D2);let i=[],o=!1;const l=[];if(s.forEach(u=>{const d=t.getValue(u);if(!t.hasValue(u))return;let h=n[u],f=to(h);const p=e[u];let x;if(fc(p)){const j=p.length,P=p[0]===null?1:0;h=p[P],f=to(h);for(let C=P;C<j&&p[C]!==null;C++)x?Tm(to(p[C])===x):x=to(p[C])}else x=to(p);if(f!==x)if(Oy(f)&&Oy(x)){const j=d.get();typeof j=="string"&&d.set(parseFloat(j)),typeof p=="string"?e[u]=parseFloat(p):Array.isArray(p)&&x===X&&(e[u]=p.map(parseFloat))}else f!=null&&f.transform&&(x!=null&&x.transform)&&(h===0||p===0)?h===0?d.set(x.transform(h)):e[u]=f.transform(p):(o||(i=EP(t),o=!0),l.push(u),r[u]=r[u]!==void 0?r[u]:e[u],d.jump(p))}),l.length){const u=l.indexOf("height")>=0?window.pageYOffset:null,d=jP(e,t,l);return i.length&&i.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),Xc&&u!==null&&window.scrollTo({top:u}),{target:d,transitionEnd:r}}else return{target:e,transitionEnd:r}};function TP(t,e,n,r){return wP(e)?NP(t,e,n,r):{target:e,transitionEnd:r}}const SP=(t,e,n,r)=>{const s=xP(t,e,r);return e=s.target,r=s.transitionEnd,TP(t,e,n,r)},Gh={current:null},L2={current:!1};function CP(){if(L2.current=!0,!!Xc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gh.current=t.matches;t.addListener(e),e()}else Gh.current=!1}function PP(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(It(i))t.addValue(s,i),yc(r)&&r.add(s);else if(It(o))t.addValue(s,fi(i,{owner:t})),yc(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const l=t.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=t.getStaticValue(s);t.addValue(s,fi(l!==void 0?l:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Uy=new WeakMap,M2=Object.keys(Xo),kP=M2.length,$y=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],AP=ym.length;class IP{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ye.render(this.render,!1,!0);const{latestValues:l,renderState:u}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Zc(n),this.isVariantNode=_w(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const p=h[f];l[f]!==void 0&&It(p)&&(p.set(l[f],!1),yc(d)&&d.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Uy.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),L2.current||CP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Uy.delete(this.current),this.projection&&this.projection.unmount(),$n(this.notifyUpdate),$n(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=bs.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ye.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,l;for(let u=0;u<kP;u++){const d=M2[u],{isEnabled:h,Feature:f,ProjectionNode:p,MeasureLayout:x}=Xo[d];p&&(o=p),h(n)&&(!this.features[d]&&f&&(this.features[d]=new f(this)),x&&(l=x))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:d,drag:h,dragConstraints:f,layoutScroll:p,layoutRoot:x}=n;this.projection.setOptions({layoutId:u,layout:d,alwaysMeasureLayout:!!h||f&&Ks(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:x})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<$y.length;r++){const s=$y[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=PP(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<AP;r++){const s=ym[r],i=this.props[s];(Yo(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=fi(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Nm(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!It(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Dm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class O2 extends IP{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=QS(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){GS(this,r,o);const l=SP(this,r,o,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function RP(t){return window.getComputedStyle(t)}class VP extends O2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(bs.has(n)){const r=km(n);return r&&r.default||0}else{const r=RP(e),s=(Nw(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return N2(e,n)}build(e,n,r,s){wm(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return jm(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;It(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){Aw(e,n,r,s)}}class DP extends O2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(bs.has(n)){const r=km(n);return r&&r.default||0}return n=Iw.has(n)?n:pm(n),e.getAttribute(n)}measureInstanceViewportBox(){return Fe()}scrapeMotionValuesFromProps(e,n){return Vw(e,n)}build(e,n,r,s){bm(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){Rw(e,n,r,s)}mount(e){this.isSVGTag=Em(e.tagName),super.mount(e)}}const LP=(t,e)=>vm(t)?new DP(e,{enableHardwareAcceleration:!1}):new VP(e,{enableHardwareAcceleration:!0}),MP={layout:{ProjectionNode:V2,MeasureLayout:S2}},OP={...uC,...kT,...pP,...MP},O=F4((t,e)=>yT(t,e,OP,LP));function F2(){const t=y.useRef(!1);return mm(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function FP(){const t=F2(),[e,n]=y.useState(0),r=y.useCallback(()=>{t.current&&n(e+1)},[e]);return[y.useCallback(()=>ye.postRender(r),[r]),e]}class BP extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function UP({children:t,isPresent:e}){const n=y.useId(),r=y.useRef(null),s=y.useRef({width:0,height:0,top:0,left:0});return y.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:u}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),y.createElement(BP,{isPresent:e,childRef:r,sizeRef:s},y.cloneElement(t,{ref:r}))}const Td=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=Dw($P),u=y.useId(),d=y.useMemo(()=>({id:u,initial:e,isPresent:n,custom:s,onExitComplete:h=>{l.set(h,!0);for(const f of l.values())if(!f)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),i?void 0:[n]);return y.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[n]),y.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=y.createElement(UP,{isPresent:n},t)),y.createElement(Yc.Provider,{value:d},t)};function $P(){return new Map}function zP(t){return y.useEffect(()=>()=>t(),[])}const Zr=t=>t.key||"";function WP(t,e){t.forEach(n=>{const r=Zr(n);e.set(r,n)})}function HP(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const ls=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=y.useContext(xm).forceRender||FP()[0],u=F2(),d=HP(t);let h=d;const f=y.useRef(new Map).current,p=y.useRef(h),x=y.useRef(new Map).current,j=y.useRef(!0);if(mm(()=>{j.current=!1,WP(d,x),p.current=h}),zP(()=>{j.current=!0,x.clear(),f.clear()}),j.current)return y.createElement(y.Fragment,null,h.map(w=>y.createElement(Td,{key:Zr(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},w)));h=[...h];const P=p.current.map(Zr),C=d.map(Zr),E=P.length;for(let w=0;w<E;w++){const _=P[w];C.indexOf(_)===-1&&!f.has(_)&&f.set(_,void 0)}return o==="wait"&&f.size&&(h=[]),f.forEach((w,_)=>{if(C.indexOf(_)!==-1)return;const I=x.get(_);if(!I)return;const V=P.indexOf(_);let F=w;if(!F){const N=()=>{f.delete(_);const v=Array.from(x.keys()).filter(S=>!C.includes(S));if(v.forEach(S=>x.delete(S)),p.current=d.filter(S=>{const T=Zr(S);return T===_||v.includes(T)}),!f.size){if(u.current===!1)return;l(),r&&r()}};F=y.createElement(Td,{key:Zr(I),isPresent:!1,onExitComplete:N,custom:e,presenceAffectsLayout:i,mode:o},I),f.set(_,F)}h.splice(V,0,F)}),h=h.map(w=>{const _=w.key;return f.has(_)?w:y.createElement(Td,{key:Zr(w),isPresent:!0,presenceAffectsLayout:i,mode:o},w)}),y.createElement(y.Fragment,null,f.size?h:h.map(w=>y.cloneElement(w)))};function qP({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const js=y.forwardRef(qP);function GP({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const B2=y.forwardRef(GP);function KP({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Cn=y.forwardRef(KP);function QP({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const YP=y.forwardRef(QP);function XP({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const U2=y.forwardRef(XP);function JP({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const $2=y.forwardRef(JP);function ZP({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const z2=y.forwardRef(ZP);function e3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const t3=y.forwardRef(e3);function n3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const r3=y.forwardRef(n3);function s3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const i3=y.forwardRef(s3);function o3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const a3=y.forwardRef(o3);function l3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const c3=y.forwardRef(l3);function u3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const W2=y.forwardRef(u3);function d3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const ru=y.forwardRef(d3);function h3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const f3=y.forwardRef(h3);function m3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const H2=y.forwardRef(m3);function p3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const g3=y.forwardRef(p3);function y3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const x3=y.forwardRef(y3);function v3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const cs=y.forwardRef(v3);function w3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const br=y.forwardRef(w3);function _3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const q2=y.forwardRef(_3);function b3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const E3=y.forwardRef(b3);function j3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 11.25v8.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 1 0 9.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1 1 14.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const N3=y.forwardRef(j3);function T3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const si=y.forwardRef(T3);function S3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const C3=y.forwardRef(S3);function P3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const k3=y.forwardRef(P3);function A3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Kh=y.forwardRef(A3);function I3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const G2=y.forwardRef(I3);function R3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const V3=y.forwardRef(R3);function D3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const L3=y.forwardRef(D3);function M3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const O3=y.forwardRef(M3);function F3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const B3=y.forwardRef(F3);function U3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const K2=y.forwardRef(U3);function $3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const z3=y.forwardRef($3);function W3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Lm=y.forwardRef(W3);function H3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Er=y.forwardRef(H3);function q3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const Mm=y.forwardRef(q3);function G3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const K3=y.forwardRef(G3);function Q3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Q2=y.forwardRef(Q3);function Y3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const X3=y.forwardRef(Y3);function J3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Om=y.forwardRef(J3);function Z3({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const Y2=y.forwardRef(Z3);function e6({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const t6=y.forwardRef(e6);function n6({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Rn=y.forwardRef(n6);function r6({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const pi=y.forwardRef(r6),Sd={},dn=(Sd==null?void 0:Sd.VITE_API_BASE_URL)||"/api";class _n{static async getProducts(){return(await fetch(`${dn}/products`)).json()}static async getProductById(e){const n=await fetch(`${dn}/products/${e}`);if(n.ok)return n.json();if(n.status===404)return null;throw new Error("Failed to fetch product")}static async createProduct(e){return(await fetch(`${dn}/products`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}static async updateProduct(e,n){return(await fetch(`${dn}/products/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json()}static async deleteProduct(e){return(await fetch(`${dn}/products/${e}`,{method:"DELETE"})).json()}static async getOrders(){return(await fetch(`${dn}/orders`)).json()}static async createOrder(e){return(await fetch(`${dn}/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}static async updateOrderStatus(e,n){return(await fetch(`${dn}/orders/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:n})})).json()}static async getUsers(){return(await fetch(`${dn}/users`)).json()}static async createUser(e){return(await fetch(`${dn}/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}}const s6=()=>{const[t,e]=y.useState(!1),[n,r]=y.useState(""),[s,i]=y.useState([]),[o,l]=y.useState(!1),[u,d]=y.useState(!1),[h,f]=y.useState(!1),[p,x]=y.useState([]),{state:j}=_s(),{state:P}=pa(),{currentUser:C,logout:E}=Ur(),w=Rt(),_=Fr(),I=y.useRef(null);y.useEffect(()=>{(async()=>{try{const A=await _n.getProducts();x(A)}catch(A){console.error("Error loading products for search:",A)}})()},[]),y.useEffect(()=>{if(n.trim().length>0&&p.length>0){const T=n.toLowerCase(),A=p.filter(R=>{const k=(R.name||"").toLowerCase(),se=(R.category||"").toLowerCase(),Ee=(R.description||"").toLowerCase();return k.includes(T)||se.includes(T)||Ee.includes(T)}).sort((R,k)=>{const se=(R.name||"").toLowerCase(),Ee=(k.name||"").toLowerCase();return se===T&&Ee!==T?-1:Ee===T&&se!==T?1:se.startsWith(T)&&!Ee.startsWith(T)?-1:Ee.startsWith(T)&&!se.startsWith(T)?1:se.localeCompare(Ee)}).slice(0,6);i(A),l(A.length>0)}else i([]),l(!1)},[n,p]),y.useEffect(()=>{const T=A=>{const R=A.target;if(I.current&&!I.current.contains(R)&&l(!1),h){const k=document.querySelector("[data-profile-button]"),se=document.querySelector("[data-profile-dropdown]");k&&se&&!k.contains(R)&&!se.contains(R)&&f(!1)}};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[h]);const V=async()=>{try{await E(),J.success("Logged out successfully"),w("/")}catch{J.error("Failed to logout")}},F=T=>{T.preventDefault(),n.trim()&&(w(`/products?search=${encodeURIComponent(n.trim())}`),r(""),l(!1))},N=T=>{w(`/products/${T}`),r(""),l(!1)},v=[{name:"Home",href:"/"},{name:"Products",href:"/products"},{name:"Contact",href:"/contact"}],S=T=>!!(T==="/"&&_.pathname==="/"||T!=="/"&&_.pathname.startsWith(T));return a.jsxs("nav",{className:"bg-white shadow-lg border-b border-gray-100 sticky top-0 z-50",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center h-20",children:[a.jsx(re,{to:"/",className:"flex items-center",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),a.jsxs("div",{className:"hidden sm:block",children:[a.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-orange-500 to-pink-500 bg-clip-text text-transparent",children:"Miraj"}),a.jsx("p",{className:"text-xs text-gray-500 -mt-1",children:"Candles"})]})]})}),a.jsx("div",{className:"hidden lg:flex items-center space-x-8",children:v.map(T=>a.jsxs(re,{to:T.href,className:`relative px-3 py-2 rounded-lg font-medium transition-all duration-200 ${S(T.href)?"text-orange-600 bg-orange-50":"text-gray-600 hover:text-orange-600 hover:bg-gray-50"}`,children:[T.name,S(T.href)&&a.jsx(O.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-orange-600",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]},T.name))}),a.jsx("div",{className:"hidden md:flex flex-1 max-w-lg mx-8",ref:I,children:a.jsxs("form",{onSubmit:F,className:"relative w-full",children:[a.jsx("input",{type:"text",placeholder:"Search for candles...",value:n,onChange:T=>r(T.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-gray-50 hover:bg-white transition-colors duration-200"}),a.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-orange-500 transition-colors duration-200",children:a.jsx(Kh,{className:"w-5 h-5"})}),o&&s.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-xl shadow-lg max-h-96 overflow-y-auto z-50",children:s.map(T=>{var A;return a.jsxs("div",{onClick:()=>N(T.id),className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[a.jsx("img",{src:T.imageUrl||"/images/candles/candle-collection-1.png",alt:T.name||"Product",className:"w-12 h-12 object-cover rounded-lg mr-3",onError:R=>{R.currentTarget.src="/images/candles/candle-collection-1.png"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:T.name||"Unknown Product"}),a.jsx("p",{className:"text-xs text-gray-500",children:T.category||"Uncategorized"}),a.jsxs("p",{className:"text-sm font-semibold text-orange-600",children:["$",((A=T.price)==null?void 0:A.toFixed(2))||"0.00"]})]})]},T.id)})})]})}),a.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[a.jsxs(re,{to:"/wishlist",className:"relative p-3 group rounded-xl hover:bg-red-50 transition-all duration-300 hover:shadow-lg",children:[a.jsx("svg",{className:"w-6 h-6 text-gray-600 group-hover:text-red-500 transition-colors duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),P.items.length>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center font-medium",children:P.items.length})]}),a.jsxs(re,{to:"/cart",className:"relative p-3 group rounded-xl hover:bg-orange-50 transition-all duration-300 hover:shadow-lg",children:[a.jsx(Er,{className:"w-6 h-6 text-gray-600 group-hover:text-orange-500 transition-colors duration-300"}),j.items.length>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center font-medium",children:j.items.length})]}),C?a.jsxs("div",{className:"relative",children:[a.jsxs("button",{"data-profile-button":!0,onClick:()=>f(!h),className:"flex items-center space-x-2 p-2 rounded-xl hover:bg-gray-50 transition-all duration-300 group",children:[a.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:C.profilePicture?a.jsx("img",{src:C.profilePicture,alt:"Profile",className:"h-full w-full object-cover"}):a.jsx(Rn,{className:"h-4 w-4 text-gray-600"})}),a.jsx("span",{className:"text-sm font-medium text-gray-700 hidden lg:block",children:C.name||"User"}),a.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a.jsx(ls,{children:h&&a.jsxs(O.div,{"data-profile-dropdown":!0,initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-200 z-50",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:C.profilePicture?a.jsx("img",{src:C.profilePicture,alt:"Profile",className:"h-full w-full object-cover"}):a.jsx(Rn,{className:"h-6 w-6 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:C.name||"User"}),a.jsx("p",{className:"text-sm text-gray-600",children:C.email})]})]})}),a.jsxs("div",{className:"p-2",children:[a.jsxs(re,{to:"/user/dashboard",onClick:()=>f(!1),className:"flex items-center w-full px-3 py-2 text-left text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(Rn,{className:"h-5 w-5 mr-3 text-gray-400"}),"My Dashboard"]}),a.jsxs(re,{to:"/cart",onClick:()=>f(!1),className:"flex items-center w-full px-3 py-2 text-left text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(Er,{className:"h-5 w-5 mr-3 text-gray-400"}),"My Cart (",j.items.length,")"]}),a.jsxs(re,{to:"/wishlist",onClick:()=>f(!1),className:"flex items-center w-full px-3 py-2 text-left text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx("svg",{className:"h-5 w-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"My Wishlist (",P.items.length,")"]}),C.role==="admin"&&a.jsxs(re,{to:"/admin/dashboard",onClick:()=>f(!1),className:"flex items-center w-full px-3 py-2 text-left text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(ru,{className:"h-5 w-5 mr-3 text-gray-400"}),"Admin Dashboard"]}),a.jsx("div",{className:"border-t border-gray-100 mt-2 pt-2",children:a.jsxs("button",{onClick:()=>{V(),f(!1)},className:"flex items-center w-full px-3 py-2 text-left text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[a.jsx("svg",{className:"h-5 w-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})})]})]})})]}):a.jsx("button",{onClick:()=>d(!0),className:"p-3 rounded-xl hover:bg-blue-50 transition-all duration-300 hover:shadow-lg group",children:a.jsx(Rn,{className:"w-6 h-6 text-gray-600 group-hover:text-blue-500 transition-colors duration-300"})})]}),a.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",onClick:()=>e(!t),children:t?a.jsx(pi,{className:"w-6 h-6"}):a.jsx(U2,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"md:hidden pb-4",children:a.jsxs("form",{onSubmit:F,className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search for candles...",value:n,onChange:T=>r(T.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-gray-50"}),a.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-orange-500 transition-colors duration-200",children:a.jsx(Kh,{className:"w-5 h-5"})})]})})]}),a.jsx(ls,{children:t&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white border-t border-gray-100",children:a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[v.map(T=>a.jsx(re,{to:T.href,className:`block px-4 py-3 rounded-lg font-medium transition-colors duration-200 ${S(T.href)?"text-orange-600 bg-orange-50":"text-gray-600 hover:text-orange-600 hover:bg-gray-50"}`,onClick:()=>e(!1),children:T.name},T.name)),a.jsxs(re,{to:"/wishlist",className:"flex items-center px-4 py-3 text-gray-600 hover:text-red-500 hover:bg-gray-50 rounded-lg transition-colors duration-200",onClick:()=>e(!1),children:[a.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Wishlist (",P.items.length,")"]}),a.jsxs(re,{to:"/cart",className:"flex items-center px-4 py-3 text-gray-600 hover:text-orange-500 hover:bg-gray-50 rounded-lg transition-colors duration-200",onClick:()=>e(!1),children:[a.jsx(Er,{className:"w-5 h-5 mr-3"}),"Cart (",j.items.length,")"]}),C?a.jsxs(a.Fragment,{children:[C.role==="admin"&&a.jsx(re,{to:"/admin/dashboard",className:"block px-4 py-3 text-gray-600 hover:text-orange-600 hover:bg-gray-50 rounded-lg transition-colors duration-200",onClick:()=>e(!1),children:"Admin Dashboard"}),a.jsx("button",{onClick:()=>{V(),e(!1)},className:"block w-full text-left px-4 py-3 text-gray-600 hover:text-orange-600 hover:bg-gray-50 rounded-lg transition-colors duration-200",children:"Logout"})]}):a.jsx(re,{to:"/admin/login",className:"block px-4 py-3 text-gray-600 hover:text-orange-600 hover:bg-gray-50 rounded-lg transition-colors duration-200",onClick:()=>e(!1),children:"Login"})]})})}),a.jsx(ls,{children:u&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>d(!1),children:a.jsxs(O.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",onClick:T=>T.stopPropagation(),children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to Miraj"}),a.jsx("p",{className:"text-gray-600",children:"Choose how you'd like to continue"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{d(!1),w("/user/login")},className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-4 rounded-xl font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Login as Customer"}),a.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{d(!1),w("/user/register")},className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-4 rounded-xl font-medium hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Register as Customer"}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),a.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{d(!1),w("/admin/login")},className:"w-full border-2 border-gray-300 text-gray-700 py-4 rounded-xl font-medium hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:"Admin Login"})]}),a.jsx("button",{onClick:()=>d(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:a.jsx(pi,{className:"w-6 h-6"})})]})})})]})},i6=()=>a.jsx("footer",{className:"bg-gray-900 text-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-xl font-bold",children:"Miraj Store"}),a.jsx("p",{className:"text-gray-400",children:"Your one-stop destination for candles, kids stationery, religious products, and thoughtful gifts."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-semibold",children:"Quick Links"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{to:"/",className:"block text-gray-400 hover:text-white transition-colors duration-200",children:"Home"}),a.jsx(re,{to:"/products",className:"block text-gray-400 hover:text-white transition-colors duration-200",children:"Products"}),a.jsx(re,{to:"/cart",className:"block text-gray-400 hover:text-white transition-colors duration-200",children:"Cart"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-semibold",children:"Customer Service"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-gray-400",children:"Email: info@mirajcandles.com"}),a.jsx("p",{className:"text-gray-400",children:"Phone: +91 8015324928"}),a.jsx("p",{className:"text-gray-400",children:"WhatsApp: +91 8015324928"}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["Mon-Sat: 9:30 AM - 6:00 PM",a.jsx("br",{}),"Sunday: 9:30 AM - 1:30 PM"]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-semibold",children:"Newsletter"}),a.jsx("p",{className:"text-gray-400",children:"Subscribe for new product arrivals, exclusive offers, and special deals."}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-2 bg-gray-800 text-white border border-gray-700 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-white"}),a.jsx("button",{className:"px-4 py-2 bg-white text-black rounded-r-lg hover:bg-gray-200 transition-colors duration-200",children:"Subscribe"})]})]})]}),a.jsx("div",{className:"mt-8 pt-8 border-t border-gray-800 text-center text-gray-400",children:a.jsx("p",{children:" 2024 Miraj Store. All rights reserved."})})]})});function o6({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const X2=y.forwardRef(o6),zn=({product:t})=>{const[e,n]=y.useState(!1);Rt();const{addItem:r}=_s(),{addToWishlist:s,removeFromWishlist:i,isInWishlist:o}=pa(),l=["/images/candles/candle-collection-1.png","/images/candles/candle-collection-2.png","/images/candles/candle-collection-3.png","/images/candles/candle-collection-4.png","/images/candles/candle-collection-5.png"],u=t.imageUrl||l[Math.floor(Math.random()*l.length)],d=f=>{f.preventDefault(),f.stopPropagation(),t.stock>0?(r(t),J.success(`${t.title} added to cart!`)):J.error("Product is out of stock!")},h=f=>{f.preventDefault(),f.stopPropagation(),o(t.id)?i(t.id):s(t)};return a.jsx(O.div,{whileHover:{y:-4},transition:{duration:.2},className:"card group",children:a.jsxs(re,{to:`/products/${t.id}`,children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx("img",{src:e?l[0]:u,alt:t.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",onError:()=>n(!0)}),t.stock===0&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold",children:"Out of Stock"})}),a.jsx("button",{onClick:h,className:"absolute top-3 right-3 p-2 bg-white bg-opacity-80 hover:bg-opacity-100 rounded-full shadow-md transition-all duration-200",children:o(t.id)?a.jsx(X2,{className:"w-5 h-5 text-red-500"}):a.jsx(si,{className:"w-5 h-5 text-gray-600 hover:text-red-500"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1 group-hover:text-black transition-colors duration-200",children:t.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2",children:t.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-lg font-bold text-black",children:["",(t.price*80).toFixed(0)]}),a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,disabled:t.stock===0,className:`p-2 rounded-lg transition-colors duration-200 ${t.stock>0?"bg-black text-white hover:bg-gray-800":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:a.jsx(Mm,{className:"w-5 h-5"})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.stock>0?`${t.stock} in stock`:"Out of stock"})]})]})})},Wn=({size:t="medium",text:e="Loading...",fullScreen:n=!1})=>{const r={small:"w-8 h-8",medium:"w-12 h-12",large:"w-16 h-16"},s={small:"text-sm",medium:"text-base",large:"text-lg"},i=n?"fixed inset-0 bg-white bg-opacity-90 backdrop-blur-sm flex items-center justify-center z-50":"flex items-center justify-center py-4";return a.jsx("div",{className:i,children:a.jsxs("div",{className:"text-center",children:[a.jsx(O.div,{className:`${r[t]} relative mx-auto mb-4`,animate:{rotate:[0,360]},transition:{duration:1.5,repeat:1/0,ease:"linear"},children:a.jsxs("div",{className:"relative w-full h-full",children:[a.jsx(O.div,{className:"absolute inset-0 flex items-center justify-center",animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},children:a.jsx("span",{className:"text-green-600 font-bold text-2xl",children:"$"})}),a.jsx(O.div,{className:"absolute top-0 right-0 w-2 h-2 bg-yellow-400 rounded-full",animate:{y:[0,-10,0],x:[0,5,0],scale:[1,1.3,1]},transition:{duration:1.2,repeat:1/0,delay:.2}}),a.jsx(O.div,{className:"absolute bottom-0 left-0 w-2 h-2 bg-yellow-500 rounded-full",animate:{y:[0,-8,0],x:[0,-3,0],scale:[1,1.2,1]},transition:{duration:1.4,repeat:1/0,delay:.4}}),a.jsx(O.div,{className:"absolute top-1/2 left-0 w-1.5 h-1.5 bg-orange-400 rounded-full",animate:{y:[0,-6,0],x:[0,-4,0],scale:[1,1.1,1]},transition:{duration:.6,repeat:1/0,ease:"easeInOut"}})]})}),a.jsx(O.p,{animate:{opacity:[.7,1,.7]},transition:{duration:1,repeat:1/0},className:`text-gray-600 font-medium ${s[t]}`,children:e})]})})},a6=async()=>{try{return await _n.getProducts()||[]}catch(t){return console.error("Error fetching products:",t),[]}},l6=()=>{const t=Rt(),[e,n]=y.useState([]),[r,s]=y.useState([]),[i,o]=y.useState(!0),[l,u]=y.useState(!0),[d,h]=y.useState(0),f=[{id:1,name:"Sarah Johnson",location:"New York, NY",rating:5,review:"Absolutely love these candles! The scents are amazing and they last so long.",image:"/images/miraj-logo.png"},{id:2,name:"Michael Chen",location:"Los Angeles, CA",rating:5,review:"Best quality candles I have ever purchased. Highly recommend!",image:"/images/miraj-logo.png"},{id:3,name:"Emily Davis",location:"Chicago, IL",rating:5,review:"These candles create the perfect ambiance for my home. Love them!",image:"/images/miraj-logo.png"},{id:4,name:"James Rodriguez",location:"Miami, FL",rating:5,review:"The aromatherapy candles have transformed my meditation sessions completely.",image:"/images/miraj-logo.png"},{id:5,name:"Lisa Thompson",location:"Seattle, WA",rating:5,review:"Perfect gift sets! My family absolutely loved the beautiful packaging and quality.",image:"/images/miraj-logo.png"},{id:6,name:"David Park",location:"Austin, TX",rating:5,review:"Clean burning, long-lasting, and incredible fragrances. Worth every penny!",image:"/images/miraj-logo.png"}],p=[{title:"New Arrivals",subtitle:"Premium Handcrafted Candles",description:"Discover our latest collection of artisan candles, crafted with love and the finest natural ingredients.",image:"/images/candles/candle-collection-1.png",buttonText:"Shop New Collection",badge:"NEW",link:"/new-arrivals"},{title:"On Discount",subtitle:"Up to 30% Off Soy Wax Collection",description:"Limited time offer! Experience the clean burn and extended life of our premium soy wax candles.",image:"/images/candles/candle-collection-2.png",buttonText:"Shop Sale",badge:"SALE",link:"/sale"},{title:"Trending Now",subtitle:"Customer Favorites",description:"Our most loved aromatherapy candles trending among thousands of customers worldwide.",image:"/images/candles/candle-collection-4.png",buttonText:"Shop Trending",badge:"TRENDING",link:"/trending"},{title:"Premium Gift Sets",subtitle:"Perfect for Every Occasion",description:"Beautifully packaged candle gift sets that create lasting memories for your loved ones.",image:"/images/candles/candle-collection-5.png",buttonText:"Browse Gifts",badge:"GIFT",link:"/gifts"}];y.useEffect(()=>{(async()=>{try{o(!0),u(!0);const E=await a6();if(E.length>0){const w=E.filter(I=>I.status==="featured").slice(0,4)||E.slice(0,4),_=E.filter(I=>I.status==="bestseller").slice(0,4)||E.slice(4,8);n(w),s(_)}}catch(E){console.error("Error loading products:",E),n([]),s([])}finally{o(!1),u(!1)}})()},[]),y.useEffect(()=>{const C=setInterval(()=>{h(E=>(E+1)%p.length)},4e3);return()=>clearInterval(C)},[p.length]);const x=()=>{h(C=>(C+1)%p.length)},j=()=>{h(C=>(C-1+p.length)%p.length)},P=[{name:"Kids Stationery",displayName:"Kids Stationery",image:"/images/candles/candle-collection-6.jpg",categoryImage:"/images/categories/kids-stationery.jpg",color:"bg-gradient-to-br from-pink-400 via-pink-500 to-purple-600",description:"Fun and colorful stationery for kids",hasSubcategories:!1},{name:"Religious Products",displayName:"Religious Products",image:"/images/candles/candle-collection-7.jpg",categoryImage:"/images/categories/religious-products.jpg",color:"bg-gradient-to-br from-yellow-400 via-amber-500 to-orange-600",description:"Sacred items for spiritual practices",hasSubcategories:!1},{name:"Candles",displayName:"Candles",image:"/images/candles/candle-collection-8.jpg",categoryImage:"/images/categories/candles.jpg",color:"bg-gradient-to-br from-orange-400 via-red-500 to-pink-600",description:"Premium handcrafted candles",hasSubcategories:!0,subcategories:[{name:"Scented Candles",description:"Luxurious fragrances for every mood"},{name:"Soy Wax",description:"Natural and eco-friendly options"},{name:"Decor Candles",description:"Beautiful designs for home styling"},{name:"Aromatherapy",description:"Therapeutic scents for wellness"}]},{name:"Gifts",displayName:"Gifts",image:"/images/candles/candle-collection-10.jpg",categoryImage:"/images/categories/gifts.jpg",color:"bg-gradient-to-br from-purple-400 via-indigo-500 to-blue-600",description:"Perfect presents for loved ones",hasSubcategories:!1}];return a.jsxs("div",{className:"min-h-screen",children:[a.jsx("section",{className:"bg-gradient-to-br from-gray-50 via-orange-50 to-pink-50 h-[600px] relative overflow-hidden flex items-center pt-16 md:pt-0",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[a.jsx(ls,{mode:"wait",children:a.jsxs(O.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.8,ease:"easeInOut"},className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-center",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"inline-block bg-gradient-to-r from-orange-100 to-pink-100 text-orange-700 px-4 py-2 rounded-full text-sm font-semibold",children:p[d].badge}),a.jsxs(O.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-3xl lg:text-4xl font-bold text-gray-900 leading-tight",children:[p[d].title,a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-orange-500 to-pink-500 bg-clip-text text-transparent",children:p[d].subtitle})]}),a.jsx(O.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-lg text-gray-600 leading-relaxed",children:p[d].description}),a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:a.jsxs(re,{to:p[d].link,className:"inline-flex items-center bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white px-8 py-3 rounded-2xl font-medium text-base transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:-translate-y-1",children:[p[d].buttonText,a.jsx(O.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:a.jsx(Cn,{className:"w-6 h-6 ml-3"})})]})})]}),a.jsxs(O.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.8},className:"relative h-64",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-200 to-pink-200 rounded-full opacity-30 blur-3xl"}),a.jsx("img",{src:p[d].image,alt:"Miraj Candles Collection",className:"w-full h-full object-cover relative z-10 drop-shadow-2xl rounded-2xl"})]})]},d)}),a.jsx("div",{className:"hidden md:block absolute top-1/2 -left-6 transform -translate-y-1/2 z-10",children:a.jsx("button",{onClick:j,className:"bg-white/90 hover:bg-white text-gray-700 p-4 rounded-full shadow-xl hover:shadow-2xl transition-all duration-300 backdrop-blur-sm border border-gray-200",children:a.jsx(a3,{className:"w-6 h-6"})})}),a.jsx("div",{className:"hidden md:block absolute top-1/2 -right-6 transform -translate-y-1/2 z-10",children:a.jsx("button",{onClick:x,className:"bg-white/90 hover:bg-white text-gray-700 p-4 rounded-full shadow-xl hover:shadow-2xl transition-all duration-300 backdrop-blur-sm border border-gray-200",children:a.jsx(c3,{className:"w-6 h-6"})})}),a.jsx("div",{className:"flex justify-center mt-12 space-x-3",children:p.map((C,E)=>a.jsx("button",{onClick:()=>h(E),className:`w-3 h-3 rounded-full transition-all duration-300 ${d===E?"bg-gradient-to-r from-orange-500 to-pink-500 w-8":"bg-gray-300 hover:bg-gray-400"}`},E))})]})}),a.jsx("section",{className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx(O.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Our Categories"})}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:P.map((C,E)=>a.jsx(O.div,{initial:{opacity:0,y:50,scale:.9},whileInView:{opacity:1,y:0,scale:1},transition:{duration:.6,delay:E*.15,type:"spring",stiffness:100},viewport:{once:!0},whileHover:{y:-20,scale:1.05,transition:{duration:.3}},whileTap:{scale:.95},className:"relative overflow-hidden rounded-3xl shadow-xl group cursor-pointer transform",children:C.hasSubcategories?a.jsx("div",{onClick:()=>t("/candles-subcategories"),children:a.jsxs("div",{className:"relative h-80 bg-white",children:[a.jsx("div",{className:`absolute inset-0 ${C.color} opacity-90`}),a.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2",children:a.jsx(O.div,{whileHover:{scale:1.1,rotate:5},className:"w-20 h-20 rounded-2xl overflow-hidden shadow-lg border-4 border-white/30",children:a.jsx("img",{src:C.categoryImage,alt:C.name,className:"w-full h-full object-cover"})})}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-6 pt-24",children:[a.jsx(O.h3,{className:"text-white text-2xl font-bold mb-3",whileHover:{scale:1.05},children:C.displayName}),a.jsx("p",{className:"text-white/90 text-sm mb-4 leading-relaxed",children:C.description}),a.jsx(O.div,{className:"text-xs text-white bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full border border-white/30",initial:{opacity:0,y:10},whileHover:{opacity:1,y:0},transition:{delay:.2},children:"Has Subcategories"})]}),a.jsx(O.div,{className:"absolute bottom-4 right-4 opacity-0 group-hover:opacity-100",initial:{x:10,opacity:0},whileHover:{x:0,opacity:1},transition:{delay:.1},children:a.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full p-2",children:a.jsx(Cn,{className:"w-5 h-5 text-white"})})})]})}):a.jsx(re,{to:`/products?category=${C.name.toLowerCase().replace(" ","-")}`,children:a.jsxs("div",{className:"relative h-80 bg-white",children:[a.jsx("div",{className:`absolute inset-0 ${C.color} opacity-90`}),a.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2",children:a.jsx(O.div,{whileHover:{scale:1.1,rotate:5},className:"w-20 h-20 rounded-2xl overflow-hidden shadow-lg border-4 border-white/30",children:a.jsx("img",{src:C.categoryImage,alt:C.name,className:"w-full h-full object-cover"})})}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-6 pt-24",children:[a.jsx(O.h3,{className:"text-white text-2xl font-bold mb-3",whileHover:{scale:1.05},children:C.displayName}),a.jsx("p",{className:"text-white/90 text-sm leading-relaxed",children:C.description})]}),a.jsx(O.div,{className:"absolute bottom-4 right-4 opacity-0 group-hover:opacity-100",initial:{x:10,opacity:0},whileHover:{x:0,opacity:1},transition:{delay:.1},children:a.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full p-2",children:a.jsx(Cn,{className:"w-5 h-5 text-white"})})})]})})},C.name))}),a.jsx("div",{className:"text-center",children:a.jsx(O.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(re,{to:"/categories",className:"inline-flex items-center bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-8 py-4 rounded-xl font-medium text-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[a.jsx(O.span,{initial:{x:-5},animate:{x:0},transition:{delay:.2},children:"All Categories"}),a.jsx(O.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:a.jsx(Cn,{className:"w-5 h-5 ml-2"})})]})})})]})}),a.jsx("section",{className:"py-16 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Featured Products"}),a.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Discover our handpicked selection of premium candles, crafted with love and attention to detail."})]}),i?a.jsx(Wn,{size:"large",text:"Loading featured products..."}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:e.map((C,E)=>a.jsx(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6,delay:E*.1},children:a.jsx(zn,{product:C})},C.id))}),a.jsx("div",{className:"text-center",children:a.jsxs(re,{to:"/featured",className:"inline-flex items-center bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-medium transition-colors duration-200",children:["View All Featured Products",a.jsx(Cn,{className:"w-5 h-5 ml-2"})]})})]})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Best Sellers"}),a.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Our most popular candles that customers love and keep coming back for."})]}),l?a.jsx(Wn,{size:"large",text:"Loading bestsellers..."}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:r.map((C,E)=>a.jsx(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6,delay:E*.1},children:a.jsx(zn,{product:C})},C.id))}),a.jsx("div",{className:"text-center",children:a.jsxs(re,{to:"/bestsellers",className:"inline-flex items-center bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-medium transition-colors duration-200",children:["View All Best Sellers",a.jsx(Cn,{className:"w-5 h-5 ml-2"})]})})]})}),a.jsx("section",{className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(O.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Our Happy Clients"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Don't just take our word for it. Here's what our customers say about their experience with Miraj Candles."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f.map((C,E)=>a.jsxs(O.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:E*.1},viewport:{once:!0},whileHover:{y:-5},className:"bg-gray-50 p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("img",{src:C.image,alt:C.name,className:"w-12 h-12 rounded-full mr-4 object-cover"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:C.name}),a.jsx("p",{className:"text-sm text-gray-600",children:C.location})]})]}),a.jsx("div",{className:"flex mb-3",children:[...Array(C.rating)].map((w,_)=>a.jsx("svg",{className:"w-5 h-5 text-yellow-400 fill-current",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},_))}),a.jsxs("p",{className:"text-gray-700 italic",children:['"',C.review,'"']})]},C.name))})]})}),a.jsxs("section",{className:"py-20 bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 text-white relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-white to-transparent rounded-full -translate-x-48 -translate-y-48"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-tl from-white to-transparent rounded-full translate-x-48 translate-y-48"})]}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[a.jsxs(O.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx(O.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.2},className:"inline-block bg-gradient-to-r from-orange-400 to-pink-400 text-white px-4 py-2 rounded-full text-sm font-semibold mb-6",children:"Our Story"}),a.jsx("h2",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Crafted with Passion"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-xl text-gray-200 leading-relaxed",children:"At Miraj Candles, we believe in the transformative power of fragrance. Each candle is meticulously handcrafted using premium natural waxes and carefully selected fragrance oils."}),a.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:"Our commitment to quality ensures that every Miraj candle delivers exceptional scent throw, clean burning, and hours of aromatic bliss."})]}),a.jsx(O.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(re,{to:"/about",className:"inline-flex items-center bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white px-8 py-4 rounded-2xl font-medium text-lg transition-all duration-300 shadow-xl hover:shadow-2xl",children:["Learn Our Story",a.jsx(O.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:a.jsx(Cn,{className:"w-5 h-5 ml-3"})})]})})]}),a.jsxs(O.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-400 to-pink-400 rounded-3xl opacity-20 blur-3xl transform rotate-6"}),a.jsxs(O.div,{whileHover:{scale:1.05,rotateY:5},transition:{duration:.3},className:"relative",children:[a.jsx("img",{src:"/images/candles/candle-collection-3.png",alt:"Candle Making Process",className:"rounded-3xl shadow-2xl relative z-10"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-purple-900/30 to-transparent rounded-3xl z-20"})]})]})]})})]})]})},c6=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!0),[s,i]=y.useState(""),[o,l]=y.useState("all"),[u,d]=y.useState([0,1e3]),[h,f]=y.useState("newest"),[p,x]=y.useState(!1),[j,P]=y.useState(!1),[C,E]=DN(),w=[{name:"Kids Stationaries",urlName:"kids-stationaries",color:"bg-gradient-to-br from-pink-400 to-pink-600",description:"Fun and colorful stationery for kids",icon:a.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})}),count:0},{name:"Religious Products",urlName:"religious-products",color:"bg-gradient-to-br from-yellow-400 to-yellow-600",description:"Sacred items for spiritual practices",icon:a.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),count:0},{name:"Gifts",urlName:"gifts",color:"bg-gradient-to-br from-indigo-400 to-indigo-600",description:"Special gifts for every occasion",icon:a.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M20 6h-2.18c.11-.31.18-.65.18-1a2.996 2.996 0 0 0-5.5-1.65l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z"})}),count:0},{name:"Accessories",color:"bg-gradient-to-br from-teal-400 to-teal-600",description:"Stylish accessories for every lifestyle",icon:a.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})}),count:0},{name:"Beauty Products",color:"bg-gradient-to-br from-rose-400 to-rose-600",description:"Premium beauty and skincare essentials",icon:a.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),count:0},{name:"Pet Supplies",color:"bg-gradient-to-br from-emerald-400 to-emerald-600",description:"Everything your pets need and love",icon:a.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M4.5 12.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5S6.83 11 6 11s-1.5.67-1.5 1.5zM9 16c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5S9 15.17 9 16zm3-8c0 .83.67 1.5 1.5 1.5S15 8.83 15 8s-.67-1.5-1.5-1.5S12 7.17 12 8zm4.5 4.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5zM12 22c3.86-5.86 7-9.43 7-13.5C19 4.46 15.54 1 12 1S5 4.46 5 8.5c0 4.07 3.14 7.64 7 13.5z"})}),count:0},{name:"Home Decor",color:"bg-gradient-to-br from-amber-400 to-amber-600",description:"Transform your space with style",icon:a.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})}),count:0},{name:"Customized Gifts",color:"bg-gradient-to-br from-violet-400 to-violet-600",description:"Personalized gifts for special moments",icon:a.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2l.09 1.26L12 2c5.5 0 10 4.5 10 10s-4.5 10-10 10S2 17.5 2 12 6.5 2 12 2m0 2C7.58 4 4 7.58 4 12s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8m0 2c3.31 0 6 2.69 6 6 0 1.66-.67 3.16-1.76 4.24l-1.42-1.42C15.59 14.05 16 13.07 16 12c0-2.21-1.79-4-4-4v4l-3-3 3-3z"})}),count:0}];w.map(V=>({...V,count:t.filter(F=>F.category.toLowerCase()===V.name.toLowerCase()).length})),y.useEffect(()=>{const V=C.get("category"),F=C.get("search");V&&V!=="all"&&l(V),F&&i(F),(async()=>{try{r(!0);const v=await _n.getProducts();e(v||[])}catch(v){console.error("Error loading products:",v),e([])}finally{r(!1)}})()},[C]);const _=y.useMemo(()=>{let V=[...t];if(s&&(V=V.filter(v=>(v.name||v.title||"").toLowerCase().includes(s.toLowerCase())||v.description.toLowerCase().includes(s.toLowerCase()))),o!=="all"){const S={"kids-stationaries":["Kids Stationaries"],"religious-products":["Religious Products","Religious Items"],gifts:["Gifts"],candles:["Scented Candles","Soy Wax","Decor Candles","Aromatherapy","Gift Sets"],"scented-candles":["Scented Candles"],"soy-wax":["Soy Wax"],"decor-candles":["Decor Candles"],aromatherapy:["Aromatherapy"],"gift-sets":["Gift Sets"]}[o]||[o];V=V.filter(T=>S.some(A=>T.category.toLowerCase()===A.toLowerCase()||T.category.toLowerCase().includes(A.toLowerCase())))}const[F,N]=u;switch(V=V.filter(v=>v.price>=F&&v.price<=N),h){case"price-low":V.sort((v,S)=>v.price-S.price);break;case"price-high":V.sort((v,S)=>S.price-v.price);break;case"name":V.sort((v,S)=>(v.name||v.title||"").localeCompare(S.name||S.title||""));break;case"newest":default:V.sort((v,S)=>new Date(S.createdAt||0).getTime()-new Date(v.createdAt||0).getTime());break}return V},[t,s,o,u,h]),I=()=>{i(""),l("all"),d([0,1e3]),f("newest"),E({})};return n?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx(Wn,{size:"large",text:"Loading products..."})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8 text-center",children:a.jsxs(O.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:o!=="all"?o.charAt(0).toUpperCase()+o.slice(1):"All Products"}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:s?`Search results for "${s}"`:"Discover our complete collection of premium products"})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6 mb-8",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Kh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search products...",value:s,onChange:V=>i(V.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),a.jsxs("select",{value:h,onChange:V=>f(V.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[a.jsx("option",{value:"newest",children:"Newest First"}),a.jsx("option",{value:"price-low",children:"Price: Low to High"}),a.jsx("option",{value:"price-high",children:"Price: High to Low"}),a.jsx("option",{value:"name",children:"Name: A to Z"})]}),a.jsxs("button",{onClick:()=>x(!p),className:"flex items-center px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(E3,{className:"w-5 h-5 mr-2"}),"Filters"]})]}),p&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-6 pt-6 border-t border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),a.jsxs("select",{value:o,onChange:V=>l(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Categories"}),w.map(V=>a.jsx("option",{value:V.urlName,children:V.name},V.name))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",placeholder:"Min",value:u[0],onChange:V=>d([Number(V.target.value),u[1]]),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),a.jsx("input",{type:"number",placeholder:"Max",value:u[1],onChange:V=>d([u[0],Number(V.target.value)]),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:I,className:"w-full px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:"Clear Filters"})})]})})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("p",{className:"text-gray-600",children:["Showing ",_.length," of ",t.length," products"]})}),_.length>0?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:_.map((V,F)=>a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:F*.1},children:a.jsx(zn,{product:V})},V.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No products found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search criteria or filters"}),a.jsx("button",{onClick:I,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-medium transition-colors duration-200",children:"Clear All Filters"})]})]})})},ct={rating:4.5,totalReviews:120,totalSold:"5k",deliveryInfo:{estimatedDays:3,returnPolicy:"7 days easy return policy"},highlights:["Hand-poured with natural soy wax","Infused with premium essential oils","Clean, long-lasting burn","Eco-friendly and sustainable"],specifications:{Material:"Soy Wax, Cotton Wick",Scent:"Lavender & Vanilla","Burn Time":"40-50 hours",Weight:"250g",Dimensions:'3" x 4"'},ratingBreakdown:{5:80,4:25,3:10,2:3,1:2},reviews:[{id:1,name:"Alice Smith",rating:5,date:"2 days ago",review:"Absolutely love this candle! The scent is amazing and it burns so cleanly.",verified:!0,helpful:15},{id:2,name:"Bob Johnson",rating:4,date:"1 week ago",review:"Great candle, good value for money. The packaging was also very nice.",verified:!0,helpful:8},{id:3,name:"Charlie Brown",rating:3,date:"3 weeks ago",review:"It was okay, the scent was a bit too subtle for my liking.",verified:!1,helpful:2}],customerPhotos:["/images/customer-photos/photo1.jpg","/images/customer-photos/photo2.jpg","/images/customer-photos/photo3.jpg","/images/customer-photos/photo4.jpg"]},u6=()=>{const{id:t}=oN(),e=Rt(),{addItem:n}=_s(),{addToWishlist:r,removeFromWishlist:s,isInWishlist:i}=pa(),{setLoading:o}=ga(),[l,u]=y.useState(null),[d,h]=y.useState(1),[f,p]=y.useState(0),[x,j]=y.useState(!1),[P,C]=y.useState("description");y.useEffect(()=>{if(!t)return;(async()=>{try{o(!0);const v=await _n.getProductById(t);v?u(v):(J.error("Product not found"),e("/products"))}catch(v){console.error("Error loading product:",v),J.error("Failed to load product"),e("/products")}finally{o(!1)}})()},[t,e,o]);const E=()=>{if(l&&l.stock>0){for(let N=0;N<d;N++)n(l);J.success(`${d} x ${l.title} added to cart!`)}else J.error("Product is out of stock!")},w=()=>{l&&(i(l.id)?s(l.id):r(l))},_=()=>{if(l&&l.stock>0){for(let N=0;N<d;N++)n(l);J.success("Product added to cart! Redirecting to checkout...",{duration:2e3,icon:""}),setTimeout(()=>{e("/cart")},1500)}else J.error("Product is out of stock!")},I=()=>{navigator.share?navigator.share({title:l==null?void 0:l.title,text:l==null?void 0:l.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),J.success("Link copied to clipboard!"))},V=(N,v="w-5 h-5")=>[...Array(5)].map((S,T)=>a.jsx(Q2,{className:`${v} ${T<N?"text-yellow-400 fill-current":"text-gray-300"}`},T));if(!l)return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"animate-pulse",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"aspect-w-1 aspect-h-1 bg-gray-300 rounded-lg"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-300 rounded"}),a.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),a.jsx("div",{className:"h-6 bg-gray-300 rounded w-1/4"}),a.jsx("div",{className:"h-32 bg-gray-300 rounded"})]})]})})})});const F=[l.imageUrl,"/images/candles/candle-collection-1.png","/images/candles/candle-collection-2.png","/images/candles/candle-collection-3.png"];return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center text-sm text-gray-500 mb-6",children:[a.jsx("button",{onClick:()=>e("/"),className:"hover:text-gray-700",children:"Home"}),a.jsx("span",{className:"mx-2",children:"/"}),a.jsx("button",{onClick:()=>e("/products"),className:"hover:text-gray-700",children:"Products"}),a.jsx("span",{className:"mx-2",children:"/"}),a.jsx("span",{className:"text-gray-900",children:l.title})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12",children:[a.jsxs(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[a.jsxs("div",{className:"relative mb-4",children:[a.jsx("img",{src:F[f],alt:l.title,className:"w-full h-96 lg:h-[500px] object-cover object-center rounded-lg"}),a.jsx("button",{onClick:w,className:"absolute top-4 right-4 p-2 bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full shadow-lg transition-all duration-200",children:a.jsx(si,{className:`w-6 h-6 ${i(l.id)?"text-red-500 fill-current":"text-gray-600"}`})}),a.jsx("button",{onClick:I,className:"absolute top-4 right-16 p-2 bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full shadow-lg transition-all duration-200",children:a.jsx(z3,{className:"w-6 h-6 text-gray-600"})})]}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:F.map((N,v)=>a.jsx("button",{onClick:()=>p(v),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all ${f===v?"border-orange-500":"border-gray-200 hover:border-gray-300"}`,children:a.jsx("img",{src:N,alt:`${l.title} ${v+1}`,className:"w-full h-full object-cover"})},v))}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Customer Photos"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:ct.customerPhotos.slice(0,4).map((N,v)=>a.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg flex items-center justify-center",children:a.jsx(z2,{className:"w-8 h-8 text-gray-400"})},v))})]})]}),a.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:l.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Brand: Miraj Candles"}),a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-2xl font-bold text-orange-500 mr-2",children:ct.rating}),a.jsx("div",{className:"flex items-center",children:V(Math.floor(ct.rating))})]}),a.jsxs("span",{className:"text-gray-600",children:["(",ct.totalReviews," reviews)"]}),a.jsxs("span",{className:"text-green-600 font-medium",children:[ct.totalSold," sold"]})]})]}),a.jsxs("div",{className:"border-t border-b py-4",children:[a.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:["",(l.price*80).toFixed(0)]}),a.jsx("p",{className:"text-green-600 text-sm",children:"Inclusive of all taxes"}),a.jsx("p",{className:"text-blue-600 text-sm",children:"Free delivery"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Highlights"}),a.jsx("ul",{className:"space-y-2",children:ct.highlights.map((N,v)=>a.jsxs("li",{className:"flex items-center text-gray-600",children:[a.jsx(r3,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0"}),N]},v))})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Y2,{className:"w-5 h-5 text-blue-600 mr-2"}),a.jsx("span",{className:"font-medium",children:"Delivery Information"})]}),a.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Free delivery in ",ct.deliveryInfo.estimatedDays," business days"]}),a.jsx("p",{className:"text-sm text-gray-600",children:ct.deliveryInfo.returnPolicy})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${l.stock>0?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{className:`text-sm font-medium ${l.stock>0?"text-green-600":"text-red-600"}`,children:l.stock>0?`${l.stock} in stock`:"Out of stock"})]}),l.stock>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),a.jsx("select",{value:d,onChange:N=>h(parseInt(N.target.value)),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[...Array(Math.min(10,l.stock))].map((N,v)=>a.jsx("option",{value:v+1,children:v+1},v+1))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:E,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 px-6 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center",children:[a.jsx(Mm,{className:"w-5 h-5 mr-2"}),"Add to Cart"]}),a.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:_,className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-3 px-6 rounded-lg font-medium transition-all duration-200 flex items-center justify-center shadow-lg",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Order Now"]})]})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Lm,{className:"w-5 h-5 mr-2"}),"Secure transaction  100% authentic products"]})]})]}),a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-lg shadow-sm border border-gray-100",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("div",{className:"flex space-x-8 px-6",children:["description","specifications","reviews"].map(N=>a.jsxs("button",{onClick:()=>C(N),className:`py-4 text-sm font-medium capitalize border-b-2 transition-colors ${P===N?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[N,N==="reviews"&&` (${ct.totalReviews})`]},N))})}),a.jsxs("div",{className:"p-6",children:[P==="description"&&a.jsxs("div",{className:"prose max-w-none",children:[a.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:l.description}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Our premium candles are crafted with the finest natural soy wax and essential oils, providing a clean, long-lasting burn that fills your space with delightful fragrance. Each candle is hand-poured in small batches to ensure quality and consistency."})]}),P==="specifications"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(ct.specifications).map(([N,v])=>a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[a.jsx("span",{className:"font-medium text-gray-700",children:N}),a.jsx("span",{className:"text-gray-600",children:v})]},N))}),P==="reviews"&&a.jsxs("div",{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[a.jsx("div",{children:a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("span",{className:"text-4xl font-bold text-gray-900 mr-4",children:ct.rating}),a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center mb-1",children:V(Math.floor(ct.rating))}),a.jsxs("p",{className:"text-sm text-gray-600",children:[ct.totalReviews," global ratings"]})]})]})}),a.jsx("div",{children:Object.entries(ct.ratingBreakdown).reverse().map(([N,v])=>a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsxs("span",{className:"text-sm text-gray-600 w-12",children:[N," star"]}),a.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full mx-3",children:a.jsx("div",{className:"h-full bg-yellow-400 rounded-full",style:{width:`${v/ct.totalReviews*100}%`}})}),a.jsx("span",{className:"text-sm text-gray-600 w-8",children:v})]},N))})]}),a.jsx("div",{className:"space-y-6",children:ct.reviews.map(N=>a.jsx("div",{className:"border-b border-gray-100 pb-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-gray-600",children:N.name.split(" ").map(v=>v[0]).join("")})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"font-medium text-gray-900",children:N.name}),N.verified&&a.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Verified Purchase"})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"flex",children:V(N.rating,"w-4 h-4")}),a.jsx("span",{className:"text-sm text-gray-500",children:N.date})]}),a.jsx("p",{className:"text-gray-700 mb-3",children:N.review}),a.jsxs("button",{className:"text-sm text-gray-500 hover:text-gray-700",children:["Helpful (",N.helpful,")"]})]})]})},N.id))})]})]})]})]})})},d6=()=>{const t=Rt(),e=[{name:"Kids Stationaries",image:"/images/candles/candle-collection-6.jpg",color:"bg-gradient-to-br from-pink-400 via-pink-500 to-purple-600",description:"Fun and colorful stationery for kids",icon:a.jsx("svg",{className:"w-12 h-12",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})}),productCount:25,hasSubcategories:!1},{name:"Religious Products",image:"/images/candles/candle-collection-7.jpg",color:"bg-gradient-to-br from-yellow-400 via-amber-500 to-orange-600",description:"Sacred items for spiritual practices",icon:a.jsx("svg",{className:"w-12 h-12",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),productCount:18,hasSubcategories:!1},{name:"Candles",image:"/images/candles/candle-collection-8.jpg",color:"bg-gradient-to-br from-orange-400 via-red-500 to-pink-600",description:"Premium handcrafted candles",icon:a.jsx("svg",{className:"w-12 h-12",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M9.5 2C8.67 2 8 2.67 8 3.5V5H4v14h16V5h-4V3.5C16 2.67 15.33 2 14.5 2h-5zm0 2h5V7h-5V4zm-3.5 5h12v10h-12V9z"})}),productCount:98,hasSubcategories:!0},{name:"Gifts",image:"/images/candles/candle-collection-10.jpg",color:"bg-gradient-to-br from-purple-400 via-indigo-500 to-blue-600",description:"Perfect presents for loved ones",icon:a.jsx("svg",{className:"w-12 h-12",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M20 6h-2.18c.11-.31.18-.65.18-1a2.996 2.996 0 0 0-5.5-1.65l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z"})}),productCount:15,hasSubcategories:!1}];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("section",{className:"bg-gradient-to-br from-orange-900 via-orange-800 to-purple-900 py-20",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:a.jsxs(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"All Categories"}),a.jsx("p",{className:"text-xl text-orange-100 max-w-3xl mx-auto",children:"Explore our complete range of candle collections, each crafted with love and attention to detail"})]})})}),a.jsx("section",{className:"py-20",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((n,r)=>a.jsx(O.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},whileHover:{y:-10,scale:1.02},className:"bg-white rounded-2xl shadow-xl overflow-hidden group cursor-pointer",children:a.jsxs("div",{onClick:()=>{n.hasSubcategories?t("/candles-subcategories"):t(`/products?category=${n.name.toLowerCase().replace(" ","-")}`)},children:[a.jsxs("div",{className:`${n.color} h-48 relative`,children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 group-hover:bg-opacity-20 transition-all duration-300"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"text-white transform group-hover:scale-110 transition-transform duration-300",children:n.icon})}),a.jsx("div",{className:"absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:a.jsx("div",{className:"bg-white bg-opacity-20 rounded-full p-2",children:a.jsx(Cn,{className:"w-5 h-5 text-white"})})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-orange-600 transition-colors duration-300",children:n.name}),a.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:n.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:[n.productCount," products"]}),a.jsx("span",{className:"text-orange-500 font-medium group-hover:text-orange-600 transition-colors duration-300",children:"Explore "})]})]})]})},n.name))})})})]})},h6=()=>{const t=Rt(),e=[{name:"Scented Candles",image:"/images/candles/candle-collection-1.png",color:"bg-gradient-to-br from-orange-400 to-orange-600",description:"Luxurious fragrances for every mood and occasion",icon:a.jsx("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),productCount:12},{name:"Soy Wax",image:"/images/candles/candle-collection-2.png",color:"bg-gradient-to-br from-green-400 to-green-600",description:"Natural and eco-friendly candle options",icon:a.jsx("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M17 8C8 10 5.9 16.17 3.82 21.34l1.89.66C7.84 16.67 9 13.34 12 13.34s4.16 3.33 6.29 8.66l1.89-.66C18.1 16.17 16 10 17 8z"})}),productCount:8},{name:"Decor Candles",image:"/images/candles/candle-collection-3.png",color:"bg-gradient-to-br from-purple-400 to-purple-600",description:"Beautiful designs for home styling",icon:a.jsx("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})}),productCount:6},{name:"Aromatherapy",image:"/images/candles/candle-collection-4.png",color:"bg-gradient-to-br from-blue-400 to-blue-600",description:"Therapeutic scents for wellness and relaxation",icon:a.jsx("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2c1.1 0 2 .9 2 2 0 .74-.4 1.38-1 1.72v2.5c0 .28-.22.5-.5.5s-.5-.22-.5-.5v-2.5c-.6-.35-1-.98-1-1.72 0-1.1.9-2 2-2zm0 7c-.83 0-1.5.67-1.5 1.5 0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5c0-.83-.67-1.5-1.5-1.5z"})}),productCount:8},{name:"Luxury Collection",image:"/images/candles/candle-collection-5.png",color:"bg-gradient-to-br from-yellow-400 to-yellow-600",description:"Premium handcrafted luxury candles",icon:a.jsx("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}),productCount:4},{name:"Gift Sets",image:"/images/candles/candle-collection-10.jpg",color:"bg-gradient-to-br from-red-400 to-red-600",description:"Curated candle gift sets for special occasions",icon:a.jsx("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M20 6h-2.18c.11-.31.18-.65.18-1a2.996 2.996 0 0 0-5.5-1.65l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z"})}),productCount:5}];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("section",{className:"bg-gradient-to-br from-orange-900 via-orange-800 to-red-900 py-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(O.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/"),className:"flex items-center text-white hover:text-orange-200 mb-6 transition-colors duration-200",children:[a.jsx(js,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),a.jsxs(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"Candle Categories"}),a.jsx("p",{className:"text-xl text-orange-100 max-w-3xl mx-auto",children:"Explore our complete range of candle collections, each crafted with love and attention to detail"})]})]})}),a.jsx("section",{className:"py-20",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((n,r)=>a.jsx(O.div,{initial:{opacity:0,y:50,scale:.9},whileInView:{opacity:1,y:0,scale:1},transition:{duration:.6,delay:r*.1,type:"spring",stiffness:100},viewport:{once:!0},whileHover:{y:-15,scale:1.05,rotateY:5,transition:{duration:.3}},whileTap:{scale:.95},className:"bg-white rounded-2xl shadow-xl overflow-hidden group cursor-pointer transform perspective-1000",children:a.jsxs(re,{to:`/products?category=${n.name.toLowerCase().replace(" ","-")}`,children:[a.jsxs("div",{className:`${n.color} h-48 relative`,children:[a.jsx(O.div,{className:"absolute inset-0 bg-black bg-opacity-30 group-hover:bg-opacity-10 transition-all duration-500",whileHover:{background:"linear-gradient(45deg, rgba(0,0,0,0.1), rgba(255,255,255,0.1))"}}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(O.div,{className:"text-6xl transform group-hover:scale-110 transition-transform duration-300",whileHover:{scale:1.2,rotate:360,transition:{duration:.8}},children:n.icon})}),a.jsx(O.div,{className:"absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",initial:{x:20,opacity:0},whileHover:{x:0,opacity:1},transition:{delay:.1},children:a.jsx("div",{className:"bg-white rounded-full p-2",children:a.jsx(Cn,{className:"w-5 h-5 text-white"})})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx(O.h3,{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-orange-600 transition-colors duration-300",whileHover:{scale:1.05},children:n.name}),a.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:n.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:[n.productCount," products"]}),a.jsx(O.span,{className:"text-orange-500 font-medium group-hover:text-orange-600 transition-colors duration-300",whileHover:{x:5},children:"Explore "})]})]})]})},n.name))})})})]})},f6=()=>{const{state:t,removeItem:e,updateQuantity:n}=_s(),r=(s,i)=>{i===0?(e(s),J.success("Item removed from cart")):(n(s,i),J.success("Quantity updated"))};return t.items.length===0?a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[a.jsx(Er,{className:"w-24 h-24 text-gray-300 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Looks like you haven't added anything to your cart yet."}),a.jsx(re,{to:"/products",className:"btn-primary",children:"Continue Shopping"})]})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Shopping Cart"}),a.jsxs("p",{className:"text-gray-600 mt-2",children:[t.items.length," items in your cart"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:a.jsx(ls,{children:t.items.map((s,i)=>a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{delay:i*.1},className:"p-6 border-b border-gray-200 last:border-b-0",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:s.product.imageUrl,alt:s.product.title,className:"w-20 h-20 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.product.title}),a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:s.product.category}),a.jsxs("p",{className:"text-xl font-bold text-gray-900 mt-2",children:["",(s.product.price*80).toFixed(0)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>r(s.product.id,s.quantity-1),className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:a.jsx(V3,{className:"w-4 h-4"})}),a.jsx("span",{className:"w-12 text-center font-medium",children:s.quantity}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>r(s.product.id,s.quantity+1),className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:a.jsx(K2,{className:"w-4 h-4"})})]}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e(s.product.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:a.jsx(Om,{className:"w-5 h-5"})})]})},s.product.id))})})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-8",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["",(t.total*80).toFixed(0)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{children:"Free"})]}),a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"Tax"}),a.jsxs("span",{children:["",(t.total*.08*80).toFixed(0)]})]}),a.jsx("div",{className:"border-t pt-3",children:a.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["",(t.total*1.08*80).toFixed(0)]})]})})]}),a.jsx(re,{to:"/checkout",className:"w-full btn-primary block text-center py-3",children:"Proceed to Checkout"}),a.jsx(re,{to:"/products",className:"w-full btn-secondary block text-center py-3 mt-3",children:"Continue Shopping"})]})})]})]})})},m6=()=>{const{state:t,removeFromWishlist:e}=pa(),{dispatch:n}=_s(),r=s=>{n({type:"ADD_TO_CART",payload:s}),J.success(`${s.name||s.title} added to cart!`)};return t.items.length===0?a.jsx("div",{className:"min-h-screen bg-gray-50 py-16",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:a.jsxs(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx(si,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Your Wishlist is Empty"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Start adding products you love to your wishlist by clicking the heart icon."}),a.jsx(re,{to:"/products",className:"inline-flex items-center bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-medium transition-colors duration-200",children:"Explore Products"})]})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center",children:[a.jsx(X2,{className:"w-10 h-10 text-red-500 mr-3"}),"My Wishlist"]}),a.jsxs("p",{className:"text-gray-600",children:[t.items.length," ",t.items.length===1?"item":"items"," in your wishlist"]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.items.map((s,i)=>a.jsxs(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},className:"bg-white rounded-lg shadow-lg overflow-hidden group hover:shadow-xl transition-shadow duration-300",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:s.imageUrl,alt:s.name||s.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),a.jsx("button",{onClick:()=>e(s.id),className:"absolute top-3 right-3 p-2 bg-white bg-opacity-80 hover:bg-opacity-100 rounded-full shadow-md transition-all duration-200 hover:scale-110",children:a.jsx(Om,{className:"w-5 h-5 text-red-500"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx(re,{to:`/products/${s.id}`,children:a.jsx("h3",{className:"font-semibold text-gray-900 mb-2 hover:text-orange-500 transition-colors duration-200",children:s.name||s.title})}),a.jsx("div",{className:"flex items-center mb-3",children:a.jsxs("span",{className:"text-lg font-bold text-orange-500",children:["",s.price]})}),a.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(s),disabled:!(s.stock>0),className:`w-full flex items-center justify-center py-2 px-4 rounded-lg font-medium transition-colors duration-200 ${s.stock>0?"bg-orange-500 hover:bg-orange-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[a.jsx(Mm,{className:"w-5 h-5 mr-2"}),s.stock>0?"Add to Cart":"Out of Stock"]})]})]},s.id))}),a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.5},className:"text-center mt-12",children:a.jsxs(re,{to:"/products",className:"inline-flex items-center text-orange-500 hover:text-orange-600 font-medium transition-colors duration-200",children:["Continue Shopping",a.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})})};var zy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},p6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Z2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let p=(l&15)<<2|d>>6,x=d&63;u||(x=64,o||(p=64)),r.push(n[h],n[f],n[p],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(J2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):p6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||f==null)throw new g6;const p=i<<2|l>>4;if(r.push(p),d!==64){const x=l<<4&240|d>>2;if(r.push(x),f!==64){const j=d<<6&192|f;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class g6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y6=function(t){const e=J2(t);return Z2.encodeByteArray(e,!0)},e_=function(t){return y6(t).replace(/\./g,"")},x6=function(t){try{return Z2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=()=>v6().__FIREBASE_DEFAULTS__,_6=()=>{if(typeof process>"u"||typeof zy>"u")return;const t=zy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&x6(t[1]);return e&&JSON.parse(e)},E6=()=>{try{return w6()||_6()||b6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N6(){var t;const e=(t=E6())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T6(){return!N6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S6(){try{return typeof indexedDB=="object"}catch{return!1}}function C6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="FirebaseError";class Si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=P6,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t_.prototype.create)}}class t_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?k6(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Si(s,l,r)}}function k6(t,e){return t.replace(A6,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const A6=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t){return t&&t._delegate?t._delegate:t}class vc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const I6={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},R6=ce.INFO,V6={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},D6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=V6[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class n_{constructor(e){this.name=e,this._logLevel=R6,this._logHandler=D6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const L6=(t,e)=>e.some(n=>t instanceof n);let Wy,Hy;function M6(){return Wy||(Wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O6(){return Hy||(Hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r_=new WeakMap,Qh=new WeakMap,s_=new WeakMap,Cd=new WeakMap,Fm=new WeakMap;function F6(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(jr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&r_.set(n,t)}).catch(()=>{}),Fm.set(e,t),e}function B6(t){if(Qh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Qh.set(t,e)}let Yh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||s_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function U6(t){Yh=t(Yh)}function $6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pd(this),e,...n);return s_.set(r,e.sort?e.sort():[e]),jr(r)}:O6().includes(t)?function(...e){return t.apply(Pd(this),e),jr(r_.get(this))}:function(...e){return jr(t.apply(Pd(this),e))}}function z6(t){return typeof t=="function"?$6(t):(t instanceof IDBTransaction&&B6(t),L6(t,M6())?new Proxy(t,Yh):t)}function jr(t){if(t instanceof IDBRequest)return F6(t);if(Cd.has(t))return Cd.get(t);const e=z6(t);return e!==t&&(Cd.set(t,e),Fm.set(e,t)),e}const Pd=t=>Fm.get(t);function W6(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=jr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(jr(o.result),u.oldVersion,u.newVersion,jr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const H6=["get","getKey","getAll","getAllKeys","count"],q6=["put","add","delete","clear"],kd=new Map;function qy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kd.get(e))return kd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=q6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||H6.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&u.done]))[0]};return kd.set(e,i),i}U6(t=>({...t,get:(e,n,r)=>qy(e,n)||t.get(e,n,r),has:(e,n)=>!!qy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function K6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xh="@firebase/app",Gy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=new n_("@firebase/app"),Q6="@firebase/app-compat",Y6="@firebase/analytics-compat",X6="@firebase/analytics",J6="@firebase/app-check-compat",Z6="@firebase/app-check",ek="@firebase/auth",tk="@firebase/auth-compat",nk="@firebase/database",rk="@firebase/data-connect",sk="@firebase/database-compat",ik="@firebase/functions",ok="@firebase/functions-compat",ak="@firebase/installations",lk="@firebase/installations-compat",ck="@firebase/messaging",uk="@firebase/messaging-compat",dk="@firebase/performance",hk="@firebase/performance-compat",fk="@firebase/remote-config",mk="@firebase/remote-config-compat",pk="@firebase/storage",gk="@firebase/storage-compat",yk="@firebase/firestore",xk="@firebase/vertexai-preview",vk="@firebase/firestore-compat",wk="firebase",_k="10.14.1",bk={[Xh]:"fire-core",[Q6]:"fire-core-compat",[X6]:"fire-analytics",[Y6]:"fire-analytics-compat",[Z6]:"fire-app-check",[J6]:"fire-app-check-compat",[ek]:"fire-auth",[tk]:"fire-auth-compat",[nk]:"fire-rtdb",[rk]:"fire-data-connect",[sk]:"fire-rtdb-compat",[ik]:"fire-fn",[ok]:"fire-fn-compat",[ak]:"fire-iid",[lk]:"fire-iid-compat",[ck]:"fire-fcm",[uk]:"fire-fcm-compat",[dk]:"fire-perf",[hk]:"fire-perf-compat",[fk]:"fire-rc",[mk]:"fire-rc-compat",[pk]:"fire-gcs",[gk]:"fire-gcs-compat",[yk]:"fire-fst",[vk]:"fire-fst-compat",[xk]:"fire-vertex","fire-js":"fire-js",[wk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=new Map,jk=new Map,Ky=new Map;function Qy(t,e){try{t.container.addComponent(e)}catch(n){qn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wc(t){const e=t.name;if(Ky.has(e))return qn.debug(`There were multiple attempts to register component ${e}.`),!1;Ky.set(e,t);for(const n of Ek.values())Qy(n,t);for(const n of jk.values())Qy(n,t);return!0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bm=new t_("app","Firebase",Nk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=_k;function To(t,e,n){var r;let s=(r=bk[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qn.warn(l.join(" "));return}wc(new vc(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="firebase-heartbeat-database",Ck=1,Zo="firebase-heartbeat-store";let Ad=null;function i_(){return Ad||(Ad=W6(Sk,Ck,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bm.create("idb-open",{originalErrorMessage:t.message})})),Ad}async function Pk(t){try{const n=(await i_()).transaction(Zo),r=await n.objectStore(Zo).get(o_(t));return await n.done,r}catch(e){if(e instanceof Si)qn.warn(e.message);else{const n=Bm.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qn.warn(n.message)}}}async function Yy(t,e){try{const r=(await i_()).transaction(Zo,"readwrite");await r.objectStore(Zo).put(e,o_(t)),await r.done}catch(n){if(n instanceof Si)qn.warn(n.message);else{const r=Bm.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qn.warn(r.message)}}}function o_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=1024,Ak=30*24*60*60*1e3;class Ik{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Vk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Xy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Ak}),this._storage.overwrite(this._heartbeatsCache))}catch(r){qn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xy(),{heartbeatsToSend:r,unsentEntries:s}=Rk(this._heartbeatsCache.heartbeats),i=e_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return qn.warn(n),""}}}function Xy(){return new Date().toISOString().substring(0,10)}function Rk(t,e=kk){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Jy(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Jy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Vk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S6()?C6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Pk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Yy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Yy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Jy(t){return e_(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t){wc(new vc("platform-logger",e=>new G6(e),"PRIVATE")),wc(new vc("heartbeat",e=>new Ik(e),"PRIVATE")),To(Xh,Gy,t),To(Xh,Gy,"esm2017"),To("fire-js","")}Dk("");var Zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,a_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,v){function S(){}S.prototype=v.prototype,N.D=v.prototype,N.prototype=new S,N.prototype.constructor=N,N.C=function(T,A,R){for(var k=Array(arguments.length-2),se=2;se<arguments.length;se++)k[se-2]=arguments[se];return v.prototype[A].apply(T,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,v,S){S||(S=0);var T=Array(16);if(typeof v=="string")for(var A=0;16>A;++A)T[A]=v.charCodeAt(S++)|v.charCodeAt(S++)<<8|v.charCodeAt(S++)<<16|v.charCodeAt(S++)<<24;else for(A=0;16>A;++A)T[A]=v[S++]|v[S++]<<8|v[S++]<<16|v[S++]<<24;v=N.g[0],S=N.g[1],A=N.g[2];var R=N.g[3],k=v+(R^S&(A^R))+T[0]+3614090360&4294967295;v=S+(k<<7&4294967295|k>>>25),k=R+(A^v&(S^A))+T[1]+3905402710&4294967295,R=v+(k<<12&4294967295|k>>>20),k=A+(S^R&(v^S))+T[2]+606105819&4294967295,A=R+(k<<17&4294967295|k>>>15),k=S+(v^A&(R^v))+T[3]+3250441966&4294967295,S=A+(k<<22&4294967295|k>>>10),k=v+(R^S&(A^R))+T[4]+4118548399&4294967295,v=S+(k<<7&4294967295|k>>>25),k=R+(A^v&(S^A))+T[5]+1200080426&4294967295,R=v+(k<<12&4294967295|k>>>20),k=A+(S^R&(v^S))+T[6]+2821735955&4294967295,A=R+(k<<17&4294967295|k>>>15),k=S+(v^A&(R^v))+T[7]+4249261313&4294967295,S=A+(k<<22&4294967295|k>>>10),k=v+(R^S&(A^R))+T[8]+1770035416&4294967295,v=S+(k<<7&4294967295|k>>>25),k=R+(A^v&(S^A))+T[9]+2336552879&4294967295,R=v+(k<<12&4294967295|k>>>20),k=A+(S^R&(v^S))+T[10]+4294925233&4294967295,A=R+(k<<17&4294967295|k>>>15),k=S+(v^A&(R^v))+T[11]+2304563134&4294967295,S=A+(k<<22&4294967295|k>>>10),k=v+(R^S&(A^R))+T[12]+1804603682&4294967295,v=S+(k<<7&4294967295|k>>>25),k=R+(A^v&(S^A))+T[13]+4254626195&4294967295,R=v+(k<<12&4294967295|k>>>20),k=A+(S^R&(v^S))+T[14]+2792965006&4294967295,A=R+(k<<17&4294967295|k>>>15),k=S+(v^A&(R^v))+T[15]+1236535329&4294967295,S=A+(k<<22&4294967295|k>>>10),k=v+(A^R&(S^A))+T[1]+4129170786&4294967295,v=S+(k<<5&4294967295|k>>>27),k=R+(S^A&(v^S))+T[6]+3225465664&4294967295,R=v+(k<<9&4294967295|k>>>23),k=A+(v^S&(R^v))+T[11]+643717713&4294967295,A=R+(k<<14&4294967295|k>>>18),k=S+(R^v&(A^R))+T[0]+3921069994&4294967295,S=A+(k<<20&4294967295|k>>>12),k=v+(A^R&(S^A))+T[5]+3593408605&4294967295,v=S+(k<<5&4294967295|k>>>27),k=R+(S^A&(v^S))+T[10]+38016083&4294967295,R=v+(k<<9&4294967295|k>>>23),k=A+(v^S&(R^v))+T[15]+3634488961&4294967295,A=R+(k<<14&4294967295|k>>>18),k=S+(R^v&(A^R))+T[4]+3889429448&4294967295,S=A+(k<<20&4294967295|k>>>12),k=v+(A^R&(S^A))+T[9]+568446438&4294967295,v=S+(k<<5&4294967295|k>>>27),k=R+(S^A&(v^S))+T[14]+3275163606&4294967295,R=v+(k<<9&4294967295|k>>>23),k=A+(v^S&(R^v))+T[3]+4107603335&4294967295,A=R+(k<<14&4294967295|k>>>18),k=S+(R^v&(A^R))+T[8]+1163531501&4294967295,S=A+(k<<20&4294967295|k>>>12),k=v+(A^R&(S^A))+T[13]+2850285829&4294967295,v=S+(k<<5&4294967295|k>>>27),k=R+(S^A&(v^S))+T[2]+4243563512&4294967295,R=v+(k<<9&4294967295|k>>>23),k=A+(v^S&(R^v))+T[7]+1735328473&4294967295,A=R+(k<<14&4294967295|k>>>18),k=S+(R^v&(A^R))+T[12]+2368359562&4294967295,S=A+(k<<20&4294967295|k>>>12),k=v+(S^A^R)+T[5]+4294588738&4294967295,v=S+(k<<4&4294967295|k>>>28),k=R+(v^S^A)+T[8]+2272392833&4294967295,R=v+(k<<11&4294967295|k>>>21),k=A+(R^v^S)+T[11]+1839030562&4294967295,A=R+(k<<16&4294967295|k>>>16),k=S+(A^R^v)+T[14]+4259657740&4294967295,S=A+(k<<23&4294967295|k>>>9),k=v+(S^A^R)+T[1]+2763975236&4294967295,v=S+(k<<4&4294967295|k>>>28),k=R+(v^S^A)+T[4]+1272893353&4294967295,R=v+(k<<11&4294967295|k>>>21),k=A+(R^v^S)+T[7]+4139469664&4294967295,A=R+(k<<16&4294967295|k>>>16),k=S+(A^R^v)+T[10]+3200236656&4294967295,S=A+(k<<23&4294967295|k>>>9),k=v+(S^A^R)+T[13]+681279174&4294967295,v=S+(k<<4&4294967295|k>>>28),k=R+(v^S^A)+T[0]+3936430074&4294967295,R=v+(k<<11&4294967295|k>>>21),k=A+(R^v^S)+T[3]+3572445317&4294967295,A=R+(k<<16&4294967295|k>>>16),k=S+(A^R^v)+T[6]+76029189&4294967295,S=A+(k<<23&4294967295|k>>>9),k=v+(S^A^R)+T[9]+3654602809&4294967295,v=S+(k<<4&4294967295|k>>>28),k=R+(v^S^A)+T[12]+3873151461&4294967295,R=v+(k<<11&4294967295|k>>>21),k=A+(R^v^S)+T[15]+530742520&4294967295,A=R+(k<<16&4294967295|k>>>16),k=S+(A^R^v)+T[2]+3299628645&4294967295,S=A+(k<<23&4294967295|k>>>9),k=v+(A^(S|~R))+T[0]+4096336452&4294967295,v=S+(k<<6&4294967295|k>>>26),k=R+(S^(v|~A))+T[7]+1126891415&4294967295,R=v+(k<<10&4294967295|k>>>22),k=A+(v^(R|~S))+T[14]+2878612391&4294967295,A=R+(k<<15&4294967295|k>>>17),k=S+(R^(A|~v))+T[5]+4237533241&4294967295,S=A+(k<<21&4294967295|k>>>11),k=v+(A^(S|~R))+T[12]+1700485571&4294967295,v=S+(k<<6&4294967295|k>>>26),k=R+(S^(v|~A))+T[3]+2399980690&4294967295,R=v+(k<<10&4294967295|k>>>22),k=A+(v^(R|~S))+T[10]+4293915773&4294967295,A=R+(k<<15&4294967295|k>>>17),k=S+(R^(A|~v))+T[1]+2240044497&4294967295,S=A+(k<<21&4294967295|k>>>11),k=v+(A^(S|~R))+T[8]+1873313359&4294967295,v=S+(k<<6&4294967295|k>>>26),k=R+(S^(v|~A))+T[15]+4264355552&4294967295,R=v+(k<<10&4294967295|k>>>22),k=A+(v^(R|~S))+T[6]+2734768916&4294967295,A=R+(k<<15&4294967295|k>>>17),k=S+(R^(A|~v))+T[13]+1309151649&4294967295,S=A+(k<<21&4294967295|k>>>11),k=v+(A^(S|~R))+T[4]+4149444226&4294967295,v=S+(k<<6&4294967295|k>>>26),k=R+(S^(v|~A))+T[11]+3174756917&4294967295,R=v+(k<<10&4294967295|k>>>22),k=A+(v^(R|~S))+T[2]+718787259&4294967295,A=R+(k<<15&4294967295|k>>>17),k=S+(R^(A|~v))+T[9]+3951481745&4294967295,N.g[0]=N.g[0]+v&4294967295,N.g[1]=N.g[1]+(A+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+A&4294967295,N.g[3]=N.g[3]+R&4294967295}r.prototype.u=function(N,v){v===void 0&&(v=N.length);for(var S=v-this.blockSize,T=this.B,A=this.h,R=0;R<v;){if(A==0)for(;R<=S;)s(this,N,R),R+=this.blockSize;if(typeof N=="string"){for(;R<v;)if(T[A++]=N.charCodeAt(R++),A==this.blockSize){s(this,T),A=0;break}}else for(;R<v;)if(T[A++]=N[R++],A==this.blockSize){s(this,T),A=0;break}}this.h=A,this.o+=v},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var v=1;v<N.length-8;++v)N[v]=0;var S=8*this.o;for(v=N.length-8;v<N.length;++v)N[v]=S&255,S/=256;for(this.u(N),N=Array(16),v=S=0;4>v;++v)for(var T=0;32>T;T+=8)N[S++]=this.g[v]>>>T&255;return N};function i(N,v){var S=l;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=v(N)}function o(N,v){this.h=v;for(var S=[],T=!0,A=N.length-1;0<=A;A--){var R=N[A]|0;T&&R==v||(S[A]=R,T=!1)}this.g=S}var l={};function u(N){return-128<=N&&128>N?i(N,function(v){return new o([v|0],0>v?-1:0)}):new o([N|0],0>N?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return f;if(0>N)return C(d(-N));for(var v=[],S=1,T=0;N>=S;T++)v[T]=N/S|0,S*=4294967296;return new o(v,0)}function h(N,v){if(N.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(N.charAt(0)=="-")return C(h(N.substring(1),v));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=d(Math.pow(v,8)),T=f,A=0;A<N.length;A+=8){var R=Math.min(8,N.length-A),k=parseInt(N.substring(A,A+R),v);8>R?(R=d(Math.pow(v,R)),T=T.j(R).add(d(k))):(T=T.j(S),T=T.add(d(k)))}return T}var f=u(0),p=u(1),x=u(16777216);t=o.prototype,t.m=function(){if(P(this))return-C(this).m();for(var N=0,v=1,S=0;S<this.g.length;S++){var T=this.i(S);N+=(0<=T?T:4294967296+T)*v,v*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(P(this))return"-"+C(this).toString(N);for(var v=d(Math.pow(N,6)),S=this,T="";;){var A=I(S,v).g;S=E(S,A.j(v));var R=((0<S.g.length?S.g[0]:S.h)>>>0).toString(N);if(S=A,j(S))return R+T;for(;6>R.length;)R="0"+R;T=R+T}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(var v=0;v<N.g.length;v++)if(N.g[v]!=0)return!1;return!0}function P(N){return N.h==-1}t.l=function(N){return N=E(this,N),P(N)?-1:j(N)?0:1};function C(N){for(var v=N.g.length,S=[],T=0;T<v;T++)S[T]=~N.g[T];return new o(S,~N.h).add(p)}t.abs=function(){return P(this)?C(this):this},t.add=function(N){for(var v=Math.max(this.g.length,N.g.length),S=[],T=0,A=0;A<=v;A++){var R=T+(this.i(A)&65535)+(N.i(A)&65535),k=(R>>>16)+(this.i(A)>>>16)+(N.i(A)>>>16);T=k>>>16,R&=65535,k&=65535,S[A]=k<<16|R}return new o(S,S[S.length-1]&-2147483648?-1:0)};function E(N,v){return N.add(C(v))}t.j=function(N){if(j(this)||j(N))return f;if(P(this))return P(N)?C(this).j(C(N)):C(C(this).j(N));if(P(N))return C(this.j(C(N)));if(0>this.l(x)&&0>N.l(x))return d(this.m()*N.m());for(var v=this.g.length+N.g.length,S=[],T=0;T<2*v;T++)S[T]=0;for(T=0;T<this.g.length;T++)for(var A=0;A<N.g.length;A++){var R=this.i(T)>>>16,k=this.i(T)&65535,se=N.i(A)>>>16,Ee=N.i(A)&65535;S[2*T+2*A]+=k*Ee,w(S,2*T+2*A),S[2*T+2*A+1]+=R*Ee,w(S,2*T+2*A+1),S[2*T+2*A+1]+=k*se,w(S,2*T+2*A+1),S[2*T+2*A+2]+=R*se,w(S,2*T+2*A+2)}for(T=0;T<v;T++)S[T]=S[2*T+1]<<16|S[2*T];for(T=v;T<2*v;T++)S[T]=0;return new o(S,0)};function w(N,v){for(;(N[v]&65535)!=N[v];)N[v+1]+=N[v]>>>16,N[v]&=65535,v++}function _(N,v){this.g=N,this.h=v}function I(N,v){if(j(v))throw Error("division by zero");if(j(N))return new _(f,f);if(P(N))return v=I(C(N),v),new _(C(v.g),C(v.h));if(P(v))return v=I(N,C(v)),new _(C(v.g),v.h);if(30<N.g.length){if(P(N)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var S=p,T=v;0>=T.l(N);)S=V(S),T=V(T);var A=F(S,1),R=F(T,1);for(T=F(T,2),S=F(S,2);!j(T);){var k=R.add(T);0>=k.l(N)&&(A=A.add(S),R=k),T=F(T,1),S=F(S,1)}return v=E(N,A.j(v)),new _(A,v)}for(A=f;0<=N.l(v);){for(S=Math.max(1,Math.floor(N.m()/v.m())),T=Math.ceil(Math.log(S)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),R=d(S),k=R.j(v);P(k)||0<k.l(N);)S-=T,R=d(S),k=R.j(v);j(R)&&(R=p),A=A.add(R),N=E(N,k)}return new _(A,N)}t.A=function(N){return I(this,N).h},t.and=function(N){for(var v=Math.max(this.g.length,N.g.length),S=[],T=0;T<v;T++)S[T]=this.i(T)&N.i(T);return new o(S,this.h&N.h)},t.or=function(N){for(var v=Math.max(this.g.length,N.g.length),S=[],T=0;T<v;T++)S[T]=this.i(T)|N.i(T);return new o(S,this.h|N.h)},t.xor=function(N){for(var v=Math.max(this.g.length,N.g.length),S=[],T=0;T<v;T++)S[T]=this.i(T)^N.i(T);return new o(S,this.h^N.h)};function V(N){for(var v=N.g.length+1,S=[],T=0;T<v;T++)S[T]=N.i(T)<<1|N.i(T-1)>>>31;return new o(S,N.h)}function F(N,v){var S=v>>5;v%=32;for(var T=N.g.length-S,A=[],R=0;R<T;R++)A[R]=0<v?N.i(R+S)>>>v|N.i(R+S+1)<<32-v:N.i(R+S);return new o(A,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,a_=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,us=o}).apply(typeof Zy<"u"?Zy:typeof self<"u"?self:typeof window<"u"?window:{});var fl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l_,co,c_,Vl,Jh,u_,d_,h_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,g){return c==Array.prototype||c==Object.prototype||(c[m]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fl=="object"&&fl];for(var m=0;m<c.length;++m){var g=c[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var g=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var D=c[b];if(!(D in g))break e;g=g[D]}c=c[c.length-1],b=g[c],m=m(b),m!=b&&m!=null&&e(g,c,{configurable:!0,writable:!0,value:m})}}function i(c,m){c instanceof String&&(c+="");var g=0,b=!1,D={next:function(){if(!b&&g<c.length){var M=g++;return{value:m(M,c[M]),done:!1}}return b=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}s("Array.prototype.values",function(c){return c||function(){return i(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function d(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function h(c,m,g){return c.call.apply(c.bind,arguments)}function f(c,m,g){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,b),c.apply(m,D)}}return function(){return c.apply(m,arguments)}}function p(c,m,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function x(c,m){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function j(c,m){function g(){}g.prototype=m.prototype,c.aa=m.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(b,D,M){for(var z=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)z[pe-2]=arguments[pe];return m.prototype[D].apply(b,z)}}function P(c){const m=c.length;if(0<m){const g=Array(m);for(let b=0;b<m;b++)g[b]=c[b];return g}return[]}function C(c,m){for(let g=1;g<arguments.length;g++){const b=arguments[g];if(u(b)){const D=c.length||0,M=b.length||0;c.length=D+M;for(let z=0;z<M;z++)c[D+z]=b[z]}else c.push(b)}}class E{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(c){return/^[\s\xa0]*$/.test(c)}function _(){var c=l.navigator;return c&&(c=c.userAgent)?c:""}function I(c){return I[" "](c),c}I[" "]=function(){};var V=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function F(c,m,g){for(const b in c)m.call(g,c[b],b,c)}function N(c,m){for(const g in c)m.call(void 0,c[g],g,c)}function v(c){const m={};for(const g in c)m[g]=c[g];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,m){let g,b;for(let D=1;D<arguments.length;D++){b=arguments[D];for(g in b)c[g]=b[g];for(let M=0;M<S.length;M++)g=S[M],Object.prototype.hasOwnProperty.call(b,g)&&(c[g]=b[g])}}function A(c){var m=1;c=c.split(":");const g=[];for(;0<m&&c.length;)g.push(c.shift()),m--;return c.length&&g.push(c.join(":")),g}function R(c){l.setTimeout(()=>{throw c},0)}function k(){var c=Q;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class se{constructor(){this.h=this.g=null}add(m,g){const b=Ee.get();b.set(m,g),this.h?this.h.next=b:this.g=b,this.h=b}}var Ee=new E(()=>new xe,c=>c.reset());class xe{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,W=!1,Q=new se,Z=()=>{const c=l.Promise.resolve(void 0);Me=()=>{c.then(L)}};var L=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(g){R(g)}var m=Ee;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}W=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};l.addEventListener("test",g,m),l.removeEventListener("test",g,m)}catch{}return c}();function jt(c,m){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(V){e:{try{I(m.nodeName);var D=!0;break e}catch{}D=!1}D||(m=null)}}else g=="mouseover"?m=c.fromElement:g=="mouseout"&&(m=c.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:qe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&jt.aa.h.call(this)}}j(jt,ae);var qe={2:"touch",3:"pen",4:"mouse"};jt.prototype.h=function(){jt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Ii=0;function Ri(c,m,g,b,D){this.listener=c,this.proxy=null,this.src=m,this.type=g,this.capture=!!b,this.ha=D,this.key=++Ii,this.da=this.fa=!1}function En(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Wt(c){this.src=c,this.g={},this.h=0}Wt.prototype.add=function(c,m,g,b,D){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var z=xu(c,m,b,D);return-1<z?(m=c[z],g||(m.fa=!1)):(m=new Ri(m,this.src,M,!!b,D),m.fa=g,c.push(m)),m};function Ca(c,m){var g=m.type;if(g in c.g){var b=c.g[g],D=Array.prototype.indexOf.call(b,m,void 0),M;(M=0<=D)&&Array.prototype.splice.call(b,D,1),M&&(En(m),c.g[g].length==0&&(delete c.g[g],c.h--))}}function xu(c,m,g,b){for(var D=0;D<c.length;++D){var M=c[D];if(!M.da&&M.listener==m&&M.capture==!!g&&M.ha==b)return D}return-1}var vu="closure_lm_"+(1e6*Math.random()|0),wu={};function Ep(c,m,g,b,D){if(Array.isArray(m)){for(var M=0;M<m.length;M++)Ep(c,m[M],g,b,D);return null}return g=Tp(g),c&&c[gt]?c.K(m,g,d(b)?!!b.capture:!1,D):S5(c,m,g,!1,b,D)}function S5(c,m,g,b,D,M){if(!m)throw Error("Invalid event type");var z=d(D)?!!D.capture:!!D,pe=bu(c);if(pe||(c[vu]=pe=new Wt(c)),g=pe.add(m,g,b,z,M),g.proxy)return g;if(b=C5(),g.proxy=b,b.src=c,b.listener=g,c.addEventListener)pt||(D=z),D===void 0&&(D=!1),c.addEventListener(m.toString(),b,D);else if(c.attachEvent)c.attachEvent(Np(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function C5(){function c(g){return m.call(c.src,c.listener,g)}const m=P5;return c}function jp(c,m,g,b,D){if(Array.isArray(m))for(var M=0;M<m.length;M++)jp(c,m[M],g,b,D);else b=d(b)?!!b.capture:!!b,g=Tp(g),c&&c[gt]?(c=c.i,m=String(m).toString(),m in c.g&&(M=c.g[m],g=xu(M,g,b,D),-1<g&&(En(M[g]),Array.prototype.splice.call(M,g,1),M.length==0&&(delete c.g[m],c.h--)))):c&&(c=bu(c))&&(m=c.g[m.toString()],c=-1,m&&(c=xu(m,g,b,D)),(g=-1<c?m[c]:null)&&_u(g))}function _u(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[gt])Ca(m.i,c);else{var g=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(g,b,c.capture):m.detachEvent?m.detachEvent(Np(g),b):m.addListener&&m.removeListener&&m.removeListener(b),(g=bu(m))?(Ca(g,c),g.h==0&&(g.src=null,m[vu]=null)):En(c)}}}function Np(c){return c in wu?wu[c]:wu[c]="on"+c}function P5(c,m){if(c.da)c=!0;else{m=new jt(m,this);var g=c.listener,b=c.ha||c.src;c.fa&&_u(c),c=g.call(b,m)}return c}function bu(c){return c=c[vu],c instanceof Wt?c:null}var Eu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tp(c){return typeof c=="function"?c:(c[Eu]||(c[Eu]=function(m){return c.handleEvent(m)}),c[Eu])}function st(){G.call(this),this.i=new Wt(this),this.M=this,this.F=null}j(st,G),st.prototype[gt]=!0,st.prototype.removeEventListener=function(c,m,g,b){jp(this,c,m,g,b)};function yt(c,m){var g,b=c.F;if(b)for(g=[];b;b=b.F)g.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new ae(m,c);else if(m instanceof ae)m.target=m.target||c;else{var D=m;m=new ae(b,c),T(m,D)}if(D=!0,g)for(var M=g.length-1;0<=M;M--){var z=m.g=g[M];D=Pa(z,b,!0,m)&&D}if(z=m.g=c,D=Pa(z,b,!0,m)&&D,D=Pa(z,b,!1,m)&&D,g)for(M=0;M<g.length;M++)z=m.g=g[M],D=Pa(z,b,!1,m)&&D}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var g=c.g[m],b=0;b<g.length;b++)En(g[b]);delete c.g[m],c.h--}}this.F=null},st.prototype.K=function(c,m,g,b){return this.i.add(String(c),m,!1,g,b)},st.prototype.L=function(c,m,g,b){return this.i.add(String(c),m,!0,g,b)};function Pa(c,m,g,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var D=!0,M=0;M<m.length;++M){var z=m[M];if(z&&!z.da&&z.capture==g){var pe=z.listener,Ye=z.ha||z.src;z.fa&&Ca(c.i,z),D=pe.call(Ye,b)!==!1&&D}}return D&&!b.defaultPrevented}function Sp(c,m,g){if(typeof c=="function")g&&(c=p(c,g));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:l.setTimeout(c,m||0)}function Cp(c){c.g=Sp(()=>{c.g=null,c.i&&(c.i=!1,Cp(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class k5 extends G{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Cp(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(c){G.call(this),this.h=c,this.g={}}j(Vi,G);var Pp=[];function kp(c){F(c.g,function(m,g){this.g.hasOwnProperty(g)&&_u(m)},c),c.g={}}Vi.prototype.N=function(){Vi.aa.N.call(this),kp(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ju=l.JSON.stringify,A5=l.JSON.parse,I5=class{stringify(c){return l.JSON.stringify(c,void 0)}parse(c){return l.JSON.parse(c,void 0)}};function Nu(){}Nu.prototype.h=null;function Ap(c){return c.h||(c.h=c.i())}function Ip(){}var Di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tu(){ae.call(this,"d")}j(Tu,ae);function Su(){ae.call(this,"c")}j(Su,ae);var Wr={},Rp=null;function ka(){return Rp=Rp||new st}Wr.La="serverreachability";function Vp(c){ae.call(this,Wr.La,c)}j(Vp,ae);function Li(c){const m=ka();yt(m,new Vp(m))}Wr.STAT_EVENT="statevent";function Dp(c,m){ae.call(this,Wr.STAT_EVENT,c),this.stat=m}j(Dp,ae);function xt(c){const m=ka();yt(m,new Dp(m,c))}Wr.Ma="timingevent";function Lp(c,m){ae.call(this,Wr.Ma,c),this.size=m}j(Lp,ae);function Mi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){c()},m)}function Oi(){this.g=!0}Oi.prototype.xa=function(){this.g=!1};function R5(c,m,g,b,D,M){c.info(function(){if(c.g)if(M)for(var z="",pe=M.split("&"),Ye=0;Ye<pe.length;Ye++){var de=pe[Ye].split("=");if(1<de.length){var it=de[0];de=de[1];var ot=it.split("_");z=2<=ot.length&&ot[1]=="type"?z+(it+"="+de+"&"):z+(it+"=redacted&")}}else z=null;else z=M;return"XMLHTTP REQ ("+b+") [attempt "+D+"]: "+m+`
`+g+`
`+z})}function V5(c,m,g,b,D,M,z){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+D+"]: "+m+`
`+g+`
`+M+" "+z})}function Cs(c,m,g,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+L5(c,g)+(b?" "+b:"")})}function D5(c,m){c.info(function(){return"TIMEOUT: "+m})}Oi.prototype.info=function(){};function L5(c,m){if(!c.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var b=g[c];if(!(2>b.length)){var D=b[1];if(Array.isArray(D)&&!(1>D.length)){var M=D[0];if(M!="noop"&&M!="stop"&&M!="close")for(var z=1;z<D.length;z++)D[z]=""}}}}return ju(g)}catch{return m}}var Aa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cu;function Ia(){}j(Ia,Nu),Ia.prototype.g=function(){return new XMLHttpRequest},Ia.prototype.i=function(){return{}},Cu=new Ia;function Xn(c,m,g,b){this.j=c,this.i=m,this.l=g,this.R=b||1,this.U=new Vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Op}function Op(){this.i=null,this.g="",this.h=!1}var Fp={},Pu={};function ku(c,m,g){c.L=1,c.v=La(jn(m)),c.m=g,c.P=!0,Bp(c,null)}function Bp(c,m){c.F=Date.now(),Ra(c),c.A=jn(c.v);var g=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),eg(g.i,"t",b),c.C=0,g=c.j.J,c.h=new Op,c.g=xg(c.j,g?m:null,!c.m),0<c.O&&(c.M=new k5(p(c.Y,c,c.g),c.O)),m=c.U,g=c.g,b=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(Pp[0]=D.toString()),D=Pp);for(var M=0;M<D.length;M++){var z=Ep(g,D[M],b||m.handleEvent,!1,m.h||m);if(!z)break;m.g[z.key]=z}m=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Li(),R5(c.i,c.u,c.A,c.l,c.R,c.m)}Xn.prototype.ca=function(c){c=c.target;const m=this.M;m&&Nn(c)==3?m.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const ot=Nn(this.g);var m=this.g.Ba();const As=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||ag(this.g)))){this.J||ot!=4||m==7||(m==8||0>=As?Li(3):Li(2)),Au(this);var g=this.g.Z();this.X=g;t:if(Up(this)){var b=ag(this.g);c="";var D=b.length,M=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hr(this),Fi(this);var z="";break t}this.h.i=new l.TextDecoder}for(m=0;m<D;m++)this.h.h=!0,c+=this.h.i.decode(b[m],{stream:!(M&&m==D-1)});b.length=0,this.h.g+=c,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=g==200,V5(this.i,this.u,this.A,this.l,this.R,ot,g),this.o){if(this.T&&!this.K){t:{if(this.g){var pe,Ye=this.g;if((pe=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(pe)){var de=pe;break t}}de=null}if(g=de)Cs(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Iu(this,g);else{this.o=!1,this.s=3,xt(12),Hr(this),Fi(this);break e}}if(this.P){g=!0;let Zt;for(;!this.J&&this.C<z.length;)if(Zt=M5(this,z),Zt==Pu){ot==4&&(this.s=4,xt(14),g=!1),Cs(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Fp){this.s=4,xt(15),Cs(this.i,this.l,z,"[Invalid Chunk]"),g=!1;break}else Cs(this.i,this.l,Zt,null),Iu(this,Zt);if(Up(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||z.length!=0||this.h.h||(this.s=1,xt(16),g=!1),this.o=this.o&&g,!g)Cs(this.i,this.l,z,"[Invalid Chunked Response]"),Hr(this),Fi(this);else if(0<z.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Ou(it),it.M=!0,xt(11))}}else Cs(this.i,this.l,z,null),Iu(this,z);ot==4&&Hr(this),this.o&&!this.J&&(ot==4?mg(this.j,this):(this.o=!1,Ra(this)))}else eb(this.g),g==400&&0<z.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),Hr(this),Fi(this)}}}catch{}finally{}};function Up(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function M5(c,m){var g=c.C,b=m.indexOf(`
`,g);return b==-1?Pu:(g=Number(m.substring(g,b)),isNaN(g)?Fp:(b+=1,b+g>m.length?Pu:(m=m.slice(b,b+g),c.C=b+g,m)))}Xn.prototype.cancel=function(){this.J=!0,Hr(this)};function Ra(c){c.S=Date.now()+c.I,$p(c,c.I)}function $p(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Mi(p(c.ba,c),m)}function Au(c){c.B&&(l.clearTimeout(c.B),c.B=null)}Xn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(D5(this.i,this.A),this.L!=2&&(Li(),xt(17)),Hr(this),this.s=2,Fi(this)):$p(this,this.S-c)};function Fi(c){c.j.G==0||c.J||mg(c.j,c)}function Hr(c){Au(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,kp(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Iu(c,m){try{var g=c.j;if(g.G!=0&&(g.g==c||Ru(g.h,c))){if(!c.K&&Ru(g.h,c)&&g.G==3){try{var b=g.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var D=b;if(D[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)$a(g),Ba(g);else break e;Mu(g),xt(18)}}else g.za=D[1],0<g.za-g.T&&37500>D[2]&&g.F&&g.v==0&&!g.C&&(g.C=Mi(p(g.Za,g),6e3));if(1>=Hp(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Gr(g,11)}else if((c.K||g.g==c)&&$a(g),!w(m))for(D=g.Da.g.parse(m),m=0;m<D.length;m++){let de=D[m];if(g.T=de[0],de=de[1],g.G==2)if(de[0]=="c"){g.K=de[1],g.ia=de[2];const it=de[3];it!=null&&(g.la=it,g.j.info("VER="+g.la));const ot=de[4];ot!=null&&(g.Aa=ot,g.j.info("SVER="+g.Aa));const As=de[5];As!=null&&typeof As=="number"&&0<As&&(b=1.5*As,g.L=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const Zt=c.g;if(Zt){const Wa=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wa){var M=b.h;M.g||Wa.indexOf("spdy")==-1&&Wa.indexOf("quic")==-1&&Wa.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Vu(M,M.h),M.h=null))}if(b.D){const Fu=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fu&&(b.ya=Fu,ve(b.I,b.D,Fu))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),b=g;var z=c;if(b.qa=yg(b,b.J?b.ia:null,b.W),z.K){qp(b.h,z);var pe=z,Ye=b.L;Ye&&(pe.I=Ye),pe.B&&(Au(pe),Ra(pe)),b.g=z}else hg(b);0<g.i.length&&Ua(g)}else de[0]!="stop"&&de[0]!="close"||Gr(g,7);else g.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Gr(g,7):Lu(g):de[0]!="noop"&&g.l&&g.l.ta(de),g.v=0)}}Li(4)}catch{}}var O5=class{constructor(c,m){this.g=c,this.map=m}};function zp(c){this.l=c||10,l.PerformanceNavigationTiming?(c=l.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wp(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Hp(c){return c.h?1:c.g?c.g.size:0}function Ru(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Vu(c,m){c.g?c.g.add(m):c.h=m}function qp(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}zp.prototype.cancel=function(){if(this.i=Gp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Gp(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const g of c.g.values())m=m.concat(g.D);return m}return P(c.i)}function F5(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var m=[],g=c.length,b=0;b<g;b++)m.push(c[b]);return m}m=[],g=0;for(b in c)m[g++]=c[b];return m}function B5(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var m=[];c=c.length;for(var g=0;g<c;g++)m.push(g);return m}m=[],g=0;for(const b in c)m[g++]=b;return m}}}function Kp(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var g=B5(c),b=F5(c),D=b.length,M=0;M<D;M++)m.call(void 0,b[M],g&&g[M],c)}var Qp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function U5(c,m){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var b=c[g].indexOf("="),D=null;if(0<=b){var M=c[g].substring(0,b);D=c[g].substring(b+1)}else M=c[g];m(M,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function qr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof qr){this.h=c.h,Va(this,c.j),this.o=c.o,this.g=c.g,Da(this,c.s),this.l=c.l;var m=c.i,g=new $i;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),Yp(this,g),this.m=c.m}else c&&(m=String(c).match(Qp))?(this.h=!1,Va(this,m[1]||"",!0),this.o=Bi(m[2]||""),this.g=Bi(m[3]||"",!0),Da(this,m[4]),this.l=Bi(m[5]||"",!0),Yp(this,m[6]||"",!0),this.m=Bi(m[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}qr.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Ui(m,Xp,!0),":");var g=this.g;return(g||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ui(m,Xp,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Ui(g,g.charAt(0)=="/"?W5:z5,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Ui(g,q5)),c.join("")};function jn(c){return new qr(c)}function Va(c,m,g){c.j=g?Bi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Da(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Yp(c,m,g){m instanceof $i?(c.i=m,G5(c.i,c.h)):(g||(m=Ui(m,H5)),c.i=new $i(m,c.h))}function ve(c,m,g){c.i.set(m,g)}function La(c){return ve(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Bi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ui(c,m,g){return typeof c=="string"?(c=encodeURI(c).replace(m,$5),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function $5(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xp=/[#\/\?@]/g,z5=/[#\?:]/g,W5=/[#\?]/g,H5=/[#\?@]/g,q5=/#/g;function $i(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Jn(c){c.g||(c.g=new Map,c.h=0,c.i&&U5(c.i,function(m,g){c.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=$i.prototype,t.add=function(c,m){Jn(this),this.i=null,c=Ps(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(m),this.h+=1,this};function Jp(c,m){Jn(c),m=Ps(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Zp(c,m){return Jn(c),m=Ps(c,m),c.g.has(m)}t.forEach=function(c,m){Jn(this),this.g.forEach(function(g,b){g.forEach(function(D){c.call(m,D,b,this)},this)},this)},t.na=function(){Jn(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let b=0;b<m.length;b++){const D=c[b];for(let M=0;M<D.length;M++)g.push(m[b])}return g},t.V=function(c){Jn(this);let m=[];if(typeof c=="string")Zp(this,c)&&(m=m.concat(this.g.get(Ps(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)m=m.concat(c[g])}return m},t.set=function(c,m){return Jn(this),this.i=null,c=Ps(this,c),Zp(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function eg(c,m,g){Jp(c,m),0<g.length&&(c.i=null,c.g.set(Ps(c,m),P(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var b=m[g];const M=encodeURIComponent(String(b)),z=this.V(b);for(b=0;b<z.length;b++){var D=M;z[b]!==""&&(D+="="+encodeURIComponent(String(z[b]))),c.push(D)}}return this.i=c.join("&")};function Ps(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function G5(c,m){m&&!c.j&&(Jn(c),c.i=null,c.g.forEach(function(g,b){var D=b.toLowerCase();b!=D&&(Jp(this,b),eg(this,D,g))},c)),c.j=m}function K5(c,m){const g=new Oi;if(l.Image){const b=new Image;b.onload=x(Zn,g,"TestLoadImage: loaded",!0,m,b),b.onerror=x(Zn,g,"TestLoadImage: error",!1,m,b),b.onabort=x(Zn,g,"TestLoadImage: abort",!1,m,b),b.ontimeout=x(Zn,g,"TestLoadImage: timeout",!1,m,b),l.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function Q5(c,m){const g=new Oi,b=new AbortController,D=setTimeout(()=>{b.abort(),Zn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(M=>{clearTimeout(D),M.ok?Zn(g,"TestPingServer: ok",!0,m):Zn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(D),Zn(g,"TestPingServer: error",!1,m)})}function Zn(c,m,g,b,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),b(g)}catch{}}function Y5(){this.g=new I5}function X5(c,m,g){const b=g||"";try{Kp(c,function(D,M){let z=D;d(D)&&(z=ju(D)),m.push(b+M+"="+encodeURIComponent(z))})}catch(D){throw m.push(b+"type="+encodeURIComponent("_badmap")),D}}function Ma(c){this.l=c.Ub||null,this.j=c.eb||!1}j(Ma,Nu),Ma.prototype.g=function(){return new Oa(this.l,this.j)},Ma.prototype.i=function(c){return function(){return c}}({});function Oa(c,m){st.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Oa,st),t=Oa.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Wi(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||l).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zi(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tg(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function tg(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?zi(this):Wi(this),this.readyState==3&&tg(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,zi(this))},t.Qa=function(c){this.g&&(this.response=c,zi(this))},t.ga=function(){this.g&&zi(this)};function zi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wi(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=m.next();return c.join(`\r
`)};function Wi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ng(c){let m="";return F(c,function(g,b){m+=b,m+=":",m+=g,m+=`\r
`}),m}function Du(c,m,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=ng(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):ve(c,m,g))}function Ae(c){st.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Ae,st);var J5=/^https?$/i,Z5=["POST","PUT"];t=Ae.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cu.g(),this.v=this.o?Ap(this.o):Ap(Cu),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(M){rg(this,M);return}if(c=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var D in b)g.set(D,b[D]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const M of b.keys())g.set(M,b.get(M));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(M=>M.toLowerCase()=="content-type"),D=l.FormData&&c instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Z5,m,void 0))||b||D||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,z]of g)this.g.setRequestHeader(M,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{og(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){rg(this,M)}};function rg(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,sg(c),Fa(c)}function sg(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),Fa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fa(this,!0)),Ae.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ig(this):this.bb())},t.bb=function(){ig(this)};function ig(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Nn(c)!=4||c.Z()!=2)){if(c.u&&Nn(c)==4)Sp(c.Ea,0,c);else if(yt(c,"readystatechange"),Nn(c)==4){c.h=!1;try{const z=c.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var b;if(b=z===0){var D=String(c.D).match(Qp)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),b=!J5.test(D?D.toLowerCase():"")}g=b}if(g)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var M=2<Nn(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",sg(c)}}finally{Fa(c)}}}}function Fa(c,m){if(c.g){og(c);const g=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||yt(c,"ready");try{g.onreadystatechange=b}catch{}}}function og(c){c.I&&(l.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Nn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),A5(m)}};function ag(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function eb(c){const m={};c=(c.g&&2<=Nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(w(c[b]))continue;var g=A(c[b]);const D=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const M=m[D]||[];m[D]=M,M.push(g)}N(m,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(c,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||m}function lg(c){this.Aa=0,this.i=[],this.j=new Oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hi("baseRetryDelayMs",5e3,c),this.cb=Hi("retryDelaySeedMs",1e4,c),this.Wa=Hi("forwardChannelMaxRetries",2,c),this.wa=Hi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zp(c&&c.concurrentRequestLimit),this.Da=new Y5,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=lg.prototype,t.la=8,t.G=1,t.connect=function(c,m,g,b){xt(0),this.W=c,this.H=m||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.I=yg(this,null,this.W),Ua(this)};function Lu(c){if(cg(c),c.G==3){var m=c.U++,g=jn(c.I);if(ve(g,"SID",c.K),ve(g,"RID",m),ve(g,"TYPE","terminate"),qi(c,g),m=new Xn(c,c.j,m),m.L=2,m.v=La(jn(g)),g=!1,l.navigator&&l.navigator.sendBeacon)try{g=l.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&l.Image&&(new Image().src=m.v,g=!0),g||(m.g=xg(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ra(m)}gg(c)}function Ba(c){c.g&&(Ou(c),c.g.cancel(),c.g=null)}function cg(c){Ba(c),c.u&&(l.clearTimeout(c.u),c.u=null),$a(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&l.clearTimeout(c.s),c.s=null)}function Ua(c){if(!Wp(c.h)&&!c.s){c.s=!0;var m=c.Ga;Me||Z(),W||(Me(),W=!0),Q.add(m,c),c.B=0}}function tb(c,m){return Hp(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Mi(p(c.Ga,c,m),pg(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const D=new Xn(this,this.j,c);let M=this.o;if(this.S&&(M?(M=v(M),T(M,this.S)):M=this.S),this.m!==null||this.O||(D.H=M,M=null),this.P)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=dg(this,D,m),g=jn(this.I),ve(g,"RID",c),ve(g,"CVER",22),this.D&&ve(g,"X-HTTP-Session-Id",this.D),qi(this,g),M&&(this.O?m="headers="+encodeURIComponent(String(ng(M)))+"&"+m:this.m&&Du(g,this.m,M)),Vu(this.h,D),this.Ua&&ve(g,"TYPE","init"),this.P?(ve(g,"$req",m),ve(g,"SID","null"),D.T=!0,ku(D,g,null)):ku(D,g,m),this.G=2}}else this.G==3&&(c?ug(this,c):this.i.length==0||Wp(this.h)||ug(this))};function ug(c,m){var g;m?g=m.l:g=c.U++;const b=jn(c.I);ve(b,"SID",c.K),ve(b,"RID",g),ve(b,"AID",c.T),qi(c,b),c.m&&c.o&&Du(b,c.m,c.o),g=new Xn(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),m&&(c.i=m.D.concat(c.i)),m=dg(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Vu(c.h,g),ku(g,b,m)}function qi(c,m){c.H&&F(c.H,function(g,b){ve(m,b,g)}),c.l&&Kp({},function(g,b){ve(m,b,g)})}function dg(c,m,g){g=Math.min(c.i.length,g);var b=c.l?p(c.l.Na,c.l,c):null;e:{var D=c.i;let M=-1;for(;;){const z=["count="+g];M==-1?0<g?(M=D[0].g,z.push("ofs="+M)):M=0:z.push("ofs="+M);let pe=!0;for(let Ye=0;Ye<g;Ye++){let de=D[Ye].g;const it=D[Ye].map;if(de-=M,0>de)M=Math.max(0,D[Ye].g-100),pe=!1;else try{X5(it,z,"req"+de+"_")}catch{b&&b(it)}}if(pe){b=z.join("&");break e}}}return c=c.i.splice(0,g),m.D=c,b}function hg(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;Me||Z(),W||(Me(),W=!0),Q.add(m,c),c.v=0}}function Mu(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Mi(p(c.Fa,c),pg(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,fg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Mi(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),Ba(this),fg(this))};function Ou(c){c.A!=null&&(l.clearTimeout(c.A),c.A=null)}function fg(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=jn(c.qa);ve(m,"RID","rpc"),ve(m,"SID",c.K),ve(m,"AID",c.T),ve(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&ve(m,"TO",c.ja),ve(m,"TYPE","xmlhttp"),qi(c,m),c.m&&c.o&&Du(m,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=La(jn(m)),g.m=null,g.P=!0,Bp(g,c)}t.Za=function(){this.C!=null&&(this.C=null,Ba(this),Mu(this),xt(19))};function $a(c){c.C!=null&&(l.clearTimeout(c.C),c.C=null)}function mg(c,m){var g=null;if(c.g==m){$a(c),Ou(c),c.g=null;var b=2}else if(Ru(c.h,m))g=m.D,qp(c.h,m),b=1;else return;if(c.G!=0){if(m.o)if(b==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var D=c.B;b=ka(),yt(b,new Lp(b,g)),Ua(c)}else hg(c);else if(D=m.s,D==3||D==0&&0<m.X||!(b==1&&tb(c,m)||b==2&&Mu(c)))switch(g&&0<g.length&&(m=c.h,m.i=m.i.concat(g)),D){case 1:Gr(c,5);break;case 4:Gr(c,10);break;case 3:Gr(c,6);break;default:Gr(c,2)}}}function pg(c,m){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*m}function Gr(c,m){if(c.j.info("Error code "+m),m==2){var g=p(c.fb,c),b=c.Xa;const D=!b;b=new qr(b||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Va(b,"https"),La(b),D?K5(b.toString(),g):Q5(b.toString(),g)}else xt(2);c.G=0,c.l&&c.l.sa(m),gg(c),cg(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function gg(c){if(c.G=0,c.ka=[],c.l){const m=Gp(c.h);(m.length!=0||c.i.length!=0)&&(C(c.ka,m),C(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function yg(c,m,g){var b=g instanceof qr?jn(g):new qr(g);if(b.g!="")m&&(b.g=m+"."+b.g),Da(b,b.s);else{var D=l.location;b=D.protocol,m=m?m+"."+D.hostname:D.hostname,D=+D.port;var M=new qr(null);b&&Va(M,b),m&&(M.g=m),D&&Da(M,D),g&&(M.l=g),b=M}return g=c.D,m=c.ya,g&&m&&ve(b,g,m),ve(b,"VER",c.la),qi(c,b),b}function xg(c,m,g){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Ae(new Ma({eb:g})):new Ae(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vg(){}t=vg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function za(){}za.prototype.g=function(c,m){return new Vt(c,m)};function Vt(c,m){st.call(this),this.g=new lg(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!w(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ks(this)}j(Vt,st),Vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vt.prototype.close=function(){Lu(this.g)},Vt.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=ju(c),c=g);m.i.push(new O5(m.Ya++,c)),m.G==3&&Ua(m)},Vt.prototype.N=function(){this.g.l=null,delete this.j,Lu(this.g),delete this.g,Vt.aa.N.call(this)};function wg(c){Tu.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const g in m){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}j(wg,Tu);function _g(){Su.call(this),this.status=1}j(_g,Su);function ks(c){this.g=c}j(ks,vg),ks.prototype.ua=function(){yt(this.g,"a")},ks.prototype.ta=function(c){yt(this.g,new wg(c))},ks.prototype.sa=function(c){yt(this.g,new _g)},ks.prototype.ra=function(){yt(this.g,"b")},za.prototype.createWebChannel=za.prototype.g,Vt.prototype.send=Vt.prototype.o,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,h_=function(){return new za},d_=function(){return ka()},u_=Wr,Jh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Aa.NO_ERROR=0,Aa.TIMEOUT=8,Aa.HTTP_ERROR=6,Vl=Aa,Mp.COMPLETE="complete",c_=Mp,Ip.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",st.prototype.listen=st.prototype.K,co=Ip,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,l_=Ae}).apply(typeof fl<"u"?fl:typeof self<"u"?self:typeof window<"u"?window:{});const ex="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ci="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new n_("@firebase/firestore");function ro(){return gs.logLevel}function K(t,...e){if(gs.logLevel<=ce.DEBUG){const n=e.map(Um);gs.debug(`Firestore (${Ci}): ${t}`,...n)}}function Gn(t,...e){if(gs.logLevel<=ce.ERROR){const n=e.map(Um);gs.error(`Firestore (${Ci}): ${t}`,...n)}}function ea(t,...e){if(gs.logLevel<=ce.WARN){const n=e.map(Um);gs.warn(`Firestore (${Ci}): ${t}`,...n)}}function Um(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${Ci}) INTERNAL ASSERTION FAILED: `+t;throw Gn(e),new Error(e)}function me(t,e){t||ee()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class Ok{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Nr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Nr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string"),new Lk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string"),new Nt(e)}}class Fk{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Bk{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Fk(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $k{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){me(this.o===void 0);const r=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string"),this.R=n.token,new Uk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=zk(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function gi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new He(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new He(0,0))}static max(){return new te(new He(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ta.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ta?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _e extends ta{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}const Wk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends ta{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return Wk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new q(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new q(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(_e.fromString(e))}static fromName(e){return new Y(_e.fromString(e).popFirst(5))}static empty(){return new Y(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new _e(e.slice()))}}function Hk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=te.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new Ar(s,Y.empty(),e)}function qk(t){return new Ar(t.readTime,t.key,-1)}class Ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ar(te.min(),Y.empty(),-1)}static max(){return new Ar(te.max(),Y.empty(),-1)}}function Gk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==Kk)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(h=>{o[d]=h,++l,l===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Yk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ba(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$m.oe=-1;function su(t){return t==null}function _c(t){return t===0&&1/t==-1/0}function Xk(t){return typeof t=="number"&&Number.isInteger(t)&&!_c(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ns(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function m_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n){this.comparator=e,this.root=n||Je.EMPTY}insert(e,n){return new ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(e){return new ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Je.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ml(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ml(this.root,e,this.comparator,!1)}getReverseIterator(){return new ml(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ml(this.root,e,this.comparator,!0)}}class ml{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Je{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Je.RED,this.left=s??Je.EMPTY,this.right=i??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Je(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Je.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Je(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nx(this.data.getIterator())}getIteratorFrom(e){return new nx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tt(this.comparator);return n.data=e,n}}class nx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new Mt([])}unionWith(e){let n=new tt(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new p_("Invalid base64 string: "+i):i}}(e);return new rt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rt.EMPTY_BYTE_STRING=new rt("");const Jk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(t){if(me(!!t),typeof t=="string"){let e=0;const n=Jk.exec(t);if(me(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?rt.fromBase64String(t):rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wm(t){const e=t.mapValue.fields.__previous_value__;return zm(e)?Wm(e):e}function na(t){const e=Ir(t.mapValue.fields.__local_write_time__.timestampValue);return new He(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n,r,s,i,o,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d}}class ra{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ra("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ra&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl={mapValue:{}};function xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zm(t)?4:tA(t)?9007199254740991:eA(t)?10:11:ee()}function bn(t,e){if(t===e)return!0;const n=xs(t);if(n!==xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return na(t).isEqual(na(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ir(s.timestampValue),l=Ir(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ys(s.bytesValue).isEqual(ys(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Re(s.geoPointValue.latitude)===Re(i.geoPointValue.latitude)&&Re(s.geoPointValue.longitude)===Re(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Re(s.integerValue)===Re(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Re(s.doubleValue),l=Re(i.doubleValue);return o===l?_c(o)===_c(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return gi(t.arrayValue.values||[],e.arrayValue.values||[],bn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(tx(o)!==tx(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!bn(o[u],l[u])))return!1;return!0}(t,e);default:return ee()}}function sa(t,e){return(t.values||[]).find(n=>bn(n,e))!==void 0}function yi(t,e){if(t===e)return 0;const n=xs(t),r=xs(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Re(i.integerValue||i.doubleValue),u=Re(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return rx(t.timestampValue,e.timestampValue);case 4:return rx(na(t),na(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(i,o){const l=ys(i),u=ys(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const h=he(l[d],u[d]);if(h!==0)return h}return he(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=he(Re(i.latitude),Re(o.latitude));return l!==0?l:he(Re(i.longitude),Re(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return sx(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,u,d,h;const f=i.fields||{},p=o.fields||{},x=(l=f.value)===null||l===void 0?void 0:l.arrayValue,j=(u=p.value)===null||u===void 0?void 0:u.arrayValue,P=he(((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0,((h=j==null?void 0:j.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:sx(x,j)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===pl.mapValue&&o===pl.mapValue)return 0;if(i===pl.mapValue)return 1;if(o===pl.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),d=o.fields||{},h=Object.keys(d);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const p=he(u[f],h[f]);if(p!==0)return p;const x=yi(l[u[f]],d[h[f]]);if(x!==0)return x}return he(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ee()}}function rx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=Ir(t),r=Ir(e),s=he(n.seconds,r.seconds);return s!==0?s:he(n.nanos,r.nanos)}function sx(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=yi(n[s],r[s]);if(i)return i}return he(n.length,r.length)}function xi(t){return Zh(t)}function Zh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ir(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Zh(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Zh(n.fields[o])}`;return s+"}"}(t.mapValue):ee()}function ix(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ef(t){return!!t&&"integerValue"in t}function Hm(t){return!!t&&"arrayValue"in t}function ox(t){return!!t&&"nullValue"in t}function ax(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dl(t){return!!t&&"mapValue"in t}function eA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function So(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ns(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=So(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=So(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.value=e}static empty(){return new St({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=So(n)}setAll(e){let n=Ze.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=So(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Dl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Dl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ns(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new St(So(this.value))}}function g_(t){const e=[];return Ns(t.fields,(n,r)=>{const s=new Ze([n]);if(Dl(r)){const i=g_(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Mt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new ft(e,0,te.min(),te.min(),te.min(),St.empty(),0)}static newFoundDocument(e,n,r,s){return new ft(e,1,n,te.min(),r,s,0)}static newNoDocument(e,n){return new ft(e,2,n,te.min(),te.min(),St.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,te.min(),te.min(),St.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=St.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=St.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.position=e,this.inclusive=n}}function lx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=yi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function cx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n="asc"){this.field=e,this.dir=n}}function nA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{}class Ue extends y_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sA(e,n,r):n==="array-contains"?new aA(e,r):n==="in"?new lA(e,r):n==="not-in"?new cA(e,r):n==="array-contains-any"?new uA(e,r):new Ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iA(e,r):new oA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yi(n,this.value)):n!==null&&xs(this.value)===xs(n)&&this.matchesComparison(yi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cn extends y_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new cn(e,n)}matches(e){return x_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function x_(t){return t.op==="and"}function v_(t){return rA(t)&&x_(t)}function rA(t){for(const e of t.filters)if(e instanceof cn)return!1;return!0}function tf(t){if(t instanceof Ue)return t.field.canonicalString()+t.op.toString()+xi(t.value);if(v_(t))return t.filters.map(e=>tf(e)).join(",");{const e=t.filters.map(n=>tf(n)).join(",");return`${t.op}(${e})`}}function w_(t,e){return t instanceof Ue?function(r,s){return s instanceof Ue&&r.op===s.op&&r.field.isEqual(s.field)&&bn(r.value,s.value)}(t,e):t instanceof cn?function(r,s){return s instanceof cn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&w_(o,s.filters[l]),!0):!1}(t,e):void ee()}function __(t){return t instanceof Ue?function(n){return`${n.field.canonicalString()} ${n.op} ${xi(n.value)}`}(t):t instanceof cn?function(n){return n.op.toString()+" {"+n.getFilters().map(__).join(" ,")+"}"}(t):"Filter"}class sA extends Ue{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class iA extends Ue{constructor(e,n){super(e,"in",n),this.keys=b_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oA extends Ue{constructor(e,n){super(e,"not-in",n),this.keys=b_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function b_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class aA extends Ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hm(n)&&sa(n.arrayValue,this.value)}}class lA extends Ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sa(this.value.arrayValue,n)}}class cA extends Ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(sa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!sa(this.value.arrayValue,n)}}class uA extends Ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ue=null}}function ux(t,e=null,n=[],r=[],s=null,i=null,o=null){return new dA(t,e,n,r,s,i,o)}function qm(t){const e=ne(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>tf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),su(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xi(r)).join(",")),e.ue=n}return e.ue}function Gm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!w_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cx(t.startAt,e.startAt)&&cx(t.endAt,e.endAt)}function nf(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function hA(t,e,n,r,s,i,o,l){return new Pi(t,e,n,r,s,i,o,l)}function E_(t){return new Pi(t)}function dx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function j_(t){return t.collectionGroup!==null}function Co(t){const e=ne(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new tt(Ze.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new ia(i,r))}),n.has(Ze.keyField().canonicalString())||e.ce.push(new ia(Ze.keyField(),r))}return e.ce}function xn(t){const e=ne(t);return e.le||(e.le=fA(e,Co(t))),e.le}function fA(t,e){if(t.limitType==="F")return ux(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ia(s.field,i)});const n=t.endAt?new bc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bc(t.startAt.position,t.startAt.inclusive):null;return ux(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rf(t,e){const n=t.filters.concat([e]);return new Pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sf(t,e,n){return new Pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function iu(t,e){return Gm(xn(t),xn(e))&&t.limitType===e.limitType}function N_(t){return`${qm(xn(t))}|lt:${t.limitType}`}function Rs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>__(s)).join(", ")}]`),su(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>xi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>xi(s)).join(",")),`Target(${r})`}(xn(t))}; limitType=${t.limitType})`}function ou(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Y.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Co(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,u){const d=lx(o,l,u);return o.inclusive?d<=0:d<0}(r.startAt,Co(r),s)||r.endAt&&!function(o,l,u){const d=lx(o,l,u);return o.inclusive?d>=0:d>0}(r.endAt,Co(r),s))}(t,e)}function mA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function T_(t){return(e,n)=>{let r=!1;for(const s of Co(t)){const i=pA(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function pA(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,o,l){const u=o.data.field(i),d=l.data.field(i);return u!==null&&d!==null?yi(u,d):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return m_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=new ke(Y.comparator);function Kn(){return gA}const S_=new ke(Y.comparator);function uo(...t){let e=S_;for(const n of t)e=e.insert(n.key,n);return e}function C_(t){let e=S_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ss(){return Po()}function P_(){return Po()}function Po(){return new ki(t=>t.toString(),(t,e)=>t.isEqual(e))}const yA=new ke(Y.comparator),xA=new tt(Y.comparator);function oe(...t){let e=xA;for(const n of t)e=e.add(n);return e}const vA=new tt(he);function wA(){return vA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function k_(t){return{integerValue:""+t}}function _A(t,e){return Xk(e)?k_(e):Km(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this._=void 0}}function bA(t,e,n){return t instanceof Ec?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&zm(i)&&(i=Wm(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof oa?I_(t,e):t instanceof aa?R_(t,e):function(s,i){const o=A_(s,i),l=hx(o)+hx(s.Pe);return ef(o)&&ef(s.Pe)?k_(l):Km(s.serializer,l)}(t,e)}function EA(t,e,n){return t instanceof oa?I_(t,e):t instanceof aa?R_(t,e):n}function A_(t,e){return t instanceof jc?function(r){return ef(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ec extends au{}class oa extends au{constructor(e){super(),this.elements=e}}function I_(t,e){const n=V_(e);for(const r of t.elements)n.some(s=>bn(s,r))||n.push(r);return{arrayValue:{values:n}}}class aa extends au{constructor(e){super(),this.elements=e}}function R_(t,e){let n=V_(e);for(const r of t.elements)n=n.filter(s=>!bn(s,r));return{arrayValue:{values:n}}}class jc extends au{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function hx(t){return Re(t.integerValue||t.doubleValue)}function V_(t){return Hm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function jA(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof oa&&s instanceof oa||r instanceof aa&&s instanceof aa?gi(r.elements,s.elements,bn):r instanceof jc&&s instanceof jc?bn(r.Pe,s.Pe):r instanceof Ec&&s instanceof Ec}(t.transform,e.transform)}class NA{constructor(e,n){this.version=e,this.transformResults=n}}class vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ll(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lu{}function D_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new M_(t.key,vn.none()):new Ea(t.key,t.data,vn.none());{const n=t.data,r=St.empty();let s=new tt(Ze.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new zr(t.key,r,new Mt(s.toArray()),vn.none())}}function TA(t,e,n){t instanceof Ea?function(s,i,o){const l=s.value.clone(),u=mx(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof zr?function(s,i,o){if(!Ll(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=mx(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(L_(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ko(t,e,n,r){return t instanceof Ea?function(i,o,l,u){if(!Ll(i.precondition,o))return l;const d=i.value.clone(),h=px(i.fieldTransforms,u,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof zr?function(i,o,l,u){if(!Ll(i.precondition,o))return l;const d=px(i.fieldTransforms,u,o),h=o.data;return h.setAll(L_(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return Ll(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function SA(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=A_(r.transform,s||null);i!=null&&(n===null&&(n=St.empty()),n.set(r.field,i))}return n||null}function fx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&gi(r,s,(i,o)=>jA(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ea extends lu{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zr extends lu{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function L_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mx(t,e,n){const r=new Map;me(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,EA(o,l,n[s]))}return r}function px(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,bA(i,o,e))}return r}class M_ extends lu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CA extends lu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&TA(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ko(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ko(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=P_();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const u=D_(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&gi(this.mutations,e.mutations,(n,r)=>fx(n,r))&&gi(this.baseMutations,e.baseMutations,(n,r)=>fx(n,r))}}class Qm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){me(e.mutations.length===r.length);let s=function(){return yA}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Qm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,le;function IA(t){switch(t){default:return ee();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function O_(t){if(t===void 0)return Gn("GRPC error has no .code"),B.UNKNOWN;switch(t){case Oe.OK:return B.OK;case Oe.CANCELLED:return B.CANCELLED;case Oe.UNKNOWN:return B.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return B.INTERNAL;case Oe.UNAVAILABLE:return B.UNAVAILABLE;case Oe.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Oe.NOT_FOUND:return B.NOT_FOUND;case Oe.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Oe.ABORTED:return B.ABORTED;case Oe.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Oe.DATA_LOSS:return B.DATA_LOSS;default:return ee()}}(le=Oe||(Oe={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new us([4294967295,4294967295],0);function gx(t){const e=RA().encode(t),n=new a_;return n.update(e),new Uint8Array(n.digest())}function yx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new us([n,r],0),new us([s,i],0)]}class Ym{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ho(`Invalid padding: ${n}`);if(r<0)throw new ho(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ho(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ho(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=us.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(us.fromNumber(r)));return s.compare(VA)===1&&(s=new us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=gx(e),[r,s]=yx(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ym(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=gx(e),[r,s]=yx(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ja.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cu(te.min(),s,new ke(he),Kn(),oe())}}class ja{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ja(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class F_{constructor(e,n){this.targetId=e,this.me=n}}class B_{constructor(e,n,r=rt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class xx{constructor(){this.fe=0,this.ge=wx(),this.pe=rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=oe(),n=oe(),r=oe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee()}}),new ja(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=wx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class DA{constructor(e){this.Le=e,this.Be=new Map,this.ke=Kn(),this.qe=vx(),this.Qe=new ke(he)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(nf(i))if(r===0){const o=new Y(i.path);this.Ue(n,o,ft.newNoDocument(o,te.min()))}else me(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=ys(r).toUint8Array()}catch(u){if(u instanceof p_)return ea("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Ym(o,s,i)}catch(u){return ea(u instanceof ho?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const l=this.Je(o);if(l){if(i.current&&nf(l.target)){const u=new Y(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,ft.newNoDocument(u,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=oe();this.qe.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new cu(e,n,this.Qe,this.ke,r);return this.ke=Kn(),this.qe=vx(),this.Qe=new ke(he),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new xx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tt(he),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new xx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function vx(){return new ke(Y.comparator)}function wx(){return new ke(Y.comparator)}const LA={asc:"ASCENDING",desc:"DESCENDING"},MA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OA={and:"AND",or:"OR"};class FA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function of(t,e){return t.useProto3Json||su(e)?e:{value:e}}function Nc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BA(t,e){return Nc(t,e.toTimestamp())}function wn(t){return me(!!t),te.fromTimestamp(function(n){const r=Ir(n);return new He(r.seconds,r.nanos)}(t))}function Xm(t,e){return af(t,e).canonicalString()}function af(t,e){const n=function(s){return new _e(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $_(t){const e=_e.fromString(t);return me(G_(e)),e}function lf(t,e){return Xm(t.databaseId,e.path)}function Id(t,e){const n=$_(e);if(n.get(1)!==t.databaseId.projectId)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(W_(n))}function z_(t,e){return Xm(t.databaseId,e)}function UA(t){const e=$_(t);return e.length===4?_e.emptyPath():W_(e)}function cf(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function W_(t){return me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _x(t,e,n){return{name:lf(t,e),fields:n.value.mapValue.fields}}function $A(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(me(h===void 0||typeof h=="string"),rt.fromBase64String(h||"")):(me(h===void 0||h instanceof Buffer||h instanceof Uint8Array),rt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?B.UNKNOWN:O_(d.code);return new q(h,d.message||"")}(o);n=new B_(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Id(t,r.document.name),i=wn(r.document.updateTime),o=r.document.createTime?wn(r.document.createTime):te.min(),l=new St({mapValue:{fields:r.document.fields}}),u=ft.newFoundDocument(s,i,o,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Ml(d,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Id(t,r.document),i=r.readTime?wn(r.readTime):te.min(),o=ft.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Ml([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Id(t,r.document),i=r.removedTargetIds||[];n=new Ml([],i,s,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new AA(s,i),l=r.targetId;n=new F_(l,o)}}return n}function zA(t,e){let n;if(e instanceof Ea)n={update:_x(t,e.key,e.value)};else if(e instanceof M_)n={delete:lf(t,e.key)};else if(e instanceof zr)n={update:_x(t,e.key,e.data),updateMask:JA(e.fieldMask)};else{if(!(e instanceof CA))return ee();n={verify:lf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Ec)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof oa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof aa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof jc)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:BA(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee()}(t,e.precondition)),n}function WA(t,e){return t&&t.length>0?(me(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?wn(s.updateTime):wn(i);return o.isEqual(te.min())&&(o=wn(i)),new NA(o,s.transformResults||[])}(n,e))):[]}function HA(t,e){return{documents:[z_(t,e.path)]}}function qA(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=z_(t,s);const i=function(d){if(d.length!==0)return q_(cn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:Vs(p.field),direction:QA(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=of(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function GA(t){let e=UA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){me(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=H_(f);return p instanceof cn&&v_(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(j){return new ia(Ds(j.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,su(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,x=f.values||[];return new bc(x,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,x=f.values||[];return new bc(x,p)}(n.endAt)),hA(e,s,o,i,l,"F",u,d)}function KA(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function H_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ds(n.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ds(n.unaryFilter.field);return Ue.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ds(n.unaryFilter.field);return Ue.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ds(n.unaryFilter.field);return Ue.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return Ue.create(Ds(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cn.create(n.compositeFilter.filters.map(r=>H_(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function QA(t){return LA[t]}function YA(t){return MA[t]}function XA(t){return OA[t]}function Vs(t){return{fieldPath:t.canonicalString()}}function Ds(t){return Ze.fromServerFormat(t.fieldPath)}function q_(t){return t instanceof Ue?function(n){if(n.op==="=="){if(ax(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NAN"}};if(ox(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ax(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NAN"}};if(ox(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(n.field),op:YA(n.op),value:n.value}}}(t):t instanceof cn?function(n){const r=n.getFilters().map(s=>q_(s));return r.length===1?r[0]:{compositeFilter:{op:XA(n.op),filters:r}}}(t):ee()}function JA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function G_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,r,s,i=te.min(),o=te.min(),l=rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.ct=e}}function eI(t){const e=GA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.un=new nI}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Ar.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class nI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new tt(_e.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new tt(_e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new vi(0)}static kn(){return new vi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.changes=new ki(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ko(r.mutation,s,Mt.empty(),He.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const s=ss();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=uo();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ss();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Kn();const o=Po(),l=function(){return Po()}();return n.forEach((u,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof zr)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),ko(h.mutation,d,h.mutation.getFieldMask(),He.now())):o.set(d.key,Mt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var f;return l.set(d,new sI(h,(f=o.get(d))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Po();let s=new ke((o,l)=>o-l),i=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let h=r.get(u)||Mt.empty();h=l.applyToLocalView(d,h),r.set(u,h);const f=(s.get(l.batchId)||oe()).add(u);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,h=u.value,f=P_();h.forEach(p=>{if(!i.has(p)){const x=D_(n.get(p),r.get(p));x!==null&&f.set(p,x),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(ss());let l=-1,u=i;return o.next(d=>U.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,oe())).next(h=>({batchId:l,changes:C_(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let s=uo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=uo();return this.indexManager.getCollectionParents(e,i).next(l=>U.forEach(l,u=>{const d=function(f,p){return new Pi(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,ft.newInvalidDocument(h)))});let l=uo();return o.forEach((u,d)=>{const h=i.get(u);h!==void 0&&ko(h.mutation,d,Mt.empty(),He.now()),ou(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:wn(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:eI(s.bundledQuery),readTime:wn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.overlays=new ke(Y.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ss();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=ss(),i=n.length+1,o=new Y(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ke((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=ss(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=ss(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return U.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kA(n,r));let i=this.Ir.get(n);i===void 0&&(i=oe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.sessionToken=rt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(){this.Tr=new tt(Ge.Er),this.dr=new tt(Ge.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ge(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ge(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Y(new _e([])),r=new Ge(n,e),s=new Ge(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Y(new _e([])),r=new Ge(n,e),s=new Ge(n,e+1);let i=oe();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ge(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ge{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Y.comparator(e.key,n.key)||he(e.wr,n.wr)}static Ar(e,n){return he(e.wr,n.wr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tt(Ge.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new PA(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.br=this.br.add(new Ge(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ge(n,0),s=new Ge(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const l=this.Dr(o.wr);i.push(l)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tt(he);return n.forEach(s=>{const i=new Ge(s,0),o=new Ge(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],l=>{r=r.add(l.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Y.isDocumentKey(i)||(i=i.child(""));const o=new Ge(new Y(i),0);let l=new tt(he);return this.br.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(u.wr)),!0)},o),U.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){me(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,s=>{const i=new Ge(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ge(n,0),s=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.Mr=e,this.docs=function(){return new ke(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=Kn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ft.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Kn();const o=n.path,l=new Y(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:h}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Gk(qk(h),r)<=0||(s.has(h.key)||ou(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ee()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dI(this)}getSize(e){return U.resolve(this.size)}}class dI extends rI{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.persistence=e,this.Nr=new ki(n=>qm(n),Gm),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Jm,this.targetCount=0,this.kr=vi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new vi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n){this.qr={},this.overlays={},this.Qr=new $m(0),this.Kr=!1,this.Kr=!0,this.$r=new lI,this.referenceDelegate=e(this),this.Ur=new hI(this),this.indexManager=new tI,this.remoteDocumentCache=function(s){return new uI(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ZA(n),this.Gr=new oI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new cI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const s=new mI(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class mI extends Qk{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.Jr=new Jm,this.Yr=null}static Zr(e){return new Zm(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const s=Y.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=oe(),s=oe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ep(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return T6()?8:Yk(j6())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new pI;return this.Xi(e,n,o).next(l=>{if(i.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(ro()<=ce.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(ro()<=ce.DEBUG&&K("QueryEngine","Query:",Rs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(ro()<=ce.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):U.resolve())}Yi(e,n){if(dx(n))return U.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=sf(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=oe(...i);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.ts(n,l);return this.ns(n,d,o,u.readTime)?this.Yi(e,sf(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,s){return dx(n)||s.isEqual(te.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?U.resolve(null):(ro()<=ce.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Rs(n)),this.rs(e,o,n,Hk(s,-1)).next(l=>l))})}ts(e,n){let r=new tt(T_(e));return n.forEach((s,i)=>{ou(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return ro()<=ce.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Rs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ar.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new ke(he),this._s=new ki(i=>qm(i),Gm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function xI(t,e,n,r){return new yI(t,e,n,r)}async function K_(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let u=oe();for(const d of s){o.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:l}))})})}function vI(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,d,h){const f=d.batch,p=f.keys();let x=U.resolve();return p.forEach(j=>{x=x.next(()=>h.getEntry(u,j)).next(P=>{const C=d.docVersions.get(j);me(C!==null),P.version.compareTo(C)<0&&(f.applyToRemoteDocument(P,d),P.isValidDocument()&&(P.setReadTime(d.commitVersion),h.addEntry(P)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=oe();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Q_(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function wI(t,e){const n=ne(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;l.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let x=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(rt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,r)),s=s.insert(f,x),function(P,C,E){return P.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,x,h)&&l.push(n.Ur.updateTargetData(i,x))});let u=Kn(),d=oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(_I(i,o,e.documentUpdates).next(h=>{u=h.Ps,d=h.Is})),!r.isEqual(te.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return U.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(n.os=s,i))}function _I(t,e,n){let r=oe(),s=oe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Kn();return n.forEach((l,u)=>{const d=i.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):K("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{Ps:o,Is:s}})}function bI(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EI(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new dr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function uf(t,e,n){const r=ne(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ba(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function bx(t,e,n){const r=ne(t);let s=te.min(),i=oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,h){const f=ne(u),p=f._s.get(h);return p!==void 0?U.resolve(f.os.get(p)):f.Ur.getTargetData(d,h)}(r,o,xn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:te.min(),n?i:oe())).next(l=>(jI(r,mA(e),l),{documents:l,Ts:i})))}function jI(t,e,n){let r=t.us.get(e)||te.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Ex{constructor(){this.activeTargetIds=wA()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NI{constructor(){this.so=new Ex,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ex,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl=null;function Rd(){return gl===null?gl=function(){return 268435456+Math.round(2147483648*Math.random())}():gl++,"0x"+gl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut="WebChannelConnection";class PI extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const l=Rd(),u=this.xo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${l}:`,u,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,o),this.No(n,u,d,s).then(h=>(K("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw ea("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",u,"request:",s),h})}Lo(n,r,s,i,o,l){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ci}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=SI[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Rd();return new Promise((o,l)=>{const u=new l_;u.setWithCredentials(!0),u.listenOnce(c_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vl.NO_ERROR:const h=u.getResponseJson();K(ut,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Vl.TIMEOUT:K(ut,`RPC '${e}' ${i} timed out`),l(new q(B.DEADLINE_EXCEEDED,"Request time out"));break;case Vl.HTTP_ERROR:const f=u.getStatus();if(K(ut,`RPC '${e}' ${i} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const x=p==null?void 0:p.error;if(x&&x.status&&x.message){const j=function(C){const E=C.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(E)>=0?E:B.UNKNOWN}(x.status);l(new q(j,x.message))}else l(new q(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new q(B.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{K(ut,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);K(ut,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=Rd(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=h_(),l=d_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");K(ut,`Creating RPC '${e}' stream ${s}: ${h}`,u);const f=o.createWebChannel(h,u);let p=!1,x=!1;const j=new CI({Io:C=>{x?K(ut,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(p||(K(ut,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),K(ut,`RPC '${e}' stream ${s} sending:`,C),f.send(C))},To:()=>f.close()}),P=(C,E,w)=>{C.listen(E,_=>{try{w(_)}catch(I){setTimeout(()=>{throw I},0)}})};return P(f,co.EventType.OPEN,()=>{x||(K(ut,`RPC '${e}' stream ${s} transport opened.`),j.yo())}),P(f,co.EventType.CLOSE,()=>{x||(x=!0,K(ut,`RPC '${e}' stream ${s} transport closed`),j.So())}),P(f,co.EventType.ERROR,C=>{x||(x=!0,ea(ut,`RPC '${e}' stream ${s} transport errored:`,C),j.So(new q(B.UNAVAILABLE,"The operation could not be completed")))}),P(f,co.EventType.MESSAGE,C=>{var E;if(!x){const w=C.data[0];me(!!w);const _=w,I=_.error||((E=_[0])===null||E===void 0?void 0:E.error);if(I){K(ut,`RPC '${e}' stream ${s} received error:`,I);const V=I.status;let F=function(S){const T=Oe[S];if(T!==void 0)return O_(T)}(V),N=I.message;F===void 0&&(F=B.INTERNAL,N="Unknown error status: "+V+" with message "+I.message),x=!0,j.So(new q(F,N)),f.close()}else K(ut,`RPC '${e}' stream ${s} received:`,w),j.bo(w)}}),P(l,u_.STAT_EVENT,C=>{C.stat===Jh.PROXY?K(ut,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Jh.NOPROXY&&K(ut,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{j.wo()},0),j}}function Vd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){return new FA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&K("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,n,r,s,i,o,l,u){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Y_(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Gn(n.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new q(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kI extends X_{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=$A(this.serializer,e),r=function(i){if(!("targetChange"in i))return te.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?wn(o.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=cf(this.serializer),n.addTarget=function(i,o){let l;const u=o.target;if(l=nf(u)?{documents:HA(i,u)}:{query:qA(i,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=U_(i,o.resumeToken);const d=of(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(te.min())>0){l.readTime=Nc(i,o.snapshotVersion.toTimestamp());const d=of(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=KA(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=cf(this.serializer),n.removeTarget=e,this.a_(n)}}class AI extends X_{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return me(!!e.streamToken),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=WA(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=cf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zA(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,af(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(B.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,af(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(B.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class RI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Gn(n),this.D_=!1):K("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ts(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=ne(u);d.L_.add(4),await Na(d),d.q_.set("Unknown"),d.L_.delete(4),await du(d)}(this))})}),this.q_=new RI(r,s)}}async function du(t){if(Ts(t))for(const e of t.B_)await e(!0)}async function Na(t){for(const e of t.B_)await e(!1)}function J_(t,e){const n=ne(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),sp(n)?rp(n):Ai(n).r_()&&np(n,e))}function tp(t,e){const n=ne(t),r=Ai(n);n.N_.delete(e),r.r_()&&Z_(n,e),n.N_.size===0&&(r.r_()?r.o_():Ts(n)&&n.q_.set("Unknown"))}function np(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ai(t).A_(e)}function Z_(t,e){t.Q_.xe(e),Ai(t).R_(e)}function rp(t){t.Q_=new DA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ai(t).start(),t.q_.v_()}function sp(t){return Ts(t)&&!Ai(t).n_()&&t.N_.size>0}function Ts(t){return ne(t).L_.size===0}function e5(t){t.Q_=void 0}async function DI(t){t.q_.set("Online")}async function LI(t){t.N_.forEach((e,n)=>{np(t,e)})}async function MI(t,e){e5(t),sp(t)?(t.q_.M_(e),rp(t)):t.q_.set("Unknown")}async function OI(t,e,n){if(t.q_.set("Online"),e instanceof B_&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tc(t,r)}else if(e instanceof Ml?t.Q_.Ke(e):e instanceof F_?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{const r=await Q_(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Q_.rt(o);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,d)=>{const h=i.N_.get(u);if(!h)return;i.N_.set(u,h.withResumeToken(rt.EMPTY_BYTE_STRING,h.snapshotVersion)),Z_(i,u);const f=new dr(h.target,u,d,h.sequenceNumber);np(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await Tc(t,r)}}async function Tc(t,e,n){if(!ba(e))throw e;t.L_.add(1),await Na(t),t.q_.set("Offline"),n||(n=()=>Q_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await du(t)})}function t5(t,e){return e().catch(n=>Tc(t,n,e))}async function hu(t){const e=ne(t),n=Rr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;FI(e);)try{const s=await bI(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,BI(e,s)}catch(s){await Tc(e,s)}n5(e)&&r5(e)}function FI(t){return Ts(t)&&t.O_.length<10}function BI(t,e){t.O_.push(e);const n=Rr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function n5(t){return Ts(t)&&!Rr(t).n_()&&t.O_.length>0}function r5(t){Rr(t).start()}async function UI(t){Rr(t).p_()}async function $I(t){const e=Rr(t);for(const n of t.O_)e.m_(n.mutations)}async function zI(t,e,n){const r=t.O_.shift(),s=Qm.from(r,e,n);await t5(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await hu(t)}async function WI(t,e){e&&Rr(t).V_&&await async function(r,s){if(function(o){return IA(o)&&o!==B.ABORTED}(s.code)){const i=r.O_.shift();Rr(r).s_(),await t5(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await hu(r)}}(t,e),n5(t)&&r5(t)}async function Nx(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Ts(n);n.L_.add(3),await Na(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await du(n)}async function HI(t,e){const n=ne(t);e?(n.L_.delete(2),await du(n)):e||(n.L_.add(2),await Na(n),n.q_.set("Unknown"))}function Ai(t){return t.K_||(t.K_=function(n,r,s){const i=ne(n);return i.w_(),new kI(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:DI.bind(null,t),Ro:LI.bind(null,t),mo:MI.bind(null,t),d_:OI.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),sp(t)?rp(t):t.q_.set("Unknown")):(await t.K_.stop(),e5(t))})),t.K_}function Rr(t){return t.U_||(t.U_=function(n,r,s){const i=ne(n);return i.w_(),new AI(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:UI.bind(null,t),mo:WI.bind(null,t),f_:$I.bind(null,t),g_:zI.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await hu(t)):(await t.U_.stop(),t.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new ip(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(t,e){if(Gn("AsyncQueue",`${e}: ${t}`),ba(t))return new q(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=uo(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new ii(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ii)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ii;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.W_=new ke(Y.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class wi{constructor(e,n,r,s,i,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new wi(e,n,ii.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&iu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class GI{constructor(){this.queries=Sx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=ne(n),i=s.queries;s.queries=Sx(),i.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new q(B.ABORTED,"Firestore shutting down"))}}function Sx(){return new ki(t=>N_(t),iu)}async function KI(t,e){const n=ne(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new qI,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=op(o,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&ap(n)}async function QI(t,e){const n=ne(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YI(t,e){const n=ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.j_)l.X_(s)&&(r=!0);o.z_=s}}r&&ap(n)}function XI(t,e,n){const r=ne(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function ap(t){t.Y_.forEach(e=>{e.next()})}var df,Cx;(Cx=df||(df={})).ea="default",Cx.Cache="cache";class JI{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new wi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=wi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==df.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.key=e}}class i5{constructor(e){this.key=e}}class ZI{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=oe(),this.mutatedKeys=oe(),this.Aa=T_(e),this.Ra=new ii(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Tx,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),x=ou(this.query,f)?f:null,j=!!p&&this.mutatedKeys.has(p.key),P=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let C=!1;p&&x?p.data.isEqual(x.data)?j!==P&&(r.track({type:3,doc:x}),C=!0):this.ga(p,x)||(r.track({type:2,doc:x}),C=!0,(u&&this.Aa(x,u)>0||d&&this.Aa(x,d)<0)&&(l=!0)):!p&&x?(r.track({type:0,doc:x}),C=!0):p&&!x&&(r.track({type:1,doc:p}),C=!0,(u||d)&&(l=!0)),C&&(x?(o=o.add(x),i=P?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(x,j){const P=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return P(x)-P(j)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,d=u!==this.Ea;return this.Ea=u,o.length!==0||d?{snapshot:new wi(this.query,e.Ra,i,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Tx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new i5(r))}),this.da.forEach(r=>{e.has(r)||n.push(new s5(r))}),n}ba(e){this.Ta=e.Ts,this.da=oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return wi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class eR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tR{constructor(e){this.key=e,this.va=!1}}class nR{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ki(l=>N_(l),iu),this.Ma=new Map,this.xa=new Set,this.Oa=new ke(Y.comparator),this.Na=new Map,this.La=new Jm,this.Ba={},this.ka=new Map,this.qa=vi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function rR(t,e,n=!0){const r=d5(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await o5(r,e,n,!0),s}async function sR(t,e){const n=d5(t);await o5(n,e,!0,!1)}async function o5(t,e,n,r){const s=await EI(t.localStore,xn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await iR(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&J_(t.remoteStore,s),l}async function iR(t,e,n,r,s){t.Ka=(f,p,x)=>async function(P,C,E,w){let _=C.view.ma(E);_.ns&&(_=await bx(P.localStore,C.query,!1).then(({documents:N})=>C.view.ma(N,_)));const I=w&&w.targetChanges.get(C.targetId),V=w&&w.targetMismatches.get(C.targetId)!=null,F=C.view.applyChanges(_,P.isPrimaryClient,I,V);return kx(P,C.targetId,F.wa),F.snapshot}(t,f,p,x);const i=await bx(t.localStore,e,!0),o=new ZI(e,i.Ts),l=o.ma(i.documents),u=ja.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,u);kx(t,n,d.wa);const h=new eR(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function oR(t,e,n){const r=ne(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!iu(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await uf(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&tp(r.remoteStore,s.targetId),hf(r,s.targetId)}).catch(_a)):(hf(r,s.targetId),await uf(r.localStore,s.targetId,!0))}async function aR(t,e){const n=ne(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tp(n.remoteStore,r.targetId))}async function lR(t,e,n){const r=pR(t);try{const s=await function(o,l){const u=ne(o),d=He.now(),h=l.reduce((x,j)=>x.add(j.key),oe());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",x=>{let j=Kn(),P=oe();return u.cs.getEntries(x,h).next(C=>{j=C,j.forEach((E,w)=>{w.isValidDocument()||(P=P.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(x,j)).next(C=>{f=C;const E=[];for(const w of l){const _=SA(w,f.get(w.key).overlayedDocument);_!=null&&E.push(new zr(w.key,_,g_(_.value.mapValue),vn.exists(!0)))}return u.mutationQueue.addMutationBatch(x,d,E,l)}).next(C=>{p=C;const E=C.applyToLocalDocumentSet(f,P);return u.documentOverlayCache.saveOverlays(x,C.batchId,E)})}).then(()=>({batchId:p.batchId,changes:C_(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new ke(he)),d=d.insert(l,u),o.Ba[o.currentUser.toKey()]=d}(r,s.batchId,n),await Ta(r,s.changes),await hu(r.remoteStore)}catch(s){const i=op(s,"Failed to persist write");n.reject(i)}}async function a5(t,e){const n=ne(t);try{const r=await wI(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?me(o.va):s.removedDocuments.size>0&&(me(o.va),o.va=!1))}),await Ta(n,r,e)}catch(r){await _a(r)}}function Px(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const l=o.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=ne(o);u.onlineState=l;let d=!1;u.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(l)&&(d=!0)}),d&&ap(u)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cR(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new ke(Y.comparator);o=o.insert(i,ft.newNoDocument(i,te.min()));const l=oe().add(i),u=new cu(te.min(),new Map,new ke(he),o,l);await a5(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(e),lp(r)}else await uf(r.localStore,e,!1).then(()=>hf(r,e,n)).catch(_a)}async function uR(t,e){const n=ne(t),r=e.batch.batchId;try{const s=await vI(n.localStore,e);c5(n,r,null),l5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ta(n,s)}catch(s){await _a(s)}}async function dR(t,e,n){const r=ne(t);try{const s=await function(o,l){const u=ne(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return u.mutationQueue.lookupMutationBatch(d,l).next(f=>(me(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(d,f))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>u.localDocuments.getDocuments(d,h))})}(r.localStore,e);c5(r,e,n),l5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ta(r,s)}catch(s){await _a(s)}}function l5(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function c5(t,e,n){const r=ne(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function hf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||u5(t,r)})}function u5(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(tp(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),lp(t))}function kx(t,e,n){for(const r of n)r instanceof s5?(t.La.addReference(r.key,e),hR(t,r)):r instanceof i5?(K("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||u5(t,r.key)):ee()}function hR(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(K("SyncEngine","New document in limbo: "+n),t.xa.add(r),lp(t))}function lp(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Y(_e.fromString(e)),r=t.qa.next();t.Na.set(r,new tR(n)),t.Oa=t.Oa.insert(n,r),J_(t.remoteStore,new dr(xn(E_(n.path)),r,"TargetPurposeLimboResolution",$m.oe))}}async function Ta(t,e,n){const r=ne(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(d){s.push(d);const f=ep.Wi(u.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(u,d){const h=ne(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(d,p=>U.forEach(p.$i,x=>h.persistence.referenceDelegate.addReference(f,p.targetId,x)).next(()=>U.forEach(p.Ui,x=>h.persistence.referenceDelegate.removeReference(f,p.targetId,x)))))}catch(f){if(!ba(f))throw f;K("LocalStore","Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const x=h.os.get(p),j=x.snapshotVersion,P=x.withLastLimboFreeSnapshotVersion(j);h.os=h.os.insert(p,P)}}}(r.localStore,i))}async function fR(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await K_(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(l=>{l.forEach(u=>{u.reject(new q(B.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ta(n,r.hs)}}function mR(t,e){const n=ne(t),r=n.Na.get(e);if(r&&r.va)return oe().add(r.key);{let s=oe();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const l=n.Fa.get(o);s=s.unionWith(l.view.Va)}return s}}function d5(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=a5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cR.bind(null,e),e.Ca.d_=YI.bind(null,e.eventManager),e.Ca.$a=XI.bind(null,e.eventManager),e}function pR(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dR.bind(null,e),e}class Sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return xI(this.persistence,new gI,e.initialUser,this.serializer)}Ga(e){return new fI(Zm.Zr,this.serializer)}Wa(e){return new NI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sc.provider={build:()=>new Sc};class ff{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Px(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fR.bind(null,this.syncEngine),await HI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GI}()}createDatastore(e){const n=uu(e.databaseInfo.databaseId),r=function(i){return new PI(i)}(e.databaseInfo);return function(i,o,l,u){return new II(i,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new VI(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Px(this.syncEngine,n,0),function(){return jx.D()?new jx:new TI}())}createSyncEngine(e,n){return function(s,i,o,l,u,d,h){const f=new nR(s,i,o,l,u,d);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ne(s);K("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Na(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ff.provider={build:()=>new ff};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Gn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Nt.UNAUTHENTICATED,this.clientId=f_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{K("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=op(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dd(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await K_(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ax(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xR(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Nx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Nx(e.remoteStore,s)),t._onlineComponents=e}async function xR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ea("Error using user provided cache. Falling back to memory cache: "+n),await Dd(t,new Sc)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Dd(t,new Sc);return t._offlineComponents}async function h5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await Ax(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await Ax(t,new ff))),t._onlineComponents}function vR(t){return h5(t).then(e=>e.syncEngine)}async function wR(t){const e=await h5(t),n=e.eventManager;return n.onListen=rR.bind(null,e.syncEngine),n.onUnlisten=oR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aR.bind(null,e.syncEngine),n}function _R(t,e,n={}){const r=new Nr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,d){const h=new gR({next:p=>{h.Za(),o.enqueueAndForget(()=>QI(i,f)),p.fromCache&&u.source==="server"?d.reject(new q(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new JI(l,h,{includeMetadataChanges:!0,_a:!0});return KI(i,f)}(await wR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(t,e,n){if(!n)throw new q(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bR(t,e,n,r){if(e===!0&&r===!0)throw new q(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rx(t){if(!Y.isDocumentKey(t))throw new q(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Vx(t){if(Y.isDocumentKey(t))throw new q(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function la(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fu(t);throw new q(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f5((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Mk;switch(r.type){case"firstParty":return new Bk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ix.get(n);r&&(K("ComponentProvider","Removing Datastore"),Ix.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}}class Tr extends Ss{constructor(e,n,r){super(e,n,E_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Y(e))}withConverter(e){return new Tr(this.firestore,e,this._path)}}function up(t,e,...n){if(t=Hn(t),m5("collection","path",e),t instanceof cp){const r=_e.fromString(e,...n);return Vx(r),new Tr(t,null,r)}{if(!(t instanceof Ft||t instanceof Tr))throw new q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return Vx(r),new Tr(t.firestore,null,r)}}function p5(t,e,...n){if(t=Hn(t),arguments.length===1&&(e=f_.newId()),m5("doc","path",e),t instanceof cp){const r=_e.fromString(e,...n);return Rx(r),new Ft(t,null,new Y(r))}{if(!(t instanceof Ft||t instanceof Tr))throw new q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return Rx(r),new Ft(t.firestore,t instanceof Tr?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Y_(this,"async_queue_retry"),this.Vu=()=>{const r=Vd();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Vd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Vd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Nr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ba(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Gn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=ip.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class mu extends cp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Lx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lx(e),this._firestoreClient=void 0,await e}}}function g5(t){if(t._terminated)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ER(t),t._firestoreClient}function ER(t){var e,n,r;const s=t._freezeSettings(),i=function(l,u,d,h){return new Zk(l,u,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,f5(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new yR(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _i(rt.fromBase64String(e))}catch(n){throw new q(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _i(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=/^__.*__$/;class NR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ea(e,this.data,n,this.fieldTransforms)}}class y5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function x5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class mp{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new mp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Cc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(x5(this.Cu)&&jR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class TR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||uu(e)}Qu(e,n,r,s=!1){return new mp({Cu:e,methodName:n,qu:r,path:Ze.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pp(t){const e=t._freezeSettings(),n=uu(t._databaseId);return new TR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SR(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);gp("Data must be an object, but it was:",o,r);const l=v5(r,o);let u,d;if(i.merge)u=new Mt(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=mf(e,f,n);if(!o.contains(p))throw new q(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);_5(h,p)||h.push(p)}u=new Mt(h),d=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,d=o.fieldTransforms;return new NR(new St(l),u,d)}class gu extends dp{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gu}}function CR(t,e,n,r){const s=t.Qu(1,e,n);gp("Data must be an object, but it was:",s,r);const i=[],o=St.empty();Ns(r,(u,d)=>{const h=yp(e,u,n);d=Hn(d);const f=s.Nu(h);if(d instanceof gu)i.push(h);else{const p=Sa(d,f);p!=null&&(i.push(h),o.set(h,p))}});const l=new Mt(i);return new y5(o,l,s.fieldTransforms)}function PR(t,e,n,r,s,i){const o=t.Qu(1,e,n),l=[mf(e,r,n)],u=[s];if(i.length%2!=0)throw new q(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(mf(e,i[p])),u.push(i[p+1]);const d=[],h=St.empty();for(let p=l.length-1;p>=0;--p)if(!_5(d,l[p])){const x=l[p];let j=u[p];j=Hn(j);const P=o.Nu(x);if(j instanceof gu)d.push(x);else{const C=Sa(j,P);C!=null&&(d.push(x),h.set(x,C))}}const f=new Mt(d);return new y5(h,f,o.fieldTransforms)}function kR(t,e,n,r=!1){return Sa(n,t.Qu(r?4:3,e))}function Sa(t,e){if(w5(t=Hn(t)))return gp("Unsupported field value:",e,t),v5(t,e);if(t instanceof dp)return function(r,s){if(!x5(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let u=Sa(l,s.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _A(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=He.fromDate(r);return{timestampValue:Nc(s.serializer,i)}}if(r instanceof He){const i=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nc(s.serializer,i)}}if(r instanceof hp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _i)return{bytesValue:U_(s.serializer,r._byteString)};if(r instanceof Ft){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Xm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof fp)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return Km(l.serializer,u)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${fu(r)}`)}(t,e)}function v5(t,e){const n={};return m_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(t,(r,s)=>{const i=Sa(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function w5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof hp||t instanceof _i||t instanceof Ft||t instanceof dp||t instanceof fp)}function gp(t,e,n){if(!w5(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=fu(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function mf(t,e,n){if((e=Hn(e))instanceof pu)return e._internalPath;if(typeof e=="string")return yp(t,e);throw Cc("Field path arguments must be of type string or ",t,!1,void 0,n)}const AR=new RegExp("[~\\*/\\[\\]]");function yp(t,e,n){if(e.search(AR)>=0)throw Cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pu(...e.split("."))._internalPath}catch{throw Cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new q(B.INVALID_ARGUMENT,l+t+u)}function _5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IR extends b5{data(){return super.data()}}function xp(t,e){return typeof e=="string"?yp(t,e):e instanceof pu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vp{}class E5 extends vp{}function VR(t,e,...n){let r=[];e instanceof vp&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof _p).length,l=i.filter(u=>u instanceof wp).length;if(o>1||o>0&&l>0)throw new q(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class wp extends E5{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wp(e,n,r)}_apply(e){const n=this._parse(e);return j5(e._query,n),new Ss(e.firestore,e.converter,rf(e._query,n))}_parse(e){const n=pp(e.firestore);return function(i,o,l,u,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Ox(f,h);const x=[];for(const j of f)x.push(Mx(u,i,j));p={arrayValue:{values:x}}}else p=Mx(u,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Ox(f,h),p=kR(l,o,f,h==="in"||h==="not-in");return Ue.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class _p extends vp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _p(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:cn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const u of l)j5(o,u),o=rf(o,u)}(e._query,n),new Ss(e.firestore,e.converter,rf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bp extends E5{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bp(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new q(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new q(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ia(i,o)}(e._query,this._field,this._direction);return new Ss(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Pi(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function DR(t,e="asc"){const n=e,r=xp("orderBy",t);return bp._create(r,n)}function Mx(t,e,n){if(typeof(n=Hn(n))=="string"){if(n==="")throw new q(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j_(e)&&n.indexOf("/")!==-1)throw new q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_e.fromString(n));if(!Y.isDocumentKey(r))throw new q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ix(t,new Y(r))}if(n instanceof Ft)return ix(t,n._key);throw new q(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fu(n)}.`)}function Ox(t,e){if(!Array.isArray(t)||t.length===0)throw new q(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j5(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LR{convertValue(e,n="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ns(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Re(o.doubleValue));return new fp(i)}convertGeoPoint(e){return new hp(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(na(e));default:return null}}convertTimestamp(e){const n=Ir(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_e.fromString(e);me(G_(r));const s=new ra(r.get(1),r.get(3)),i=new Y(r.popFirst(5));return s.isEqual(n)||Gn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OR extends b5{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ol(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ol extends OR{data(e={}){return super.data(e)}}class FR{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new yl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ol(this._firestore,this._userDataWriter,r.key,r,new yl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const u=new Ol(s._firestore,s._userDataWriter,l.doc.key,l.doc,new yl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new Ol(s._firestore,s._userDataWriter,l.doc.key,l.doc,new yl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:BR(l.type),doc:u,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function BR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}class UR extends LR{constructor(e){super(),this.firestore=e}convertBytes(e){return new _i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function $R(t){t=la(t,Ss);const e=la(t.firestore,mu),n=g5(e),r=new UR(e);return RR(t._query),_R(n,t._query).then(s=>new FR(e,r,t,s))}function zR(t,e,n,...r){t=la(t,Ft);const s=la(t.firestore,mu),i=pp(s);let o;return o=typeof(e=Hn(e))=="string"||e instanceof pu?PR(i,"updateDoc",t._key,e,n,r):CR(i,"updateDoc",t._key,e),T5(s,[o.toMutation(t._key,vn.exists(!0))])}function N5(t,e){const n=la(t.firestore,mu),r=p5(t),s=MR(t.converter,e);return T5(n,[SR(pp(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,vn.exists(!1))]).then(()=>r)}function T5(t,e){return function(r,s){const i=new Nr;return r.asyncQueue.enqueueAndForget(async()=>lR(await vR(r),s,i)),i.promise}(g5(t),e)}(function(e,n=!0){(function(s){Ci=s})(Tk),wc(new vc("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new mu(new Ok(r.getProvider("auth-internal")),new $k(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new q(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ra(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),To(ex,"4.7.3",e),To(ex,"4.7.3","esm2017")})();const WR={products:[],users:[],orders:[]},Pc=WR,HR=()=>{const{state:t,clearCart:e}=_s(),{setLoading:n}=ga(),r=Rt(),[s,i]=y.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",cardNumber:"",expiryDate:"",cvv:""}),o=u=>{const{name:d,value:h}=u.target;i(f=>({...f,[d]:h}))},l=async u=>{if(u.preventDefault(),t.items.length===0){J.error("Your cart is empty");return}n(!0);try{const d={items:t.items,total:t.total*1.08,status:"pending",customerInfo:{name:`${s.firstName} ${s.lastName}`,email:s.email,phone:s.phone,address:`${s.address}, ${s.city}, ${s.state} ${s.zipCode}`},createdAt:new Date};await N5(up(Pc,"orders"),d),e(),J.success("Order placed successfully!"),r("/",{replace:!0})}catch(d){console.error("Error placing order:",d),J.error("Failed to place order. Please try again.")}finally{n(!1)}};return t.items.length===0?(r("/cart",{replace:!0}),null):a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Complete your purchase"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:a.jsxs("form",{onSubmit:l,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Personal Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),a.jsx("input",{type:"text",name:"firstName",required:!0,value:s.firstName,onChange:o,className:"input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),a.jsx("input",{type:"text",name:"lastName",required:!0,value:s.lastName,onChange:o,className:"input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",name:"email",required:!0,value:s.email,onChange:o,className:"input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",required:!0,value:s.phone,onChange:o,className:"input"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Shipping Address"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("input",{type:"text",name:"address",required:!0,value:s.address,onChange:o,className:"input"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),a.jsx("input",{type:"text",name:"city",required:!0,value:s.city,onChange:o,className:"input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),a.jsx("input",{type:"text",name:"state",required:!0,value:s.state,onChange:o,className:"input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),a.jsx("input",{type:"text",name:"zipCode",required:!0,value:s.zipCode,onChange:o,className:"input"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Payment Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),a.jsx("input",{type:"text",name:"cardNumber",required:!0,placeholder:"1234 5678 9012 3456",value:s.cardNumber,onChange:o,className:"input"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),a.jsx("input",{type:"text",name:"expiryDate",required:!0,placeholder:"MM/YY",value:s.expiryDate,onChange:o,className:"input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV"}),a.jsx("input",{type:"text",name:"cvv",required:!0,placeholder:"123",value:s.cvv,onChange:o,className:"input"})]})]})]})]}),a.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"w-full btn-primary py-4 text-lg font-medium",children:[a.jsx(f3,{className:"w-6 h-6 mr-2"}),"Place Order"]})]})}),a.jsx(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-8",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),a.jsx("div",{className:"space-y-4 mb-6",children:t.items.map(u=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:u.product.imageUrl,alt:u.product.title,className:"w-12 h-12 object-cover rounded"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.product.title}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",u.quantity]})]}),a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",(u.product.price*u.quantity).toFixed(2)]})]},u.id))}),a.jsxs("div",{className:"space-y-3 mb-6 pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["",(t.total*80).toFixed(0)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{children:"Free"})]}),a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"Tax"}),a.jsxs("span",{children:["",(t.total*80*.18).toFixed(0)]})]}),a.jsx("div",{className:"border-t pt-3",children:a.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["",(t.total*80*1.18).toFixed(0)]})]})})]}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Lm,{className:"w-5 h-5 mr-2 text-green-600"}),"Secure payment processing"]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Y2,{className:"w-5 h-5 mr-2 text-blue-600"}),"Free shipping on all orders"]})]})]})})]})]})})},qR=()=>{const[t,e]=y.useState([]),n=s=>{const i=Array.from(s.target.files||[]);if(t.length+i.length>5){alert("You can upload maximum 5 images");return}e(l=>[...l,...i])},r=s=>{e(i=>i.filter((o,l)=>l!==s))};return a.jsx("div",{className:"min-h-screen bg-gray-50 py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Get in Touch"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"We'd love to hear from you. Contact us for any queries, custom orders, or just to say hello!"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsxs(O.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"space-y-8",children:[a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Contact Information"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(O3,{className:"w-6 h-6 text-orange-500 mr-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Phone"}),a.jsx("p",{className:"text-gray-600",children:"+91 8015324928"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-6 h-6 text-green-500 mr-4",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488z"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"WhatsApp"}),a.jsx("p",{className:"text-gray-600",children:"+91 8015324928"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(x3,{className:"w-6 h-6 text-blue-500 mr-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Email"}),a.jsx("p",{className:"text-gray-600",children:"info@mirajcandles.com"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(G2,{className:"w-6 h-6 text-red-500 mr-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Address"}),a.jsxs("p",{className:"text-gray-600",children:["No: 524/B, Ramanujar Nagar",a.jsx("br",{}),"Melpapanapattu, Neyveli-2",a.jsx("br",{}),"Vridhachalam (Tk), Cuddalore (Dt)",a.jsx("br",{}),"Pincode: 607802, TamilNadu, India"]})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(W2,{className:"w-6 h-6 text-purple-500 mr-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Business Hours"}),a.jsxs("p",{className:"text-gray-600",children:["Monday - Saturday: 9:30 AM - 6:00 PM",a.jsx("br",{}),"Sunday: 9:30 AM - 1:30 PM"]})]})]})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Follow Us"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("a",{href:"https://instagram.com/mirajcandles",target:"_blank",rel:"noopener noreferrer",className:"bg-pink-500 text-white p-3 rounded-lg hover:bg-pink-600 transition-colors duration-200",children:a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),a.jsx("a",{href:"https://facebook.com/mirajcandles",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),a.jsx("a",{href:"https://twitter.com/mirajcandles",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-400 text-white p-3 rounded-lg hover:bg-blue-500 transition-colors duration-200",children:a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),a.jsx("a",{href:"https://youtube.com/mirajcandles",target:"_blank",rel:"noopener noreferrer",className:"bg-red-600 text-white p-3 rounded-lg hover:bg-red-700 transition-colors duration-200",children:a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})})]})]})]}),a.jsxs(O.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},className:"bg-white p-8 rounded-xl shadow-lg",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send us a Message"}),a.jsxs("form",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),a.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Your first name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Your last name"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"your@email.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),a.jsx("input",{type:"tel",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"+91 98765 43210"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),a.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"mention your reason (return/ damaged/ any other) like this..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),a.jsx("textarea",{rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none",placeholder:"Tell us more about your inquiry..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Images (Min: 1, Max: 5)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-center w-full",children:a.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[a.jsx(B3,{className:"w-8 h-8 mb-4 text-gray-500"}),a.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[a.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 10MB each)"})]}),a.jsx("input",{type:"file",multiple:!0,accept:"image/png,image/jpg,image/jpeg",onChange:n,className:"hidden",disabled:t.length>=5})]})}),t.length>0&&a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:t.map((s,i)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:URL.createObjectURL(s),alt:`Upload ${i+1}`,className:"w-full h-24 object-cover rounded-lg border"}),a.jsx("button",{onClick:()=>r(i),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(pi,{className:"w-4 h-4"})}),a.jsx("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:s.name.length>15?s.name.substring(0,15)+"...":s.name})]},i))}),a.jsxs("p",{className:"text-sm text-gray-500",children:[t.length,"/5 images uploaded",t.length===0&&a.jsx("span",{className:"text-red-500",children:" (At least 1 image required)"})]})]})]}),a.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:t.length===0,className:`w-full py-3 px-6 rounded-lg font-medium transition-colors duration-200 ${t.length===0?"bg-gray-400 cursor-not-allowed text-white":"bg-orange-500 hover:bg-orange-600 text-white"}`,children:"Send Message"})]})]})]})]})})},GR=()=>{const{login:t,currentUser:e}=Ur(),{setLoading:n}=ga(),r=Rt(),[s,i]=y.useState({email:"",password:""}),[o,l]=y.useState(!1);Vr.useEffect(()=>{e&&r("/",{replace:!0})},[e,r]);const u=h=>{const{name:f,value:p}=h.target;i(x=>({...x,[f]:p}))},d=async h=>{h.preventDefault(),n(!0);try{await t(s.email,s.password),J.success("Login successful!"),r("/")}catch(f){console.error("Login error:",f),J.error(f.message||"Login failed. Please check your credentials.")}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-orange-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-orange-500 rounded-full flex items-center justify-center",children:a.jsx(Rn,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Customer Login"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Welcome back to Miraj Candles"})]}),a.jsxs(O.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mt-8 space-y-6 bg-white p-8 rounded-2xl shadow-lg",onSubmit:d,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:u,className:"mt-1 appearance-none relative block w-full px-4 py-3 border border-gray-300 text-gray-900 placeholder-gray-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{id:"password",name:"password",type:o?"text":"password",autoComplete:"current-password",required:!0,value:s.password,onChange:u,className:"appearance-none relative block w-full px-4 py-3 pr-12 border border-gray-300 text-gray-900 placeholder-gray-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!o),children:o?a.jsx(cs,{className:"h-5 w-5 text-gray-400"}):a.jsx(br,{className:"h-5 w-5 text-gray-400"})})]})]})]}),a.jsx("div",{children:a.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-orange-500 hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors",children:"Sign in to your account"})}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",a.jsx(re,{to:"/user/register",className:"font-medium text-orange-600 hover:text-orange-500",children:"Register here"})]})})]})]})})},KR=()=>{const{register:t,currentUser:e}=Ur(),{setLoading:n}=ga(),r=Rt(),[s,i]=y.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[o,l]=y.useState(!1),[u,d]=y.useState(!1);Vr.useEffect(()=>{e&&r("/",{replace:!0})},[e,r]);const h=p=>{const{name:x,value:j}=p.target;i(P=>({...P,[x]:j}))},f=async p=>{if(p.preventDefault(),s.password!==s.confirmPassword){J.error("Passwords do not match");return}n(!0);try{await t(s.firstName,s.lastName,s.email,s.password),J.success("Registration successful! Welcome to Miraj Candles!"),r("/")}catch(x){console.error("Registration error:",x),J.error(x.message||"Registration failed. Please try again.")}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx(t6,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Create Account"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join the Miraj Candles family"})]}),a.jsxs(O.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mt-8 space-y-6 bg-white p-8 rounded-2xl shadow-lg",onSubmit:f,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),a.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:s.firstName,onChange:h,className:"mt-1 appearance-none relative block w-full px-4 py-3 border border-gray-300 text-gray-900 placeholder-gray-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"First name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),a.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:s.lastName,onChange:h,className:"mt-1 appearance-none relative block w-full px-4 py-3 border border-gray-300 text-gray-900 placeholder-gray-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Last name"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:h,className:"mt-1 appearance-none relative block w-full px-4 py-3 border border-gray-300 text-gray-900 placeholder-gray-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{id:"password",name:"password",type:o?"text":"password",autoComplete:"new-password",required:!0,value:s.password,onChange:h,className:"appearance-none relative block w-full px-4 py-3 pr-12 border border-gray-300 text-gray-900 placeholder-gray-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Create a password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!o),children:o?a.jsx(cs,{className:"h-5 w-5 text-gray-400"}):a.jsx(br,{className:"h-5 w-5 text-gray-400"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:u?"text":"password",autoComplete:"new-password",required:!0,value:s.confirmPassword,onChange:h,className:"appearance-none relative block w-full px-4 py-3 pr-12 border border-gray-300 text-gray-900 placeholder-gray-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm your password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>d(!u),children:u?a.jsx(cs,{className:"h-5 w-5 text-gray-400"}):a.jsx(br,{className:"h-5 w-5 text-gray-400"})})]})]})]}),a.jsx("div",{children:a.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Create your account"})}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",a.jsx(re,{to:"/user/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in here"})]})})]})]})})},QR=()=>{var Q,Z;const{currentUser:t,logout:e}=Ur(),{state:n}=_s(),{state:r}=pa(),[s,i]=y.useState("overview"),[o,l]=y.useState(!1),[u,d]=y.useState(""),[h,f]=y.useState({firstName:((Q=t==null?void 0:t.name)==null?void 0:Q.split(" ")[0])||"",lastName:((Z=t==null?void 0:t.name)==null?void 0:Z.split(" ")[1])||"",email:(t==null?void 0:t.email)||"",phone:"",dateOfBirth:"",gender:"",profilePicture:(t==null?void 0:t.profilePicture)||""}),[p,x]=y.useState([{id:"1",type:"Home",street:"123 Main Street",city:"New York",state:"NY",zipCode:"10001",country:"United States",isDefault:!0}]),[j,P]=y.useState(!1),[C,E]=y.useState(null),[w,_]=y.useState({type:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1}),[I,V]=y.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[F,N]=y.useState({current:!1,new:!1,confirm:!1}),[v]=y.useState([{id:"#12345",date:"2024-01-15",status:"Delivered",total:89.99,items:3,statusColor:"text-green-600 bg-green-50"},{id:"#12344",date:"2024-01-10",status:"Processing",total:156.5,items:5,statusColor:"text-blue-600 bg-blue-50"},{id:"#12343",date:"2024-01-05",status:"Shipped",total:234.75,items:2,statusColor:"text-orange-600 bg-orange-50"}]);y.useEffect(()=>{const L=localStorage.getItem("userProfile");if(L){const ae=JSON.parse(L);f(ae),d(ae.profilePicture||"")}const G=localStorage.getItem("userAddresses");G&&x(JSON.parse(G))},[]);const S=[{id:"overview",name:"Overview",icon:Rn},{id:"orders",name:"Orders",icon:Er},{id:"wishlist",name:"Wishlist",icon:si},{id:"addresses",name:"Addresses",icon:G2},{id:"profile",name:"Profile",icon:ru},{id:"security",name:"Security",icon:$2}],T=()=>{if(!h.firstName||!h.lastName||!h.email){J.error("Please fill in all required fields");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.email)){J.error("Please enter a valid email address");return}localStorage.setItem("userProfile",JSON.stringify(h)),J.success("Profile updated successfully!")},A=()=>{E(null),_({type:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1}),P(!0)},R=L=>{E(L),_({type:L.type,street:L.street,city:L.city,state:L.state,zipCode:L.zipCode,country:L.country,isDefault:L.isDefault}),P(!0)},k=L=>{const G=p.filter(ae=>ae.id!==L);x(G),localStorage.setItem("userAddresses",JSON.stringify(G)),J.success("Address deleted successfully!")},se=L=>{const G=p.map(ae=>({...ae,isDefault:ae.id===L}));x(G),localStorage.setItem("userAddresses",JSON.stringify(G)),J.success("Default address updated!")},Ee=L=>{var ae;const G=(ae=L.target.files)==null?void 0:ae[0];if(G){const pt=new FileReader;pt.onload=jt=>{var gt;const qe=(gt=jt.target)==null?void 0:gt.result;d(qe),f(Ii=>({...Ii,profilePicture:qe}))},pt.readAsDataURL(G)}},xe=()=>{if(I.newPassword!==I.confirmPassword){J.error("New passwords do not match");return}if(I.newPassword.length<6){J.error("Password must be at least 6 characters");return}J.success("Password updated successfully!"),V({currentPassword:"",newPassword:"",confirmPassword:""}),l(!1)},Me=async()=>{try{await e(),J.success("Logged out successfully")}catch{J.error("Failed to logout")}},W=()=>{switch(s){case"overview":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-100",children:"Total Orders"}),a.jsx("p",{className:"text-2xl font-bold",children:v.length})]}),a.jsx(Er,{className:"h-10 w-10 text-blue-200"})]})}),a.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-red-100",children:"Wishlist Items"}),a.jsx("p",{className:"text-2xl font-bold",children:r.items.length})]}),a.jsx(si,{className:"h-10 w-10 text-red-200"})]})}),a.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-100",children:"Cart Items"}),a.jsx("p",{className:"text-2xl font-bold",children:n.items.length})]}),a.jsx(Er,{className:"h-10 w-10 text-green-200"})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Orders"}),a.jsx("div",{className:"space-y-4",children:v.slice(0,3).map(L=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:L.id}),a.jsxs("p",{className:"text-sm text-gray-600",children:[L.date,"  ",L.items," items"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-medium text-gray-900",children:["$",L.total]}),a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${L.statusColor}`,children:L.status})]})]},L.id))})]})]});case"orders":return a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Order History"}),a.jsx("div",{className:"space-y-4",children:v.map(L=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:L.id}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Placed on ",L.date]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${L.statusColor}`,children:L.status})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[L.items," items"]}),a.jsxs("p",{className:"font-semibold text-gray-900",children:["$",L.total]})]}),a.jsxs("div",{className:"mt-4 flex space-x-3",children:[a.jsx("button",{className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"View Details"}),a.jsx("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Track Order"})]})]},L.id))})]});case"profile":return a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Profile Information"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-20 w-20 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:u?a.jsx("img",{src:u,alt:"Profile",className:"h-full w-full object-cover"}):a.jsx(Rn,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("label",{className:"absolute bottom-0 right-0 h-6 w-6 bg-orange-500 rounded-full flex items-center justify-center cursor-pointer hover:bg-orange-600 transition-colors",children:[a.jsx(z2,{className:"h-3 w-3 text-white"}),a.jsx("input",{type:"file",accept:"image/*",onChange:Ee,className:"hidden"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),a.jsx("input",{type:"text",value:h.firstName,onChange:L=>f(G=>({...G,firstName:L.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{type:"text",value:h.lastName,onChange:L=>f(G=>({...G,lastName:L.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:h.email,onChange:L=>f(G=>({...G,email:L.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),a.jsx("input",{type:"tel",value:h.phone,onChange:L=>f(G=>({...G,phone:L.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),a.jsx("input",{type:"date",value:h.dateOfBirth,onChange:L=>f(G=>({...G,dateOfBirth:L.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),a.jsxs("select",{value:h.gender,onChange:L=>f(G=>({...G,gender:L.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"",children:"Select Gender"}),a.jsx("option",{value:"male",children:"Male"}),a.jsx("option",{value:"female",children:"Female"}),a.jsx("option",{value:"other",children:"Other"}),a.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{onClick:T,className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Save Changes"})})]});case"security":return a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Security Settings"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Password"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Last updated 30 days ago"})]}),a.jsx("button",{onClick:()=>l(!o),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Change Password"})]}),o&&a.jsxs("div",{className:"space-y-4 p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:F.current?"text":"password",value:I.currentPassword,onChange:L=>V(G=>({...G,currentPassword:L.target.value})),className:"w-full px-4 py-2 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),a.jsx("button",{type:"button",onClick:()=>N(L=>({...L,current:!L.current})),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:F.current?a.jsx(cs,{className:"h-5 w-5 text-gray-400"}):a.jsx(br,{className:"h-5 w-5 text-gray-400"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:F.new?"text":"password",value:I.newPassword,onChange:L=>V(G=>({...G,newPassword:L.target.value})),className:"w-full px-4 py-2 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),a.jsx("button",{type:"button",onClick:()=>N(L=>({...L,new:!L.new})),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:F.new?a.jsx(cs,{className:"h-5 w-5 text-gray-400"}):a.jsx(br,{className:"h-5 w-5 text-gray-400"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:F.confirm?"text":"password",value:I.confirmPassword,onChange:L=>V(G=>({...G,confirmPassword:L.target.value})),className:"w-full px-4 py-2 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),a.jsx("button",{type:"button",onClick:()=>N(L=>({...L,confirm:!L.confirm})),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:F.confirm?a.jsx(cs,{className:"h-5 w-5 text-gray-400"}):a.jsx(br,{className:"h-5 w-5 text-gray-400"})})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:xe,className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Update Password"}),a.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})]});case"addresses":return a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Saved Addresses"}),a.jsx("button",{onClick:A,className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Add New Address"})]}),a.jsx("div",{className:"space-y-4",children:p.map(L=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:L.type}),L.isDefault&&a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Default"})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[L.street,a.jsx("br",{}),L.city,", ",L.state," ",L.zipCode,a.jsx("br",{}),L.country]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>R(L),className:"px-3 py-1 text-sm text-orange-600 hover:bg-orange-50 rounded",children:"Edit"}),a.jsx("button",{onClick:()=>k(L.id),className:"px-3 py-1 text-sm text-red-600 hover:bg-red-50 rounded",children:"Delete"}),!L.isDefault&&a.jsx("button",{onClick:()=>se(L.id),className:"px-3 py-1 text-sm text-blue-600 hover:bg-blue-50 rounded",children:"Set Default"})]})]})},L.id))})]});case"wishlist":return a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"My Wishlist"}),r.items.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(si,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Your wishlist is empty"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.items.map(L=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsx("img",{src:L.imageUrl,alt:L.name,className:"w-full h-40 object-cover rounded-lg mb-3"}),a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:L.name}),a.jsxs("p",{className:"text-orange-600 font-semibold",children:["$",L.price]}),a.jsx("button",{className:"w-full mt-3 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Add to Cart"})]},L.id))})]});default:return null}};return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[a.jsx("div",{className:"lg:w-64 flex-shrink-0",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"h-20 w-20 mx-auto rounded-full overflow-hidden bg-gray-100 flex items-center justify-center mb-3",children:u?a.jsx("img",{src:u,alt:"Profile",className:"h-full w-full object-cover"}):a.jsx(Rn,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("h3",{className:"font-semibold text-gray-900",children:[h.firstName," ",h.lastName]}),a.jsx("p",{className:"text-sm text-gray-600",children:h.email})]}),a.jsxs("nav",{className:"space-y-1",children:[S.map(L=>a.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i(L.id),className:`w-full flex items-center px-3 py-2 text-left rounded-lg transition-colors ${s===L.id?"bg-orange-50 text-orange-600 border border-orange-200":"text-gray-600 hover:bg-gray-50"}`,children:[a.jsx(L.icon,{className:"h-5 w-5 mr-3"}),L.name]},L.id)),a.jsxs("button",{onClick:Me,className:"w-full flex items-center px-3 py-2 text-left rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[a.jsx(B2,{className:"h-5 w-5 mr-3"}),"Logout"]})]})]})}),a.jsx("div",{className:"flex-1",children:a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:W()},s)})]})})})},YR=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!0);return y.useEffect(()=>{(async()=>{try{r(!0);const i=await _n.getProducts(),o=(i==null?void 0:i.filter(l=>l.status==="new"))||[];e(o)}catch(i){console.error("Error loading new arrivals:",i),e([])}finally{r(!1)}})()},[]),n?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx(Wn,{size:"large",text:"Loading new arrivals..."})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("section",{className:"bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900 py-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6",children:a.jsxs(re,{to:"/",className:"inline-flex items-center text-white hover:text-purple-200 transition-colors duration-200",children:[a.jsx(js,{className:"w-5 h-5 mr-2"}),"Back to Home"]})}),a.jsxs(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[a.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-purple-400 to-indigo-400 text-white px-6 py-3 rounded-full text-sm font-semibold mb-6",children:[a.jsx(K3,{className:"w-5 h-5 mr-2"}),"NEW ARRIVALS"]}),a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"New Arrivals"}),a.jsx("p",{className:"text-xl text-purple-100 max-w-3xl mx-auto",children:"Discover our latest collection of innovative and exciting new products"})]})]})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Latest Arrivals"}),a.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Fresh new products that bring innovation and style to your everyday life"})]}),t.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 text-lg",children:"No new arrivals available at the moment."})}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:t.map((s,i)=>a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},children:a.jsx(zn,{product:s})},s.id))})]})})]})},XR=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!0),s=[{id:"sale_1",name:"Premium Soy Candle Bundle",title:"Premium Soy Candle Bundle",description:"Set of 3 premium soy candles at an incredible discount. Limited time offer!",price:39.99,originalPrice:69.99,discount:43,imageUrl:"/images/candles/candle-collection-4.png",category:"Soy Wax",stock:20,createdAt:new Date,features:["3 candle set","Natural soy wax","Long burning","Gift packaging"]},{id:"sale_2",name:"Luxury Aromatherapy Set",title:"Luxury Aromatherapy Set",description:"Complete aromatherapy experience with candles, diffuser oils, and accessories.",price:89.99,originalPrice:149.99,discount:40,imageUrl:"/images/candles/candle-collection-5.png",category:"Aromatherapy",stock:15,createdAt:new Date,features:["Complete set","Essential oils","Diffuser included","Wellness guide"]},{id:"sale_3",name:"Seasonal Scent Collection",title:"Seasonal Scent Collection",description:"Four seasonal candles representing spring, summer, autumn, and winter fragrances.",price:59.99,originalPrice:99.99,discount:40,imageUrl:"/images/candles/candle-collection-6.jpg",category:"Gift Sets",stock:10,createdAt:new Date,features:["4 seasonal scents","Premium quality","Beautiful packaging","Year-round enjoyment"]}];return y.useEffect(()=>{setTimeout(()=>{e(s),r(!1)},500)},[]),n?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx(Wn,{size:"large",text:"Loading sale items..."})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("section",{className:"bg-gradient-to-br from-red-900 via-orange-900 to-yellow-900 py-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6",children:a.jsxs(re,{to:"/",className:"inline-flex items-center text-white hover:text-orange-200 transition-colors duration-200",children:[a.jsx(js,{className:"w-5 h-5 mr-2"}),"Back to Home"]})}),a.jsxs(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[a.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-red-400 to-orange-400 text-white px-6 py-3 rounded-full text-sm font-semibold mb-6",children:[a.jsx(X3,{className:"w-5 h-5 mr-2"}),"SALE - UP TO 50% OFF"]}),a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"Amazing Discounts"}),a.jsx("p",{className:"text-xl text-orange-100 max-w-3xl mx-auto",children:"Don't miss out on these incredible deals on our premium candle collections"})]})]})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Limited Time Offers"}),a.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Grab these amazing deals before they're gone!"})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((i,o)=>a.jsx(O.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:o*.2},children:a.jsx(zn,{product:i})},i.id))}),a.jsx("div",{className:"text-center mt-12",children:a.jsx(re,{to:"/products",className:"inline-flex items-center bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 text-white px-8 py-4 rounded-xl font-medium text-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"View All Products"})})]})})]})},JR=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!0),s=[{id:"trending_1",name:"Viral TikTok Aesthetic Candle",title:"Viral TikTok Aesthetic Candle",description:"The candle everyone is talking about! Trendy marble design with cottagecore vibes.",price:34.99,originalPrice:42.99,discount:19,imageUrl:"/images/candles/candle-collection-7.jpg",category:"Decor Candles",stock:25,createdAt:new Date,features:["TikTok famous","Aesthetic design","Instagram worthy","Trending scent"]},{id:"trending_2",name:"Self-Care Sunday Collection",title:"Self-Care Sunday Collection",description:"Perfect for your wellness routine. Trending among lifestyle influencers and wellness enthusiasts.",price:52.99,originalPrice:64.99,discount:18,imageUrl:"/images/candles/candle-collection-8.jpg",category:"Aromatherapy",stock:18,createdAt:new Date,features:["Wellness focused","Calming scents","Self-care ritual","Mindfulness aid"]},{id:"trending_3",name:"Cozy Reading Nook Candle",title:"Cozy Reading Nook Candle",description:"BookTok approved! Creates the perfect ambiance for reading sessions and cozy evenings.",price:28.99,originalPrice:36.99,discount:22,imageUrl:"/images/candles/candle-collection-9.jpg",category:"Scented Candles",stock:30,createdAt:new Date,features:["BookTok favorite","Reading companion","Cozy atmosphere","Paper & vanilla scent"]}];return y.useEffect(()=>{setTimeout(()=>{e(s),r(!1)},500)},[]),n?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx(Wn,{size:"large",text:"Loading trending products..."})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("section",{className:"bg-gradient-to-br from-pink-900 via-purple-900 to-indigo-900 py-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6",children:a.jsxs(re,{to:"/",className:"inline-flex items-center text-white hover:text-pink-200 transition-colors duration-200",children:[a.jsx(js,{className:"w-5 h-5 mr-2"}),"Back to Home"]})}),a.jsxs(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[a.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-pink-400 to-purple-400 text-white px-6 py-3 rounded-full text-sm font-semibold mb-6",children:[a.jsx(q2,{className:"w-5 h-5 mr-2"}),"TRENDING NOW"]}),a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"What's Hot"}),a.jsx("p",{className:"text-xl text-pink-100 max-w-3xl mx-auto",children:"Discover the candles that everyone is talking about on social media"})]})]})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Customer Favorites"}),a.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"These are the candles that are breaking the internet"})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((i,o)=>a.jsx(O.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:o*.2},children:a.jsx(zn,{product:i})},i.id))}),a.jsx("div",{className:"text-center mt-12",children:a.jsx(re,{to:"/products",className:"inline-flex items-center bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white px-8 py-4 rounded-xl font-medium text-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Explore All Products"})})]})})]})},ZR=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!0);return y.useEffect(()=>{(async()=>{try{r(!0);const i=await _n.getProducts(),o=(i==null?void 0:i.filter(l=>l.category==="Gifts"||l.category==="Gift Sets"))||[];e(o)}catch(i){console.error("Error loading gift products:",i),e([])}finally{r(!1)}})()},[]),n?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx(Wn,{size:"large",text:"Loading gift products..."})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("section",{className:"bg-gradient-to-br from-green-900 via-emerald-900 to-teal-900 py-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6",children:a.jsxs(re,{to:"/",className:"inline-flex items-center text-white hover:text-green-200 transition-colors duration-200",children:[a.jsx(js,{className:"w-5 h-5 mr-2"}),"Back to Home"]})}),a.jsxs(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[a.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-green-400 to-emerald-400 text-white px-6 py-3 rounded-full text-sm font-semibold mb-6",children:[a.jsx(N3,{className:"w-5 h-5 mr-2"}),"PERFECT GIFTS"]}),a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"Gift Collections"}),a.jsx("p",{className:"text-xl text-green-100 max-w-3xl mx-auto",children:"Thoughtfully curated gift sets that create lasting memories for every special occasion"})]})]})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Gift Collection"}),a.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Beautiful gift sets perfect for birthdays, anniversaries, holidays, and special occasions"})]}),t.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 text-lg",children:"No gift products available at the moment."})}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:t.map((s,i)=>a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},children:a.jsx(zn,{product:s})},s.id))})]})})]})},e9=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!0);return y.useEffect(()=>{(async()=>{try{r(!0);const i=await _n.getProducts(),o=(i==null?void 0:i.filter(l=>l.status==="featured"))||[];e(o)}catch(i){console.error("Error loading featured products:",i),e([])}finally{r(!1)}})()},[]),n?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx(Wn,{size:"large",text:"Loading featured products..."})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("section",{className:"bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 py-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6",children:a.jsxs(re,{to:"/",className:"inline-flex items-center text-white hover:text-blue-200 transition-colors duration-200",children:[a.jsx(js,{className:"w-5 h-5 mr-2"}),"Back to Home"]})}),a.jsxs(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[a.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-purple-400 to-blue-400 text-white px-6 py-3 rounded-full text-sm font-semibold mb-6",children:[a.jsx(Q2,{className:"w-5 h-5 mr-2"}),"FEATURED"]}),a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"Featured Products"}),a.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto",children:"Handpicked premium products that showcase our finest craftsmanship and quality"})]})]})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Featured Collection"}),a.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Our carefully curated selection of premium products that represent the best of our craftsmanship"})]}),t.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 text-lg",children:"No featured products available at the moment."})}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:t.map((s,i)=>a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},children:a.jsx(zn,{product:s})},s.id))})]})})]})},t9=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!0);return y.useEffect(()=>{(async()=>{try{r(!0);const i=await _n.getProducts(),o=(i==null?void 0:i.filter(l=>l.status==="bestseller"))||[];e(o)}catch(i){console.error("Error loading best sellers:",i),e([])}finally{r(!1)}})()},[]),n?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx(Wn,{size:"large",text:"Loading bestsellers..."})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("section",{className:"bg-gradient-to-br from-red-900 via-orange-900 to-yellow-900 py-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6",children:a.jsxs(re,{to:"/",className:"inline-flex items-center text-white hover:text-orange-200 transition-colors duration-200",children:[a.jsx(js,{className:"w-5 h-5 mr-2"}),"Back to Home"]})}),a.jsxs(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[a.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-red-400 to-orange-400 text-white px-6 py-3 rounded-full text-sm font-semibold mb-6",children:[a.jsx(q2,{className:"w-5 h-5 mr-2"}),"BESTSELLERS"]}),a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"Best Sellers"}),a.jsx("p",{className:"text-xl text-orange-100 max-w-3xl mx-auto",children:"Discover our most popular candles that customers absolutely love"})]})]})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Top Selling Products"}),a.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"These are the candles that have captured hearts and lit up homes across the country"})]}),t.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 text-lg",children:"No bestsellers available at the moment."})}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:t.map((s,i)=>a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},children:a.jsx(zn,{product:s})},s.id))})]})})]})},n9=()=>{const{login:t,currentUser:e}=Ur(),{setLoading:n}=ga(),r=Rt(),[s,i]=y.useState({email:"",password:""}),[o,l]=y.useState(!1);Vr.useEffect(()=>{e&&e.role==="admin"&&r("/admin/dashboard",{replace:!0})},[e,r]);const u=h=>{const{name:f,value:p}=h.target;i(x=>({...x,[f]:p}))},d=async h=>{h.preventDefault(),n(!0);try{await t(s.email,s.password),J.success("Login successful!"),r("/admin/dashboard")}catch(f){console.error("Login error:",f),J.error(f.message||"Login failed. Please check your credentials.")}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"mx-auto h-12 w-12 bg-white rounded-full flex items-center justify-center",children:a.jsx(k3,{className:"h-6 w-6 text-gray-900"})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-white",children:"Admin Login"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-400",children:"Access the admin dashboard"})]}),a.jsxs(O.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mt-8 space-y-6",onSubmit:d,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:u,className:"mt-1 appearance-none relative block w-full px-3 py-2 bg-gray-800 border border-gray-600 text-white placeholder-gray-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent",placeholder:"Enter your email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{id:"password",name:"password",type:o?"text":"password",autoComplete:"current-password",required:!0,value:s.password,onChange:u,className:"appearance-none relative block w-full px-3 py-2 pr-10 bg-gray-800 border border-gray-600 text-white placeholder-gray-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent",placeholder:"Enter your password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!o),children:o?a.jsx(cs,{className:"h-5 w-5 text-gray-400"}):a.jsx(br,{className:"h-5 w-5 text-gray-400"})})]})]})]}),a.jsx("div",{children:a.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-gray-900 bg-white hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white transition-colors",children:"Sign in to Admin Panel"})}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-sm text-gray-400",children:"Demo credentials: admin@example.com / password123"})})]})]})})},yu=({children:t})=>{var h;const{logout:e,user:n,currentUser:r}=Ur(),s=Fr(),i=Rt(),[o,l]=Vr.useState(!1),u=[{name:"Dashboard",href:"/admin/dashboard",icon:C3},{name:"Products",href:"/admin/products",icon:H2},{name:"Orders",href:"/admin/orders",icon:t3},{name:"Settings",href:"/admin/settings",icon:ru}],d=async()=>{try{await e(),J.success("Logged out successfully"),i("/admin/login")}catch{J.error("Failed to logout")}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(ls,{children:o&&a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex z-40 lg:hidden",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>l(!1)}),a.jsxs(O.div,{initial:{x:-256},animate:{x:0},exit:{x:-256},className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[a.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:a.jsx("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>l(!1),children:a.jsx(pi,{className:"h-6 w-6 text-white"})})}),a.jsxs("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[a.jsx("div",{className:"flex-shrink-0 flex items-center px-4",children:a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"})}),a.jsx("nav",{className:"mt-5 px-2 space-y-1",children:u.map(f=>a.jsxs(re,{to:f.href,className:`group flex items-center px-2 py-2 text-base font-medium rounded-md ${s.pathname===f.href?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>l(!1),children:[a.jsx(f.icon,{className:"mr-4 h-6 w-6"}),f.name]},f.name))})]})]})]})}),a.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:a.jsxs("div",{className:"flex flex-col flex-grow pt-5 bg-white overflow-y-auto border-r border-gray-200",children:[a.jsxs("div",{className:"flex items-center flex-shrink-0 px-4",children:[a.jsx("img",{src:"/images/logo.png",alt:"Miraj Candles",className:"h-8 w-auto mr-2"}),a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Admin"})]}),a.jsx("div",{className:"mt-5 flex-grow flex flex-col",children:a.jsx("nav",{className:"flex-1 px-2 pb-4 space-y-1",children:u.map(f=>a.jsxs(re,{to:f.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${s.pathname===f.href?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[a.jsx(f.icon,{className:"mr-3 h-6 w-6"}),f.name]},f.name))})}),a.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-8 w-8 rounded-full bg-orange-500 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-white",children:((h=r==null?void 0:r.name)==null?void 0:h.charAt(0).toUpperCase())||"A"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:(r==null?void 0:r.name)||"Admin"}),a.jsx("p",{className:"text-xs text-gray-500",children:r==null?void 0:r.email})]})]}),a.jsxs("button",{onClick:d,className:"mt-3 w-full flex items-center px-2 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[a.jsx(B2,{className:"mr-3 h-5 w-5"}),"Sign out"]})]})]})}),a.jsxs("div",{className:"lg:pl-64 flex flex-col flex-1",children:[a.jsxs("div",{className:"sticky top-0 z-10 flex-shrink-0 flex h-16 bg-white shadow lg:hidden",children:[a.jsx("button",{className:"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",onClick:()=>l(!0),children:a.jsx(U2,{className:"h-6 w-6"})}),a.jsx("div",{className:"flex-1 px-4 flex justify-between",children:a.jsx("div",{className:"flex-1 flex",children:a.jsx("div",{className:"w-full flex md:ml-0",children:a.jsx("div",{className:"relative w-full text-gray-400 focus-within:text-gray-600",children:a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pointer-events-none",children:a.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Admin Panel"})})})})})})]}),a.jsx("main",{className:"flex-1",children:a.jsx("div",{className:"py-6",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:t})})})})]})]})},r9=()=>{const t={totalProducts:156,totalOrders:2847,totalRevenue:45820.5,pendingOrders:12},e=[{id:"ORD12345",customerInfo:{name:"John Smith"},total:89.99,status:"pending",createdAt:new Date("2024-01-15")},{id:"ORD12346",customerInfo:{name:"Sarah Johnson"},total:156.5,status:"shipped",createdAt:new Date("2024-01-14")},{id:"ORD12347",customerInfo:{name:"Mike Davis"},total:234,status:"delivered",createdAt:new Date("2024-01-13")},{id:"ORD12348",customerInfo:{name:"Emily Wilson"},total:67.25,status:"pending",createdAt:new Date("2024-01-12")},{id:"ORD12349",customerInfo:{name:"David Brown"},total:198.75,status:"shipped",createdAt:new Date("2024-01-11")}],n=[{title:"Total Products",value:t.totalProducts,icon:H2,color:"bg-blue-500",change:"+12%"},{title:"Total Orders",value:t.totalOrders,icon:Er,color:"bg-green-500",change:"+8%"},{title:"Total Revenue",value:`$${t.totalRevenue.toFixed(2)}`,icon:g3,color:"bg-yellow-500",change:"+15%"},{title:"Pending Orders",value:t.pendingOrders,icon:W2,color:"bg-red-500",change:"-5%"}];return a.jsx(yu,{children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Welcome back! Here's what's happening with your store."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((r,s)=>a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.05},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:r.title}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:r.value})]}),a.jsx("div",{className:`${r.color} p-3 rounded-lg`,children:a.jsx(r.icon,{className:"w-6 h-6 text-white"})})]}),a.jsxs("div",{className:"flex items-center mt-4",children:[a.jsx(YP,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsx("span",{className:"text-sm text-green-500 font-medium",children:r.change}),a.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"from last month"})]})]},r.title))}),a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Orders"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(r=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",r.id.slice(-8)]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.customerInfo.name}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",r.total.toFixed(2)]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${r.status==="delivered"?"bg-green-100 text-green-800":r.status==="shipped"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.createdAt.toLocaleDateString()})]},r.id))})]})})]})]})})},s9=({isOpen:t,onClose:e,onProductAdded:n,productToEdit:r})=>{const[s,i]=y.useState(!1),[o,l]=y.useState({name:"",title:"",description:"",price:"",originalPrice:"",discount:"",stock:"",category:"",imageUrl:"",features:[]}),u=["Scented Candles","Soy Wax","Gift Sets","Decor Candles","Aromatherapy","Kids Stationaries"],d=["https://images.unsplash.com/photo-1602874801006-2bd9b9157e8d?w=400&h=400&fit=crop&auto=format","https://images.unsplash.com/photo-1571842893175-3ed4539c4226?w=400&h=400&fit=crop&auto=format","https://images.unsplash.com/photo-1544306094-7ad5b7e71c75?w=400&h=400&fit=crop&auto=format","https://images.unsplash.com/photo-1608571423902-eed4a5ad8108?w=400&h=400&fit=crop&auto=format","https://images.unsplash.com/photo-1588854337115-1c67d9247e4d?w=400&h=400&fit=crop&auto=format","https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?w=400&h=400&fit=crop&auto=format"],h=async C=>{C.preventDefault(),i(!0);try{const E={name:o.name,title:o.title||o.name,description:o.description,price:parseFloat(o.price),originalPrice:o.originalPrice?parseFloat(o.originalPrice):null,discount:o.discount?parseInt(o.discount):0,stock:parseInt(o.stock),category:o.category,imageUrl:o.imageUrl||d[Math.floor(Math.random()*d.length)],features:o.features.filter(w=>w.trim()!==""),createdAt:new Date,updatedAt:new Date};await N5(up(Pc,"products"),E),J.success("Product added successfully!"),n(),i(!1),e(),f()}catch(E){console.error("Error adding product:",E),J.error("Failed to add product"),i(!1)}},f=()=>{l({name:"",title:"",description:"",price:"",originalPrice:"",discount:"",stock:"",category:"",imageUrl:"",features:[]})},p=C=>{const{name:E,value:w}=C.target;l(_=>({..._,[E]:w}))},x=()=>{l(C=>({...C,features:[...C.features,""]}))},j=(C,E)=>{l(w=>({...w,features:w.features.map((_,I)=>I===C?E:_)}))},P=C=>{l(E=>({...E,features:E.features.filter((w,_)=>_!==C)}))};return a.jsx(ls,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:e,children:a.jsx(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:C=>C.stopPropagation(),children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Product":"Add New Product"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:a.jsx(pi,{className:"w-6 h-6"})})]}),s?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-500"}),a.jsx("span",{className:"text-gray-600",children:"Adding Product..."})]})}):a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),a.jsx("input",{type:"text",name:"name",required:!0,value:o.name,onChange:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"e.g., Lavender Dreams Candle"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Title"}),a.jsx("input",{type:"text",name:"title",value:o.title,onChange:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Leave blank to use product name"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{name:"description",required:!0,rows:4,value:o.description,onChange:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none",placeholder:"Describe your product..."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price () *"}),a.jsx("input",{type:"number",name:"price",required:!0,min:"0",step:"0.01",value:o.price,onChange:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"999"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Original Price ()"}),a.jsx("input",{type:"number",name:"originalPrice",min:"0",step:"0.01",value:o.originalPrice,onChange:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"1299"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity *"}),a.jsx("input",{type:"number",name:"stock",required:!0,min:"0",value:o.stock,onChange:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"50"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),a.jsxs("select",{name:"category",required:!0,value:o.category,onChange:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select a category"}),u.map(C=>a.jsx("option",{value:C,children:C},C))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),a.jsx("input",{type:"url",name:"imageUrl",value:o.imageUrl,onChange:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"https://example.com/image.jpg (leave blank for random sample)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Features"}),a.jsxs("div",{className:"space-y-2",children:[o.features.map((C,E)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:C,onChange:w=>j(E,w.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Feature description"}),a.jsx("button",{type:"button",onClick:()=>P(E),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",children:"Remove"})]},E)),a.jsx("button",{type:"button",onClick:x,className:"text-orange-500 hover:text-orange-600 text-sm font-medium",children:"+ Add Feature"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors duration-200",children:"Add Product"})]})]})]})})})})},i9=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!1),[s,i]=y.useState(""),[o,l]=y.useState(!1),[u,d]=y.useState(null);y.useEffect(()=>{h()},[]);const h=async()=>{r(!0);try{const j=await _n.getProducts();e(j)}catch(j){console.error("Error fetching products:",j),J.error("Failed to fetch products")}finally{r(!1)}},f=async j=>{if(confirm("Are you sure you want to delete this product?"))try{await _n.deleteProduct(j),e(t.filter(P=>P.id!==j)),J.success("Product deleted successfully")}catch(P){console.error("Error deleting product:",P),J.error("Failed to delete product")}},p=t.filter(j=>(j.title||j.name).toLowerCase().includes(s.toLowerCase())||j.category.toLowerCase().includes(s.toLowerCase())),x=j=>{d(j),l(!0)};return a.jsx(yu,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Products"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your product catalog"})]}),a.jsxs("button",{onClick:()=>{d(null),l(!0)},className:"bg-black text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-800 transition-colors",children:[a.jsx(K2,{className:"w-5 h-5"}),"Add Product"]})]}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:a.jsx("input",{type:"text",placeholder:"Search products...",value:s,onChange:j=>i(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black"})}),a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(j=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("img",{className:"h-10 w-10 rounded-lg object-cover",src:j.imageUrl,alt:j.title||j.name}),a.jsx("div",{className:"ml-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.title||j.name})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:j.category})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",j.price.toFixed(2)]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.stock}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>x(j),className:"text-indigo-600 hover:text-indigo-900",children:a.jsx(L3,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>f(j.id),className:"text-red-600 hover:text-red-900",disabled:n,children:a.jsx(Om,{className:"w-4 h-4"})})]})})]},j.id))})]})})}),a.jsx(s9,{isOpen:o,onClose:()=>l(!1),onProductAdded:h,productToEdit:u})]})})},o9=[{id:"ORD001",userId:"user1",items:[],total:89.99,status:"pending",customerInfo:{name:"John Smith",email:"john.smith@email.com",address:"123 Main St, New York, NY 10001",phone:"+1 (555) 123-4567"},createdAt:new Date("2025-01-10")},{id:"ORD002",userId:"user2",items:[],total:156.5,status:"shipped",customerInfo:{name:"Sarah Johnson",email:"sarah.johnson@email.com",address:"456 Oak Ave, Los Angeles, CA 90210",phone:"+1 (555) 987-6543"},createdAt:new Date("2025-01-09")},{id:"ORD003",userId:"user3",items:[],total:234.75,status:"shipped",customerInfo:{name:"Michael Chen",email:"michael.chen@email.com",address:"789 Pine St, Chicago, IL 60601",phone:"+1 (555) 456-7890"},createdAt:new Date("2025-01-08")},{id:"ORD004",userId:"user4",items:[],total:67.25,status:"delivered",customerInfo:{name:"Emily Davis",email:"emily.davis@email.com",address:"321 Elm Dr, Miami, FL 33101",phone:"+1 (555) 234-5678"},createdAt:new Date("2025-01-07")},{id:"ORD005",userId:"user5",items:[],total:178.9,status:"pending",customerInfo:{name:"David Wilson",email:"david.wilson@email.com",address:"654 Maple Ln, Seattle, WA 98101",phone:"+1 (555) 345-6789"},createdAt:new Date("2025-01-06")}],a9=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!1),[s,i]=y.useState("all");y.useEffect(()=>{o()},[]);const o=async()=>{r(!0);try{const h=VR(up(Pc,"orders"),DR("createdAt","desc")),p=(await $R(h)).docs.map(x=>{var j;return{id:x.id,...x.data(),createdAt:((j=x.data().createdAt)==null?void 0:j.toDate())||new Date}});e(p),J.success("Orders loaded successfully")}catch(h){console.error("Error fetching orders:",h),console.log("Using sample orders data as fallback"),e(o9),J.success("Loaded sample orders for demonstration")}finally{r(!1)}},l=async(h,f)=>{try{await zR(p5(Pc,"orders",h),{status:f}),e(t.map(p=>p.id===h?{...p,status:f}:p)),J.success(`Order ${f} successfully`)}catch(p){console.error("Error updating order:",p),J.error("Failed to update order")}},u=h=>{switch(h){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=t.filter(h=>s==="all"||h.status===s);return a.jsx(yu,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Orders"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage customer orders"})]}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:["all","pending","confirmed","shipped","delivered","cancelled"].map(h=>a.jsx("button",{onClick:()=>i(h),className:`px-4 py-2 rounded-lg text-sm font-medium capitalize ${s===h?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:h},h))})}),a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(h=>{var f,p;return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",h.id.slice(-8)]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:(f=h.customerInfo)==null?void 0:f.name}),a.jsx("div",{className:"text-sm text-gray-500",children:(p=h.customerInfo)==null?void 0:p.email})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.createdAt.toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",h.total.toFixed(2)]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${u(h.status)}`,children:h.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:a.jsx(br,{className:"w-4 h-4"})}),h.status==="pending"&&a.jsx("button",{onClick:()=>l(h.id,"confirmed"),className:"text-green-600 hover:text-green-900",children:a.jsx(i3,{className:"w-4 h-4"})}),h.status!=="cancelled"&&h.status!=="delivered"&&a.jsx("button",{onClick:()=>l(h.id,"cancelled"),className:"text-red-600 hover:text-red-900",children:a.jsx(pi,{className:"w-4 h-4"})})]})})]},h.id)})})]})})})]})})},l9=()=>{const{user:t}=Ur(),[e,n]=y.useState("profile"),[r,s]=y.useState({firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",email:(t==null?void 0:t.email)||"",phone:"",company:""}),i=[{id:"profile",name:"Profile",icon:Rn},{id:"notifications",name:"Notifications",icon:$2},{id:"security",name:"Security",icon:Lm},{id:"general",name:"General",icon:ru}],o=d=>{const{name:h,value:f}=d.target;s(p=>({...p,[h]:f}))},l=()=>{J.success("Profile updated successfully")},u=()=>{switch(e){case"profile":return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),a.jsx("input",{type:"text",name:"firstName",value:r.firstName,onChange:o,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{type:"text",name:"lastName",value:r.lastName,onChange:o,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:r.email,onChange:o,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:o,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{onClick:l,className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Save Changes"})})]})});case"notifications":return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Preferences"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Order Notifications"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when new orders are placed"})]}),a.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Receive email notifications for important updates"})]}),a.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Weekly Reports"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Get weekly sales and performance reports"})]}),a.jsx("input",{type:"checkbox",className:"rounded"})]})]})]})});case"security":return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Security Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsx("button",{className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Change Password"})}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Two-Factor Authentication"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Add an extra layer of security to your account"}),a.jsx("button",{className:"bg-gray-100 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"Enable 2FA"})]})]})]})});case"general":return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"General Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Name"}),a.jsx("input",{type:"text",defaultValue:"Modern E-Commerce",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),a.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black",children:[a.jsx("option",{value:"USD",children:"USD ($)"}),a.jsx("option",{value:"EUR",children:"EUR ()"}),a.jsx("option",{value:"GBP",children:"GBP ()"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Zone"}),a.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black",children:[a.jsx("option",{value:"UTC-5",children:"Eastern Time (UTC-5)"}),a.jsx("option",{value:"UTC-6",children:"Central Time (UTC-6)"}),a.jsx("option",{value:"UTC-7",children:"Mountain Time (UTC-7)"}),a.jsx("option",{value:"UTC-8",children:"Pacific Time (UTC-8)"})]})]})]})]})});default:return null}};return a.jsx(yu,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your account and application settings"})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsx("div",{className:"lg:w-64",children:a.jsx("nav",{className:"space-y-1",children:i.map(d=>{const h=d.icon;return a.jsxs("button",{onClick:()=>n(d.id),className:`w-full flex items-center px-4 py-2 text-sm font-medium rounded-lg ${e===d.id?"bg-black text-white":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(h,{className:"w-5 h-5 mr-3"}),d.name]},d.id)})})}),a.jsx("div",{className:"flex-1",children:a.jsx(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border p-6",children:u()},e)})]})]})})},xl=({children:t})=>{const{currentUser:e,loading:n}=Ur();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):!e||e.role!=="admin"?a.jsx(_N,{to:"/admin/login",replace:!0}):a.jsx(a.Fragment,{children:t})},c9=()=>a.jsx(P4,{children:a.jsx(j4,{children:a.jsx(T4,{children:a.jsx(C4,{children:a.jsx(AN,{children:a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[a.jsx(s6,{}),a.jsx("main",{className:"flex-1",children:a.jsxs(EN,{children:[a.jsx(je,{path:"/",element:a.jsx(l6,{})}),a.jsx(je,{path:"/products",element:a.jsx(c6,{})}),a.jsx(je,{path:"/products/:id",element:a.jsx(u6,{})}),a.jsx(je,{path:"/categories",element:a.jsx(d6,{})}),a.jsx(je,{path:"/candles-subcategories",element:a.jsx(h6,{})}),a.jsx(je,{path:"/new-arrivals",element:a.jsx(YR,{})}),a.jsx(je,{path:"/sale",element:a.jsx(XR,{})}),a.jsx(je,{path:"/trending",element:a.jsx(JR,{})}),a.jsx(je,{path:"/gifts",element:a.jsx(ZR,{})}),a.jsx(je,{path:"/featured",element:a.jsx(e9,{})}),a.jsx(je,{path:"/bestsellers",element:a.jsx(t9,{})}),a.jsx(je,{path:"/cart",element:a.jsx(f6,{})}),a.jsx(je,{path:"/wishlist",element:a.jsx(m6,{})}),a.jsx(je,{path:"/checkout",element:a.jsx(HR,{})}),a.jsx(je,{path:"/contact",element:a.jsx(qR,{})}),a.jsx(je,{path:"/user/login",element:a.jsx(GR,{})}),a.jsx(je,{path:"/user/register",element:a.jsx(KR,{})}),a.jsx(je,{path:"/user/dashboard",element:a.jsx(QR,{})}),a.jsx(je,{path:"/admin/login",element:a.jsx(n9,{})}),a.jsx(je,{path:"/admin/dashboard",element:a.jsx(xl,{children:a.jsx(r9,{})})}),a.jsx(je,{path:"/admin/products",element:a.jsx(xl,{children:a.jsx(i9,{})})}),a.jsx(je,{path:"/admin/orders",element:a.jsx(xl,{children:a.jsx(a9,{})})}),a.jsx(je,{path:"/admin/settings",element:a.jsx(xl,{children:a.jsx(l9,{})})})]})}),a.jsx(i6,{}),a.jsx(E4,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"}}})]})})})})})});Ld.createRoot(document.getElementById("root")).render(a.jsx(Vr.StrictMode,{children:a.jsx(c9,{})}));
